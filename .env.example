# ComfyUI Multi-User Workshop Platform Configuration
# Copy this file to .env and update with your values

# ============================================================================
# DOMAIN & SSL CONFIGURATION
# ============================================================================
DOMAIN=workshop.example.com
SSL_CERT_PATH=/path/to/fullchain.pem
SSL_KEY_PATH=/path/to/privkey.pem

# ============================================================================
# INFERENCE PROVIDER CONFIGURATION
# ============================================================================
# Supported providers: verda, runpod, modal, local
INFERENCE_PROVIDER=verda

# Verda Configuration (https://verda.com)
VERDA_API_KEY=
VERDA_INSTANCE_TYPE=h100-sxm5
VERDA_REGION=eu-central

# RunPod Configuration (https://runpod.io)
RUNPOD_API_KEY=
RUNPOD_GPU_TYPE=NVIDIA H100
RUNPOD_TEMPLATE_ID=

# Modal Configuration (https://modal.com)
MODAL_TOKEN_ID=
MODAL_TOKEN_SECRET=

# Local Configuration (for development/testing)
LOCAL_GPU_DEVICE=0

# ============================================================================
# USER CONFIGURATION
# ============================================================================
NUM_USERS=20
# User ID format: user001, user002, etc.
USER_ID_PREFIX=user

# ============================================================================
# WORKER CONFIGURATION
# ============================================================================
NUM_WORKERS=1
WORKER_GPU_MEMORY_LIMIT=70G
# Worker restart policy: no, on-failure, always, unless-stopped
WORKER_RESTART_POLICY=unless-stopped

# ============================================================================
# QUEUE CONFIGURATION
# ============================================================================
# Queue mode: fifo, round-robin, priority
QUEUE_MODE=fifo
ENABLE_PRIORITY=true
# Maximum job execution time (seconds)
JOB_TIMEOUT=3600
# Maximum queue depth (0 = unlimited)
MAX_QUEUE_DEPTH=100

# ============================================================================
# REDIS CONFIGURATION
# ============================================================================
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_PASSWORD=changeme_secure_password
# Redis persistence: yes, no
REDIS_PERSISTENCE=yes

# ============================================================================
# QUEUE MANAGER SERVICE
# ============================================================================
QUEUE_MANAGER_HOST=queue-manager
QUEUE_MANAGER_PORT=3000
# Log level: DEBUG, INFO, WARNING, ERROR
QUEUE_MANAGER_LOG_LEVEL=INFO

# ============================================================================
# NGINX CONFIGURATION
# ============================================================================
NGINX_HTTP_PORT=80
NGINX_HTTPS_PORT=443
# Client max body size (for uploads)
NGINX_CLIENT_MAX_BODY_SIZE=500M

# ============================================================================
# ADMIN DASHBOARD
# ============================================================================
ADMIN_PORT=8080
# Admin authentication (optional)
ADMIN_USERNAME=admin
ADMIN_PASSWORD=changeme_admin_password

# ============================================================================
# STORAGE PATHS (Host Volumes)
# ============================================================================
# Paths are relative to docker-compose.yml location
MODELS_PATH=./data/models
OUTPUTS_PATH=./data/outputs
INPUTS_PATH=./data/inputs
WORKFLOWS_PATH=./data/workflows

# ============================================================================
# COMFYUI CONFIGURATION
# ============================================================================
# ComfyUI version/tag
COMFYUI_VERSION=latest
# ComfyUI listen port (internal)
COMFYUI_PORT=8188

# ============================================================================
# DEVELOPMENT / DEBUGGING
# ============================================================================
# Set to 'true' for development mode
DEBUG=false
# Enable verbose logging
VERBOSE_LOGS=false

# ============================================================================
# WORKSHOP SPECIFIC
# ============================================================================
# Pre-load these models on startup (comma-separated)
PRELOAD_MODELS=
# Workshop start time (for scheduling, optional)
WORKSHOP_START_TIME=
# Workshop duration (hours)
WORKSHOP_DURATION=8
