/home/dev/projects/comfyui/test_venv/lib/python3.12/site-packages/pytest_asyncio/plugin.py:208: PytestDeprecationWarning: The configuration option "asyncio_default_fixture_loop_scope" is unset.
The event loop scope for asynchronous fixtures will default to the fixture caching scope. Future versions of pytest-asyncio will default the loop scope for asynchronous fixtures to function scope. Set the default fixture loop scope explicitly in order to avoid unexpected behavior in the future. Valid fixture loop scopes are: "function", "class", "module", "package", "session"

  warnings.warn(PytestDeprecationWarning(_DEFAULT_FIXTURE_LOOP_SCOPE_UNSET))
============================= test session starts ==============================
platform linux -- Python 3.12.3, pytest-8.3.4, pluggy-1.6.0 -- /home/dev/projects/comfyui/test_venv/bin/python3
cachedir: .pytest_cache
rootdir: /home/dev/projects/comfyui
plugins: anyio-4.12.0, mock-3.14.0, asyncio-0.24.0, cov-6.0.0
asyncio: mode=Mode.STRICT, default_loop_scope=None
collecting ... collected 161 items

tests/test_models.py::TestJobStatus::test_job_status_values PASSED       [  0%]
tests/test_models.py::TestJobStatus::test_job_status_creation PASSED     [  1%]
tests/test_models.py::TestJobPriority::test_job_priority_ordering PASSED [  1%]
tests/test_models.py::TestJobPriority::test_job_priority_comparison PASSED [  2%]
tests/test_models.py::TestQueueMode::test_queue_mode_values PASSED       [  3%]
tests/test_models.py::TestJobModel::test_job_creation PASSED             [  3%]
tests/test_models.py::TestJobModel::test_job_default_id_generation PASSED [  4%]
tests/test_models.py::TestJobModel::test_job_default_priority PASSED     [  4%]
tests/test_models.py::TestJobModel::test_job_default_status PASSED       [  5%]
tests/test_models.py::TestJobModel::test_job_serialization PASSED        [  6%]
tests/test_models.py::TestJobModel::test_job_deserialization PASSED      [  6%]
tests/test_models.py::TestJobSubmitRequest::test_valid_submission PASSED [  7%]
tests/test_models.py::TestJobSubmitRequest::test_user_id_validation_valid_formats PASSED [  8%]
tests/test_models.py::TestJobSubmitRequest::test_user_id_validation_invalid_formats PASSED [  8%]
tests/test_models.py::TestJobSubmitRequest::test_workflow_empty_validation PASSED [  9%]
tests/test_models.py::TestJobSubmitRequest::test_workflow_non_dict_validation PASSED [  9%]
tests/test_models.py::TestJobSubmitRequest::test_workflow_size_validation_under_limit PASSED [ 10%]
tests/test_models.py::TestJobSubmitRequest::test_workflow_size_validation_over_limit PASSED [ 11%]
tests/test_models.py::TestJobSubmitRequest::test_metadata_size_validation_over_limit PASSED [ 11%]
tests/test_models.py::TestJobSubmitRequest::test_priority_validation PASSED [ 12%]
tests/test_models.py::TestJobSubmitRequest::test_default_priority PASSED [ 13%]
tests/test_models.py::TestJobSubmitRequest::test_metadata_default_empty PASSED [ 13%]
tests/test_models.py::TestJobCompletionRequest::test_valid_completion PASSED [ 14%]
tests/test_models.py::TestJobCompletionRequest::test_result_validation_non_dict PASSED [ 14%]
tests/test_models.py::TestJobCompletionRequest::test_result_size_validation_under_limit PASSED [ 15%]
tests/test_models.py::TestJobCompletionRequest::test_result_size_validation_over_limit PASSED [ 16%]
tests/test_models.py::TestJobCompletionRequest::test_result_with_complex_structure PASSED [ 16%]
tests/test_models.py::TestJobFailureRequest::test_valid_failure PASSED   [ 17%]
tests/test_models.py::TestJobFailureRequest::test_error_empty_validation PASSED [ 18%]
tests/test_models.py::TestJobFailureRequest::test_error_whitespace_only_validation PASSED [ 18%]
tests/test_models.py::TestJobFailureRequest::test_error_size_validation_under_limit PASSED [ 19%]
tests/test_models.py::TestJobFailureRequest::test_error_size_validation_over_limit PASSED [ 19%]
tests/test_models.py::TestJobFailureRequest::test_error_whitespace_stripping PASSED [ 20%]
tests/test_models.py::TestJobResponse::test_job_response_creation PASSED [ 21%]
tests/test_models.py::TestJobResponse::test_job_response_with_estimated_wait_time PASSED [ 21%]
tests/test_models.py::TestQueueStatus::test_queue_status_creation PASSED [ 22%]
tests/test_models.py::TestHealthCheck::test_health_check_healthy PASSED  [ 22%]
tests/test_models.py::TestHealthCheck::test_health_check_unhealthy PASSED [ 23%]
tests/test_models.py::TestWorkerStatus::test_worker_status_creation PASSED [ 24%]
tests/test_models.py::TestWorkerStatus::test_worker_status_with_gpu_info PASSED [ 24%]
tests/test_models.py::TestDatetimeSerialization::test_job_datetime_serialization PASSED [ 25%]
tests/test_models.py::TestDatetimeSerialization::test_job_response_datetime_serialization PASSED [ 26%]
tests/test_queue_manager.py::TestHealthEndpoint::test_health_check_healthy FAILED [ 26%]
tests/test_queue_manager.py::TestHealthEndpoint::test_health_check_unhealthy FAILED [ 27%]
tests/test_queue_manager.py::TestHealthEndpoint::test_health_check_response_format FAILED [ 27%]
tests/test_queue_manager.py::TestQueueStatusEndpoint::test_queue_status_success FAILED [ 28%]
tests/test_queue_manager.py::TestQueueStatusEndpoint::test_queue_status_error_handling FAILED [ 29%]
tests/test_queue_manager.py::TestJobSubmissionEndpoint::test_submit_job_success FAILED [ 29%]
tests/test_queue_manager.py::TestJobSubmissionEndpoint::test_submit_job_invalid_user_id FAILED [ 30%]
tests/test_queue_manager.py::TestJobSubmissionEndpoint::test_submit_job_empty_workflow FAILED [ 31%]
tests/test_queue_manager.py::TestJobSubmissionEndpoint::test_submit_job_queue_full FAILED [ 31%]
tests/test_queue_manager.py::TestGetJobEndpoint::test_get_job_success FAILED [ 32%]
tests/test_queue_manager.py::TestGetJobEndpoint::test_get_job_not_found FAILED [ 32%]
tests/test_queue_manager.py::TestListJobsEndpoint::test_list_all_jobs FAILED [ 33%]
tests/test_queue_manager.py::TestListJobsEndpoint::test_list_user_jobs FAILED [ 34%]
tests/test_queue_manager.py::TestListJobsEndpoint::test_list_jobs_with_limit FAILED [ 34%]
tests/test_queue_manager.py::TestListJobsEndpoint::test_list_jobs_with_status_filter FAILED [ 35%]
tests/test_queue_manager.py::TestCancelJobEndpoint::test_cancel_pending_job FAILED [ 36%]
tests/test_queue_manager.py::TestCancelJobEndpoint::test_cancel_running_job FAILED [ 36%]
tests/test_queue_manager.py::TestCancelJobEndpoint::test_cancel_completed_job_error FAILED [ 37%]
tests/test_queue_manager.py::TestCancelJobEndpoint::test_cancel_nonexistent_job FAILED [ 37%]
tests/test_queue_manager.py::TestPriorityUpdateEndpoint::test_update_job_priority_success FAILED [ 38%]
tests/test_queue_manager.py::TestPriorityUpdateEndpoint::test_update_priority_running_job_error FAILED [ 39%]
tests/test_queue_manager.py::TestPriorityUpdateEndpoint::test_update_priority_nonexistent_job FAILED [ 39%]
tests/test_queue_manager.py::TestWorkerEndpoints::test_get_next_job_success FAILED [ 40%]
tests/test_queue_manager.py::TestWorkerEndpoints::test_get_next_job_empty_queue FAILED [ 40%]
tests/test_queue_manager.py::TestWorkerEndpoints::test_complete_job_success FAILED [ 41%]
tests/test_queue_manager.py::TestWorkerEndpoints::test_complete_job_not_found FAILED [ 42%]
tests/test_queue_manager.py::TestWorkerEndpoints::test_fail_job_success FAILED [ 42%]
tests/test_queue_manager.py::TestWorkerEndpoints::test_fail_job_invalid_error_message FAILED [ 43%]
tests/test_queue_manager.py::TestCORSConfiguration::test_cors_allowed_origin FAILED [ 44%]
tests/test_queue_manager.py::TestCORSConfiguration::test_options_request FAILED [ 44%]
tests/test_queue_manager.py::TestErrorHandling::test_invalid_request_body FAILED [ 45%]
tests/test_queue_manager.py::TestErrorHandling::test_missing_required_fields FAILED [ 45%]
tests/test_queue_manager.py::TestErrorHandling::test_method_not_allowed FAILED [ 46%]
tests/test_redis_client.py::TestRedisClientConnection::test_redis_client_initialization FAILED [ 47%]
tests/test_redis_client.py::TestRedisClientConnection::test_ping_success ERROR [ 47%]
tests/test_redis_client.py::TestRedisClientConnection::test_ping_failure ERROR [ 48%]
tests/test_redis_client.py::TestJobCRUDOperations::test_create_job_success ERROR [ 49%]
tests/test_redis_client.py::TestJobCRUDOperations::test_create_job_redis_error ERROR [ 49%]
tests/test_redis_client.py::TestJobCRUDOperations::test_get_job_success ERROR [ 50%]
tests/test_redis_client.py::TestJobCRUDOperations::test_get_job_not_found ERROR [ 50%]
tests/test_redis_client.py::TestJobCRUDOperations::test_get_job_invalid_json ERROR [ 51%]
tests/test_redis_client.py::TestJobCRUDOperations::test_update_job_success ERROR [ 52%]
tests/test_redis_client.py::TestJobCRUDOperations::test_delete_job_success ERROR [ 52%]
tests/test_redis_client.py::TestJobCRUDOperations::test_delete_job_not_found ERROR [ 53%]
tests/test_redis_client.py::TestQueueOperations::test_get_queue_depth ERROR [ 54%]
tests/test_redis_client.py::TestQueueOperations::test_get_queue_depth_error ERROR [ 54%]
tests/test_redis_client.py::TestQueueOperations::test_get_all_queue_stats ERROR [ 55%]
tests/test_redis_client.py::TestQueueOperations::test_get_pending_jobs ERROR [ 55%]
tests/test_redis_client.py::TestQueueOperations::test_get_user_jobs ERROR [ 56%]
tests/test_redis_client.py::TestJobStateTransitions::test_move_job_to_running ERROR [ 57%]
tests/test_redis_client.py::TestJobStateTransitions::test_move_job_to_completed ERROR [ 57%]
tests/test_redis_client.py::TestJobStateTransitions::test_move_job_to_failed ERROR [ 58%]
tests/test_redis_client.py::TestJobStateTransitions::test_move_job_nonexistent ERROR [ 59%]
tests/test_redis_client.py::TestQueueModes::test_get_next_job_fifo_mode ERROR [ 59%]
tests/test_redis_client.py::TestQueueModes::test_get_next_job_fifo_no_jobs ERROR [ 60%]
tests/test_redis_client.py::TestQueueModes::test_get_next_job_priority_mode ERROR [ 60%]
tests/test_redis_client.py::TestWorkerHeartbeat::test_update_worker_heartbeat ERROR [ 61%]
tests/test_redis_client.py::TestWorkerHeartbeat::test_is_worker_alive_true ERROR [ 62%]
tests/test_redis_client.py::TestWorkerHeartbeat::test_is_worker_alive_false ERROR [ 62%]
tests/test_redis_client.py::TestPriorityScoring::test_priority_score_ordering ERROR [ 63%]
tests/test_redis_client.py::TestCleanupOperations::test_cleanup_stale_jobs ERROR [ 63%]
tests/test_redis_client.py::TestPubSubOperations::test_publish_event ERROR [ 64%]
tests/test_redis_client.py::TestPubSubOperations::test_subscribe_to_updates ERROR [ 65%]
tests/test_redis_client.py::TestAtomicOperations::test_move_job_atomic ERROR [ 65%]
tests/test_websocket_manager.py::TestWebSocketConnectionManagement::test_connect_new_websocket ERROR [ 66%]
tests/test_websocket_manager.py::TestWebSocketConnectionManagement::test_disconnect_websocket ERROR [ 67%]
tests/test_websocket_manager.py::TestWebSocketConnectionManagement::test_disconnect_nonexistent_websocket ERROR [ 67%]
tests/test_websocket_manager.py::TestWebSocketConnectionManagement::test_multiple_connections ERROR [ 68%]
tests/test_websocket_manager.py::TestBroadcasting::test_broadcast_to_all_clients ERROR [ 68%]
tests/test_websocket_manager.py::TestBroadcasting::test_broadcast_message_format ERROR [ 69%]
tests/test_websocket_manager.py::TestBroadcasting::test_broadcast_to_empty_connections ERROR [ 70%]
tests/test_websocket_manager.py::TestBroadcasting::test_broadcast_handles_disconnected_client ERROR [ 70%]
tests/test_websocket_manager.py::TestMessageTypes::test_broadcast_job_status_update ERROR [ 71%]
tests/test_websocket_manager.py::TestMessageTypes::test_broadcast_queue_status_update ERROR [ 72%]
tests/test_websocket_manager.py::TestMessageTypes::test_broadcast_worker_status_update ERROR [ 72%]
tests/test_websocket_manager.py::TestPubSubListener::test_listener_initialization ERROR [ 73%]
tests/test_websocket_manager.py::TestPubSubListener::test_listener_reconnection_logic ERROR [ 73%]
tests/test_websocket_manager.py::TestMessageBroadcastFromPubSub::test_pubsub_message_forwarding ERROR [ 74%]
tests/test_websocket_manager.py::TestConnectionErrorHandling::test_broadcast_with_send_error ERROR [ 75%]
tests/test_websocket_manager.py::TestConnectionErrorHandling::test_connection_cleanup ERROR [ 75%]
tests/test_websocket_manager.py::TestConcurrency::test_concurrent_connections ERROR [ 76%]
tests/test_websocket_manager.py::TestConcurrency::test_concurrent_broadcasts ERROR [ 77%]
tests/test_websocket_manager.py::TestConcurrency::test_concurrent_connect_disconnect ERROR [ 77%]
tests/test_websocket_manager.py::TestPubSubListenerErrorHandling::test_listener_decode_error ERROR [ 78%]
tests/test_websocket_manager.py::TestPubSubListenerErrorHandling::test_listener_closes_pubsub_on_exit ERROR [ 78%]
tests/test_websocket_manager.py::TestWebSocketMessageStructure::test_message_with_required_fields ERROR [ 79%]
tests/test_websocket_manager.py::TestWebSocketMessageStructure::test_message_with_empty_data ERROR [ 80%]
tests/test_worker.py::TestWorkerJobPolling::test_worker_poll_gets_next_job PASSED [ 80%]
tests/test_worker.py::TestWorkerJobPolling::test_worker_poll_empty_queue PASSED [ 81%]
tests/test_worker.py::TestWorkerJobPolling::test_worker_heartbeat_on_poll PASSED [ 81%]
tests/test_worker.py::TestWorkerJobExecution::test_worker_start_job_execution PASSED [ 82%]
tests/test_worker.py::TestWorkerJobExecution::test_worker_complete_job_success PASSED [ 83%]
tests/test_worker.py::TestWorkerJobExecution::test_worker_fail_job PASSED [ 83%]
tests/test_worker.py::TestWorkerHeartbeat::test_worker_heartbeat_interval PASSED [ 84%]
tests/test_worker.py::TestWorkerHeartbeat::test_worker_heartbeat_failure_handling PASSED [ 85%]
tests/test_worker.py::TestWorkerHeartbeat::test_check_worker_alive PASSED [ 85%]
tests/test_worker.py::TestWorkerHeartbeat::test_check_worker_dead PASSED [ 86%]
tests/test_worker.py::TestWorkerErrorHandling::test_worker_handles_invalid_job PASSED [ 86%]
tests/test_worker.py::TestWorkerErrorHandling::test_worker_handles_job_execution_error PASSED [ 87%]
tests/test_worker.py::TestWorkerErrorHandling::test_worker_handles_redis_connection_error PASSED [ 88%]
tests/test_worker.py::TestWorkerJobPriority::test_worker_gets_high_priority_job_first PASSED [ 88%]
tests/test_worker.py::TestWorkerJobPriority::test_worker_gets_instructor_override_job PASSED [ 89%]
tests/test_worker.py::TestWorkerConcurrency::test_multiple_workers_no_race_condition PASSED [ 90%]
tests/test_worker.py::TestWorkerConcurrency::test_multiple_workers_concurrent_heartbeats PASSED [ 90%]
tests/test_worker.py::TestWorkerMetadata::test_worker_preserves_job_metadata PASSED [ 91%]
tests/test_worker.py::TestWorkerMetadata::test_worker_includes_metadata_in_result PASSED [ 91%]
tests/test_worker.py::TestWorkerJobTimeout::test_stale_job_cleanup PASSED [ 92%]
tests/test_worker.py::TestWorkerJobTimeout::test_long_running_job_timeout PASSED [ 93%]
tests/test_worker.py::TestWorkerUserIsolation::test_job_has_user_id PASSED [ 93%]
tests/test_worker.py::TestWorkerUserIsolation::test_user_jobs_only_their_own PASSED [ 94%]
tests/test_worker.py::TestWorkerLoadBalancing::test_round_robin_distribution PASSED [ 95%]
tests/test_worker.py::TestWorkerStatusTracking::test_worker_idle_status PASSED [ 95%]
tests/test_worker.py::TestWorkerStatusTracking::test_worker_busy_status PASSED [ 96%]
tests/test_worker.py::TestWorkerJobCompletion::test_successful_job_completion_workflow PASSED [ 96%]
tests/test_worker.py::TestWorkerJobCompletion::test_failed_job_workflow PASSED [ 97%]
tests/test_worker.py::TestWorkerRestarts::test_worker_recovery_after_restart PASSED [ 98%]
tests/test_worker.py::TestWorkerRestarts::test_stale_worker_jobs_marked_failed PASSED [ 98%]
tests/test_worker.py::TestWorkerWorkflowExecution::test_worker_has_workflow_data PASSED [ 99%]
tests/test_worker.py::TestWorkerWorkflowExecution::test_large_workflow_handling PASSED [100%]

==================================== ERRORS ====================================
________ ERROR at setup of TestRedisClientConnection.test_ping_success _________
tests/test_redis_client.py:19: in redis_client_with_mock
    with patch('redis_client.Redis', return_value=mock_redis):
/usr/lib/python3.12/unittest/mock.py:1442: in __enter__
    self.target = self.getter()
/usr/lib/python3.12/pkgutil.py:513: in resolve_name
    mod = importlib.import_module(modname)
/usr/lib/python3.12/importlib/__init__.py:90: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
<frozen importlib._bootstrap>:1387: in _gcd_import
    ???
<frozen importlib._bootstrap>:1360: in _find_and_load
    ???
<frozen importlib._bootstrap>:1331: in _find_and_load_unlocked
    ???
<frozen importlib._bootstrap>:935: in _load_unlocked
    ???
<frozen importlib._bootstrap_external>:995: in exec_module
    ???
<frozen importlib._bootstrap>:488: in _call_with_frames_removed
    ???
queue-manager/redis_client.py:11: in <module>
    from config import settings
queue-manager/config.py:51: in <module>
    settings = Settings()
test_venv/lib/python3.12/site-packages/pydantic_settings/main.py:194: in __init__
    super().__init__(
E   pydantic_core._pydantic_core.ValidationError: 23 validation errors for Settings
E   domain
E     Extra inputs are not permitted [type=extra_forbidden, input_value='comfy.ahelme.net', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   ssl_cert_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='/etc/letsencrypt/live/ahelme.net/fullchain.pem', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   ssl_key_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='/etc/letsencrypt/live/ahelme.net/privkey.pem', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   verda_instance_type
E     Extra inputs are not permitted [type=extra_forbidden, input_value='h100-sxm5', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   verda_region
E     Extra inputs are not permitted [type=extra_forbidden, input_value='eu-central', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   num_users
E     Extra inputs are not permitted [type=extra_forbidden, input_value='20', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   user_id_prefix
E     Extra inputs are not permitted [type=extra_forbidden, input_value='user', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   worker_gpu_memory_limit
E     Extra inputs are not permitted [type=extra_forbidden, input_value='70G', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   worker_restart_policy
E     Extra inputs are not permitted [type=extra_forbidden, input_value='unless-stopped', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   redis_persistence
E     Extra inputs are not permitted [type=extra_forbidden, input_value='yes', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   queue_manager_host
E     Extra inputs are not permitted [type=extra_forbidden, input_value='queue-manager', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   queue_manager_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='3000', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   queue_manager_log_level
E     Extra inputs are not permitted [type=extra_forbidden, input_value='INFO', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   admin_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='8080', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   admin_username
E     Extra inputs are not permitted [type=extra_forbidden, input_value='admin', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   admin_password
E     Extra inputs are not permitted [type=extra_forbidden, input_value='change_me_secure_password', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   nginx_http_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='80', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   nginx_https_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='443', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   models_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='./data/models', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   workflows_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='./data/workflows', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   comfyui_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='8188', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   comfyui_version
E     Extra inputs are not permitted [type=extra_forbidden, input_value='latest', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   verbose_logs
E     Extra inputs are not permitted [type=extra_forbidden, input_value='false', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
________ ERROR at setup of TestRedisClientConnection.test_ping_failure _________
tests/test_redis_client.py:19: in redis_client_with_mock
    with patch('redis_client.Redis', return_value=mock_redis):
/usr/lib/python3.12/unittest/mock.py:1442: in __enter__
    self.target = self.getter()
/usr/lib/python3.12/pkgutil.py:513: in resolve_name
    mod = importlib.import_module(modname)
/usr/lib/python3.12/importlib/__init__.py:90: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
<frozen importlib._bootstrap>:1387: in _gcd_import
    ???
<frozen importlib._bootstrap>:1360: in _find_and_load
    ???
<frozen importlib._bootstrap>:1331: in _find_and_load_unlocked
    ???
<frozen importlib._bootstrap>:935: in _load_unlocked
    ???
<frozen importlib._bootstrap_external>:995: in exec_module
    ???
<frozen importlib._bootstrap>:488: in _call_with_frames_removed
    ???
queue-manager/redis_client.py:11: in <module>
    from config import settings
queue-manager/config.py:51: in <module>
    settings = Settings()
test_venv/lib/python3.12/site-packages/pydantic_settings/main.py:194: in __init__
    super().__init__(
E   pydantic_core._pydantic_core.ValidationError: 23 validation errors for Settings
E   domain
E     Extra inputs are not permitted [type=extra_forbidden, input_value='comfy.ahelme.net', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   ssl_cert_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='/etc/letsencrypt/live/ahelme.net/fullchain.pem', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   ssl_key_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='/etc/letsencrypt/live/ahelme.net/privkey.pem', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   verda_instance_type
E     Extra inputs are not permitted [type=extra_forbidden, input_value='h100-sxm5', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   verda_region
E     Extra inputs are not permitted [type=extra_forbidden, input_value='eu-central', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   num_users
E     Extra inputs are not permitted [type=extra_forbidden, input_value='20', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   user_id_prefix
E     Extra inputs are not permitted [type=extra_forbidden, input_value='user', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   worker_gpu_memory_limit
E     Extra inputs are not permitted [type=extra_forbidden, input_value='70G', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   worker_restart_policy
E     Extra inputs are not permitted [type=extra_forbidden, input_value='unless-stopped', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   redis_persistence
E     Extra inputs are not permitted [type=extra_forbidden, input_value='yes', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   queue_manager_host
E     Extra inputs are not permitted [type=extra_forbidden, input_value='queue-manager', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   queue_manager_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='3000', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   queue_manager_log_level
E     Extra inputs are not permitted [type=extra_forbidden, input_value='INFO', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   admin_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='8080', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   admin_username
E     Extra inputs are not permitted [type=extra_forbidden, input_value='admin', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   admin_password
E     Extra inputs are not permitted [type=extra_forbidden, input_value='change_me_secure_password', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   nginx_http_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='80', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   nginx_https_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='443', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   models_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='./data/models', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   workflows_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='./data/workflows', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   comfyui_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='8188', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   comfyui_version
E     Extra inputs are not permitted [type=extra_forbidden, input_value='latest', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   verbose_logs
E     Extra inputs are not permitted [type=extra_forbidden, input_value='false', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
_______ ERROR at setup of TestJobCRUDOperations.test_create_job_success ________
tests/test_redis_client.py:19: in redis_client_with_mock
    with patch('redis_client.Redis', return_value=mock_redis):
/usr/lib/python3.12/unittest/mock.py:1442: in __enter__
    self.target = self.getter()
/usr/lib/python3.12/pkgutil.py:513: in resolve_name
    mod = importlib.import_module(modname)
/usr/lib/python3.12/importlib/__init__.py:90: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
<frozen importlib._bootstrap>:1387: in _gcd_import
    ???
<frozen importlib._bootstrap>:1360: in _find_and_load
    ???
<frozen importlib._bootstrap>:1331: in _find_and_load_unlocked
    ???
<frozen importlib._bootstrap>:935: in _load_unlocked
    ???
<frozen importlib._bootstrap_external>:995: in exec_module
    ???
<frozen importlib._bootstrap>:488: in _call_with_frames_removed
    ???
queue-manager/redis_client.py:11: in <module>
    from config import settings
queue-manager/config.py:51: in <module>
    settings = Settings()
test_venv/lib/python3.12/site-packages/pydantic_settings/main.py:194: in __init__
    super().__init__(
E   pydantic_core._pydantic_core.ValidationError: 23 validation errors for Settings
E   domain
E     Extra inputs are not permitted [type=extra_forbidden, input_value='comfy.ahelme.net', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   ssl_cert_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='/etc/letsencrypt/live/ahelme.net/fullchain.pem', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   ssl_key_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='/etc/letsencrypt/live/ahelme.net/privkey.pem', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   verda_instance_type
E     Extra inputs are not permitted [type=extra_forbidden, input_value='h100-sxm5', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   verda_region
E     Extra inputs are not permitted [type=extra_forbidden, input_value='eu-central', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   num_users
E     Extra inputs are not permitted [type=extra_forbidden, input_value='20', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   user_id_prefix
E     Extra inputs are not permitted [type=extra_forbidden, input_value='user', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   worker_gpu_memory_limit
E     Extra inputs are not permitted [type=extra_forbidden, input_value='70G', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   worker_restart_policy
E     Extra inputs are not permitted [type=extra_forbidden, input_value='unless-stopped', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   redis_persistence
E     Extra inputs are not permitted [type=extra_forbidden, input_value='yes', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   queue_manager_host
E     Extra inputs are not permitted [type=extra_forbidden, input_value='queue-manager', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   queue_manager_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='3000', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   queue_manager_log_level
E     Extra inputs are not permitted [type=extra_forbidden, input_value='INFO', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   admin_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='8080', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   admin_username
E     Extra inputs are not permitted [type=extra_forbidden, input_value='admin', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   admin_password
E     Extra inputs are not permitted [type=extra_forbidden, input_value='change_me_secure_password', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   nginx_http_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='80', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   nginx_https_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='443', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   models_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='./data/models', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   workflows_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='./data/workflows', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   comfyui_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='8188', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   comfyui_version
E     Extra inputs are not permitted [type=extra_forbidden, input_value='latest', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   verbose_logs
E     Extra inputs are not permitted [type=extra_forbidden, input_value='false', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
_____ ERROR at setup of TestJobCRUDOperations.test_create_job_redis_error ______
tests/test_redis_client.py:19: in redis_client_with_mock
    with patch('redis_client.Redis', return_value=mock_redis):
/usr/lib/python3.12/unittest/mock.py:1442: in __enter__
    self.target = self.getter()
/usr/lib/python3.12/pkgutil.py:513: in resolve_name
    mod = importlib.import_module(modname)
/usr/lib/python3.12/importlib/__init__.py:90: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
<frozen importlib._bootstrap>:1387: in _gcd_import
    ???
<frozen importlib._bootstrap>:1360: in _find_and_load
    ???
<frozen importlib._bootstrap>:1331: in _find_and_load_unlocked
    ???
<frozen importlib._bootstrap>:935: in _load_unlocked
    ???
<frozen importlib._bootstrap_external>:995: in exec_module
    ???
<frozen importlib._bootstrap>:488: in _call_with_frames_removed
    ???
queue-manager/redis_client.py:11: in <module>
    from config import settings
queue-manager/config.py:51: in <module>
    settings = Settings()
test_venv/lib/python3.12/site-packages/pydantic_settings/main.py:194: in __init__
    super().__init__(
E   pydantic_core._pydantic_core.ValidationError: 23 validation errors for Settings
E   domain
E     Extra inputs are not permitted [type=extra_forbidden, input_value='comfy.ahelme.net', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   ssl_cert_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='/etc/letsencrypt/live/ahelme.net/fullchain.pem', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   ssl_key_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='/etc/letsencrypt/live/ahelme.net/privkey.pem', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   verda_instance_type
E     Extra inputs are not permitted [type=extra_forbidden, input_value='h100-sxm5', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   verda_region
E     Extra inputs are not permitted [type=extra_forbidden, input_value='eu-central', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   num_users
E     Extra inputs are not permitted [type=extra_forbidden, input_value='20', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   user_id_prefix
E     Extra inputs are not permitted [type=extra_forbidden, input_value='user', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   worker_gpu_memory_limit
E     Extra inputs are not permitted [type=extra_forbidden, input_value='70G', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   worker_restart_policy
E     Extra inputs are not permitted [type=extra_forbidden, input_value='unless-stopped', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   redis_persistence
E     Extra inputs are not permitted [type=extra_forbidden, input_value='yes', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   queue_manager_host
E     Extra inputs are not permitted [type=extra_forbidden, input_value='queue-manager', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   queue_manager_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='3000', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   queue_manager_log_level
E     Extra inputs are not permitted [type=extra_forbidden, input_value='INFO', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   admin_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='8080', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   admin_username
E     Extra inputs are not permitted [type=extra_forbidden, input_value='admin', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   admin_password
E     Extra inputs are not permitted [type=extra_forbidden, input_value='change_me_secure_password', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   nginx_http_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='80', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   nginx_https_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='443', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   models_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='./data/models', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   workflows_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='./data/workflows', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   comfyui_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='8188', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   comfyui_version
E     Extra inputs are not permitted [type=extra_forbidden, input_value='latest', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   verbose_logs
E     Extra inputs are not permitted [type=extra_forbidden, input_value='false', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
_________ ERROR at setup of TestJobCRUDOperations.test_get_job_success _________
tests/test_redis_client.py:19: in redis_client_with_mock
    with patch('redis_client.Redis', return_value=mock_redis):
/usr/lib/python3.12/unittest/mock.py:1442: in __enter__
    self.target = self.getter()
/usr/lib/python3.12/pkgutil.py:513: in resolve_name
    mod = importlib.import_module(modname)
/usr/lib/python3.12/importlib/__init__.py:90: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
<frozen importlib._bootstrap>:1387: in _gcd_import
    ???
<frozen importlib._bootstrap>:1360: in _find_and_load
    ???
<frozen importlib._bootstrap>:1331: in _find_and_load_unlocked
    ???
<frozen importlib._bootstrap>:935: in _load_unlocked
    ???
<frozen importlib._bootstrap_external>:995: in exec_module
    ???
<frozen importlib._bootstrap>:488: in _call_with_frames_removed
    ???
queue-manager/redis_client.py:11: in <module>
    from config import settings
queue-manager/config.py:51: in <module>
    settings = Settings()
test_venv/lib/python3.12/site-packages/pydantic_settings/main.py:194: in __init__
    super().__init__(
E   pydantic_core._pydantic_core.ValidationError: 23 validation errors for Settings
E   domain
E     Extra inputs are not permitted [type=extra_forbidden, input_value='comfy.ahelme.net', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   ssl_cert_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='/etc/letsencrypt/live/ahelme.net/fullchain.pem', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   ssl_key_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='/etc/letsencrypt/live/ahelme.net/privkey.pem', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   verda_instance_type
E     Extra inputs are not permitted [type=extra_forbidden, input_value='h100-sxm5', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   verda_region
E     Extra inputs are not permitted [type=extra_forbidden, input_value='eu-central', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   num_users
E     Extra inputs are not permitted [type=extra_forbidden, input_value='20', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   user_id_prefix
E     Extra inputs are not permitted [type=extra_forbidden, input_value='user', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   worker_gpu_memory_limit
E     Extra inputs are not permitted [type=extra_forbidden, input_value='70G', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   worker_restart_policy
E     Extra inputs are not permitted [type=extra_forbidden, input_value='unless-stopped', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   redis_persistence
E     Extra inputs are not permitted [type=extra_forbidden, input_value='yes', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   queue_manager_host
E     Extra inputs are not permitted [type=extra_forbidden, input_value='queue-manager', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   queue_manager_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='3000', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   queue_manager_log_level
E     Extra inputs are not permitted [type=extra_forbidden, input_value='INFO', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   admin_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='8080', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   admin_username
E     Extra inputs are not permitted [type=extra_forbidden, input_value='admin', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   admin_password
E     Extra inputs are not permitted [type=extra_forbidden, input_value='change_me_secure_password', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   nginx_http_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='80', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   nginx_https_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='443', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   models_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='./data/models', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   workflows_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='./data/workflows', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   comfyui_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='8188', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   comfyui_version
E     Extra inputs are not permitted [type=extra_forbidden, input_value='latest', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   verbose_logs
E     Extra inputs are not permitted [type=extra_forbidden, input_value='false', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
________ ERROR at setup of TestJobCRUDOperations.test_get_job_not_found ________
tests/test_redis_client.py:19: in redis_client_with_mock
    with patch('redis_client.Redis', return_value=mock_redis):
/usr/lib/python3.12/unittest/mock.py:1442: in __enter__
    self.target = self.getter()
/usr/lib/python3.12/pkgutil.py:513: in resolve_name
    mod = importlib.import_module(modname)
/usr/lib/python3.12/importlib/__init__.py:90: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
<frozen importlib._bootstrap>:1387: in _gcd_import
    ???
<frozen importlib._bootstrap>:1360: in _find_and_load
    ???
<frozen importlib._bootstrap>:1331: in _find_and_load_unlocked
    ???
<frozen importlib._bootstrap>:935: in _load_unlocked
    ???
<frozen importlib._bootstrap_external>:995: in exec_module
    ???
<frozen importlib._bootstrap>:488: in _call_with_frames_removed
    ???
queue-manager/redis_client.py:11: in <module>
    from config import settings
queue-manager/config.py:51: in <module>
    settings = Settings()
test_venv/lib/python3.12/site-packages/pydantic_settings/main.py:194: in __init__
    super().__init__(
E   pydantic_core._pydantic_core.ValidationError: 23 validation errors for Settings
E   domain
E     Extra inputs are not permitted [type=extra_forbidden, input_value='comfy.ahelme.net', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   ssl_cert_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='/etc/letsencrypt/live/ahelme.net/fullchain.pem', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   ssl_key_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='/etc/letsencrypt/live/ahelme.net/privkey.pem', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   verda_instance_type
E     Extra inputs are not permitted [type=extra_forbidden, input_value='h100-sxm5', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   verda_region
E     Extra inputs are not permitted [type=extra_forbidden, input_value='eu-central', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   num_users
E     Extra inputs are not permitted [type=extra_forbidden, input_value='20', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   user_id_prefix
E     Extra inputs are not permitted [type=extra_forbidden, input_value='user', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   worker_gpu_memory_limit
E     Extra inputs are not permitted [type=extra_forbidden, input_value='70G', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   worker_restart_policy
E     Extra inputs are not permitted [type=extra_forbidden, input_value='unless-stopped', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   redis_persistence
E     Extra inputs are not permitted [type=extra_forbidden, input_value='yes', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   queue_manager_host
E     Extra inputs are not permitted [type=extra_forbidden, input_value='queue-manager', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   queue_manager_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='3000', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   queue_manager_log_level
E     Extra inputs are not permitted [type=extra_forbidden, input_value='INFO', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   admin_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='8080', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   admin_username
E     Extra inputs are not permitted [type=extra_forbidden, input_value='admin', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   admin_password
E     Extra inputs are not permitted [type=extra_forbidden, input_value='change_me_secure_password', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   nginx_http_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='80', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   nginx_https_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='443', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   models_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='./data/models', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   workflows_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='./data/workflows', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   comfyui_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='8188', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   comfyui_version
E     Extra inputs are not permitted [type=extra_forbidden, input_value='latest', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   verbose_logs
E     Extra inputs are not permitted [type=extra_forbidden, input_value='false', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
______ ERROR at setup of TestJobCRUDOperations.test_get_job_invalid_json _______
tests/test_redis_client.py:19: in redis_client_with_mock
    with patch('redis_client.Redis', return_value=mock_redis):
/usr/lib/python3.12/unittest/mock.py:1442: in __enter__
    self.target = self.getter()
/usr/lib/python3.12/pkgutil.py:513: in resolve_name
    mod = importlib.import_module(modname)
/usr/lib/python3.12/importlib/__init__.py:90: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
<frozen importlib._bootstrap>:1387: in _gcd_import
    ???
<frozen importlib._bootstrap>:1360: in _find_and_load
    ???
<frozen importlib._bootstrap>:1331: in _find_and_load_unlocked
    ???
<frozen importlib._bootstrap>:935: in _load_unlocked
    ???
<frozen importlib._bootstrap_external>:995: in exec_module
    ???
<frozen importlib._bootstrap>:488: in _call_with_frames_removed
    ???
queue-manager/redis_client.py:11: in <module>
    from config import settings
queue-manager/config.py:51: in <module>
    settings = Settings()
test_venv/lib/python3.12/site-packages/pydantic_settings/main.py:194: in __init__
    super().__init__(
E   pydantic_core._pydantic_core.ValidationError: 23 validation errors for Settings
E   domain
E     Extra inputs are not permitted [type=extra_forbidden, input_value='comfy.ahelme.net', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   ssl_cert_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='/etc/letsencrypt/live/ahelme.net/fullchain.pem', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   ssl_key_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='/etc/letsencrypt/live/ahelme.net/privkey.pem', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   verda_instance_type
E     Extra inputs are not permitted [type=extra_forbidden, input_value='h100-sxm5', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   verda_region
E     Extra inputs are not permitted [type=extra_forbidden, input_value='eu-central', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   num_users
E     Extra inputs are not permitted [type=extra_forbidden, input_value='20', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   user_id_prefix
E     Extra inputs are not permitted [type=extra_forbidden, input_value='user', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   worker_gpu_memory_limit
E     Extra inputs are not permitted [type=extra_forbidden, input_value='70G', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   worker_restart_policy
E     Extra inputs are not permitted [type=extra_forbidden, input_value='unless-stopped', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   redis_persistence
E     Extra inputs are not permitted [type=extra_forbidden, input_value='yes', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   queue_manager_host
E     Extra inputs are not permitted [type=extra_forbidden, input_value='queue-manager', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   queue_manager_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='3000', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   queue_manager_log_level
E     Extra inputs are not permitted [type=extra_forbidden, input_value='INFO', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   admin_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='8080', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   admin_username
E     Extra inputs are not permitted [type=extra_forbidden, input_value='admin', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   admin_password
E     Extra inputs are not permitted [type=extra_forbidden, input_value='change_me_secure_password', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   nginx_http_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='80', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   nginx_https_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='443', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   models_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='./data/models', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   workflows_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='./data/workflows', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   comfyui_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='8188', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   comfyui_version
E     Extra inputs are not permitted [type=extra_forbidden, input_value='latest', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   verbose_logs
E     Extra inputs are not permitted [type=extra_forbidden, input_value='false', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
_______ ERROR at setup of TestJobCRUDOperations.test_update_job_success ________
tests/test_redis_client.py:19: in redis_client_with_mock
    with patch('redis_client.Redis', return_value=mock_redis):
/usr/lib/python3.12/unittest/mock.py:1442: in __enter__
    self.target = self.getter()
/usr/lib/python3.12/pkgutil.py:513: in resolve_name
    mod = importlib.import_module(modname)
/usr/lib/python3.12/importlib/__init__.py:90: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
<frozen importlib._bootstrap>:1387: in _gcd_import
    ???
<frozen importlib._bootstrap>:1360: in _find_and_load
    ???
<frozen importlib._bootstrap>:1331: in _find_and_load_unlocked
    ???
<frozen importlib._bootstrap>:935: in _load_unlocked
    ???
<frozen importlib._bootstrap_external>:995: in exec_module
    ???
<frozen importlib._bootstrap>:488: in _call_with_frames_removed
    ???
queue-manager/redis_client.py:11: in <module>
    from config import settings
queue-manager/config.py:51: in <module>
    settings = Settings()
test_venv/lib/python3.12/site-packages/pydantic_settings/main.py:194: in __init__
    super().__init__(
E   pydantic_core._pydantic_core.ValidationError: 23 validation errors for Settings
E   domain
E     Extra inputs are not permitted [type=extra_forbidden, input_value='comfy.ahelme.net', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   ssl_cert_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='/etc/letsencrypt/live/ahelme.net/fullchain.pem', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   ssl_key_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='/etc/letsencrypt/live/ahelme.net/privkey.pem', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   verda_instance_type
E     Extra inputs are not permitted [type=extra_forbidden, input_value='h100-sxm5', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   verda_region
E     Extra inputs are not permitted [type=extra_forbidden, input_value='eu-central', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   num_users
E     Extra inputs are not permitted [type=extra_forbidden, input_value='20', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   user_id_prefix
E     Extra inputs are not permitted [type=extra_forbidden, input_value='user', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   worker_gpu_memory_limit
E     Extra inputs are not permitted [type=extra_forbidden, input_value='70G', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   worker_restart_policy
E     Extra inputs are not permitted [type=extra_forbidden, input_value='unless-stopped', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   redis_persistence
E     Extra inputs are not permitted [type=extra_forbidden, input_value='yes', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   queue_manager_host
E     Extra inputs are not permitted [type=extra_forbidden, input_value='queue-manager', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   queue_manager_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='3000', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   queue_manager_log_level
E     Extra inputs are not permitted [type=extra_forbidden, input_value='INFO', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   admin_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='8080', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   admin_username
E     Extra inputs are not permitted [type=extra_forbidden, input_value='admin', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   admin_password
E     Extra inputs are not permitted [type=extra_forbidden, input_value='change_me_secure_password', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   nginx_http_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='80', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   nginx_https_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='443', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   models_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='./data/models', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   workflows_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='./data/workflows', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   comfyui_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='8188', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   comfyui_version
E     Extra inputs are not permitted [type=extra_forbidden, input_value='latest', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   verbose_logs
E     Extra inputs are not permitted [type=extra_forbidden, input_value='false', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
_______ ERROR at setup of TestJobCRUDOperations.test_delete_job_success ________
tests/test_redis_client.py:19: in redis_client_with_mock
    with patch('redis_client.Redis', return_value=mock_redis):
/usr/lib/python3.12/unittest/mock.py:1442: in __enter__
    self.target = self.getter()
/usr/lib/python3.12/pkgutil.py:513: in resolve_name
    mod = importlib.import_module(modname)
/usr/lib/python3.12/importlib/__init__.py:90: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
<frozen importlib._bootstrap>:1387: in _gcd_import
    ???
<frozen importlib._bootstrap>:1360: in _find_and_load
    ???
<frozen importlib._bootstrap>:1331: in _find_and_load_unlocked
    ???
<frozen importlib._bootstrap>:935: in _load_unlocked
    ???
<frozen importlib._bootstrap_external>:995: in exec_module
    ???
<frozen importlib._bootstrap>:488: in _call_with_frames_removed
    ???
queue-manager/redis_client.py:11: in <module>
    from config import settings
queue-manager/config.py:51: in <module>
    settings = Settings()
test_venv/lib/python3.12/site-packages/pydantic_settings/main.py:194: in __init__
    super().__init__(
E   pydantic_core._pydantic_core.ValidationError: 23 validation errors for Settings
E   domain
E     Extra inputs are not permitted [type=extra_forbidden, input_value='comfy.ahelme.net', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   ssl_cert_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='/etc/letsencrypt/live/ahelme.net/fullchain.pem', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   ssl_key_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='/etc/letsencrypt/live/ahelme.net/privkey.pem', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   verda_instance_type
E     Extra inputs are not permitted [type=extra_forbidden, input_value='h100-sxm5', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   verda_region
E     Extra inputs are not permitted [type=extra_forbidden, input_value='eu-central', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   num_users
E     Extra inputs are not permitted [type=extra_forbidden, input_value='20', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   user_id_prefix
E     Extra inputs are not permitted [type=extra_forbidden, input_value='user', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   worker_gpu_memory_limit
E     Extra inputs are not permitted [type=extra_forbidden, input_value='70G', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   worker_restart_policy
E     Extra inputs are not permitted [type=extra_forbidden, input_value='unless-stopped', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   redis_persistence
E     Extra inputs are not permitted [type=extra_forbidden, input_value='yes', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   queue_manager_host
E     Extra inputs are not permitted [type=extra_forbidden, input_value='queue-manager', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   queue_manager_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='3000', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   queue_manager_log_level
E     Extra inputs are not permitted [type=extra_forbidden, input_value='INFO', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   admin_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='8080', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   admin_username
E     Extra inputs are not permitted [type=extra_forbidden, input_value='admin', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   admin_password
E     Extra inputs are not permitted [type=extra_forbidden, input_value='change_me_secure_password', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   nginx_http_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='80', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   nginx_https_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='443', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   models_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='./data/models', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   workflows_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='./data/workflows', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   comfyui_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='8188', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   comfyui_version
E     Extra inputs are not permitted [type=extra_forbidden, input_value='latest', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   verbose_logs
E     Extra inputs are not permitted [type=extra_forbidden, input_value='false', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
______ ERROR at setup of TestJobCRUDOperations.test_delete_job_not_found _______
tests/test_redis_client.py:19: in redis_client_with_mock
    with patch('redis_client.Redis', return_value=mock_redis):
/usr/lib/python3.12/unittest/mock.py:1442: in __enter__
    self.target = self.getter()
/usr/lib/python3.12/pkgutil.py:513: in resolve_name
    mod = importlib.import_module(modname)
/usr/lib/python3.12/importlib/__init__.py:90: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
<frozen importlib._bootstrap>:1387: in _gcd_import
    ???
<frozen importlib._bootstrap>:1360: in _find_and_load
    ???
<frozen importlib._bootstrap>:1331: in _find_and_load_unlocked
    ???
<frozen importlib._bootstrap>:935: in _load_unlocked
    ???
<frozen importlib._bootstrap_external>:995: in exec_module
    ???
<frozen importlib._bootstrap>:488: in _call_with_frames_removed
    ???
queue-manager/redis_client.py:11: in <module>
    from config import settings
queue-manager/config.py:51: in <module>
    settings = Settings()
test_venv/lib/python3.12/site-packages/pydantic_settings/main.py:194: in __init__
    super().__init__(
E   pydantic_core._pydantic_core.ValidationError: 23 validation errors for Settings
E   domain
E     Extra inputs are not permitted [type=extra_forbidden, input_value='comfy.ahelme.net', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   ssl_cert_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='/etc/letsencrypt/live/ahelme.net/fullchain.pem', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   ssl_key_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='/etc/letsencrypt/live/ahelme.net/privkey.pem', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   verda_instance_type
E     Extra inputs are not permitted [type=extra_forbidden, input_value='h100-sxm5', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   verda_region
E     Extra inputs are not permitted [type=extra_forbidden, input_value='eu-central', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   num_users
E     Extra inputs are not permitted [type=extra_forbidden, input_value='20', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   user_id_prefix
E     Extra inputs are not permitted [type=extra_forbidden, input_value='user', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   worker_gpu_memory_limit
E     Extra inputs are not permitted [type=extra_forbidden, input_value='70G', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   worker_restart_policy
E     Extra inputs are not permitted [type=extra_forbidden, input_value='unless-stopped', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   redis_persistence
E     Extra inputs are not permitted [type=extra_forbidden, input_value='yes', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   queue_manager_host
E     Extra inputs are not permitted [type=extra_forbidden, input_value='queue-manager', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   queue_manager_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='3000', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   queue_manager_log_level
E     Extra inputs are not permitted [type=extra_forbidden, input_value='INFO', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   admin_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='8080', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   admin_username
E     Extra inputs are not permitted [type=extra_forbidden, input_value='admin', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   admin_password
E     Extra inputs are not permitted [type=extra_forbidden, input_value='change_me_secure_password', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   nginx_http_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='80', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   nginx_https_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='443', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   models_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='./data/models', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   workflows_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='./data/workflows', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   comfyui_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='8188', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   comfyui_version
E     Extra inputs are not permitted [type=extra_forbidden, input_value='latest', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   verbose_logs
E     Extra inputs are not permitted [type=extra_forbidden, input_value='false', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
__________ ERROR at setup of TestQueueOperations.test_get_queue_depth __________
tests/test_redis_client.py:19: in redis_client_with_mock
    with patch('redis_client.Redis', return_value=mock_redis):
/usr/lib/python3.12/unittest/mock.py:1442: in __enter__
    self.target = self.getter()
/usr/lib/python3.12/pkgutil.py:513: in resolve_name
    mod = importlib.import_module(modname)
/usr/lib/python3.12/importlib/__init__.py:90: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
<frozen importlib._bootstrap>:1387: in _gcd_import
    ???
<frozen importlib._bootstrap>:1360: in _find_and_load
    ???
<frozen importlib._bootstrap>:1331: in _find_and_load_unlocked
    ???
<frozen importlib._bootstrap>:935: in _load_unlocked
    ???
<frozen importlib._bootstrap_external>:995: in exec_module
    ???
<frozen importlib._bootstrap>:488: in _call_with_frames_removed
    ???
queue-manager/redis_client.py:11: in <module>
    from config import settings
queue-manager/config.py:51: in <module>
    settings = Settings()
test_venv/lib/python3.12/site-packages/pydantic_settings/main.py:194: in __init__
    super().__init__(
E   pydantic_core._pydantic_core.ValidationError: 23 validation errors for Settings
E   domain
E     Extra inputs are not permitted [type=extra_forbidden, input_value='comfy.ahelme.net', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   ssl_cert_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='/etc/letsencrypt/live/ahelme.net/fullchain.pem', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   ssl_key_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='/etc/letsencrypt/live/ahelme.net/privkey.pem', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   verda_instance_type
E     Extra inputs are not permitted [type=extra_forbidden, input_value='h100-sxm5', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   verda_region
E     Extra inputs are not permitted [type=extra_forbidden, input_value='eu-central', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   num_users
E     Extra inputs are not permitted [type=extra_forbidden, input_value='20', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   user_id_prefix
E     Extra inputs are not permitted [type=extra_forbidden, input_value='user', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   worker_gpu_memory_limit
E     Extra inputs are not permitted [type=extra_forbidden, input_value='70G', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   worker_restart_policy
E     Extra inputs are not permitted [type=extra_forbidden, input_value='unless-stopped', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   redis_persistence
E     Extra inputs are not permitted [type=extra_forbidden, input_value='yes', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   queue_manager_host
E     Extra inputs are not permitted [type=extra_forbidden, input_value='queue-manager', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   queue_manager_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='3000', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   queue_manager_log_level
E     Extra inputs are not permitted [type=extra_forbidden, input_value='INFO', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   admin_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='8080', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   admin_username
E     Extra inputs are not permitted [type=extra_forbidden, input_value='admin', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   admin_password
E     Extra inputs are not permitted [type=extra_forbidden, input_value='change_me_secure_password', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   nginx_http_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='80', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   nginx_https_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='443', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   models_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='./data/models', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   workflows_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='./data/workflows', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   comfyui_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='8188', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   comfyui_version
E     Extra inputs are not permitted [type=extra_forbidden, input_value='latest', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   verbose_logs
E     Extra inputs are not permitted [type=extra_forbidden, input_value='false', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
_______ ERROR at setup of TestQueueOperations.test_get_queue_depth_error _______
tests/test_redis_client.py:19: in redis_client_with_mock
    with patch('redis_client.Redis', return_value=mock_redis):
/usr/lib/python3.12/unittest/mock.py:1442: in __enter__
    self.target = self.getter()
/usr/lib/python3.12/pkgutil.py:513: in resolve_name
    mod = importlib.import_module(modname)
/usr/lib/python3.12/importlib/__init__.py:90: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
<frozen importlib._bootstrap>:1387: in _gcd_import
    ???
<frozen importlib._bootstrap>:1360: in _find_and_load
    ???
<frozen importlib._bootstrap>:1331: in _find_and_load_unlocked
    ???
<frozen importlib._bootstrap>:935: in _load_unlocked
    ???
<frozen importlib._bootstrap_external>:995: in exec_module
    ???
<frozen importlib._bootstrap>:488: in _call_with_frames_removed
    ???
queue-manager/redis_client.py:11: in <module>
    from config import settings
queue-manager/config.py:51: in <module>
    settings = Settings()
test_venv/lib/python3.12/site-packages/pydantic_settings/main.py:194: in __init__
    super().__init__(
E   pydantic_core._pydantic_core.ValidationError: 23 validation errors for Settings
E   domain
E     Extra inputs are not permitted [type=extra_forbidden, input_value='comfy.ahelme.net', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   ssl_cert_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='/etc/letsencrypt/live/ahelme.net/fullchain.pem', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   ssl_key_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='/etc/letsencrypt/live/ahelme.net/privkey.pem', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   verda_instance_type
E     Extra inputs are not permitted [type=extra_forbidden, input_value='h100-sxm5', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   verda_region
E     Extra inputs are not permitted [type=extra_forbidden, input_value='eu-central', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   num_users
E     Extra inputs are not permitted [type=extra_forbidden, input_value='20', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   user_id_prefix
E     Extra inputs are not permitted [type=extra_forbidden, input_value='user', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   worker_gpu_memory_limit
E     Extra inputs are not permitted [type=extra_forbidden, input_value='70G', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   worker_restart_policy
E     Extra inputs are not permitted [type=extra_forbidden, input_value='unless-stopped', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   redis_persistence
E     Extra inputs are not permitted [type=extra_forbidden, input_value='yes', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   queue_manager_host
E     Extra inputs are not permitted [type=extra_forbidden, input_value='queue-manager', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   queue_manager_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='3000', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   queue_manager_log_level
E     Extra inputs are not permitted [type=extra_forbidden, input_value='INFO', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   admin_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='8080', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   admin_username
E     Extra inputs are not permitted [type=extra_forbidden, input_value='admin', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   admin_password
E     Extra inputs are not permitted [type=extra_forbidden, input_value='change_me_secure_password', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   nginx_http_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='80', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   nginx_https_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='443', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   models_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='./data/models', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   workflows_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='./data/workflows', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   comfyui_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='8188', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   comfyui_version
E     Extra inputs are not permitted [type=extra_forbidden, input_value='latest', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   verbose_logs
E     Extra inputs are not permitted [type=extra_forbidden, input_value='false', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
________ ERROR at setup of TestQueueOperations.test_get_all_queue_stats ________
tests/test_redis_client.py:19: in redis_client_with_mock
    with patch('redis_client.Redis', return_value=mock_redis):
/usr/lib/python3.12/unittest/mock.py:1442: in __enter__
    self.target = self.getter()
/usr/lib/python3.12/pkgutil.py:513: in resolve_name
    mod = importlib.import_module(modname)
/usr/lib/python3.12/importlib/__init__.py:90: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
<frozen importlib._bootstrap>:1387: in _gcd_import
    ???
<frozen importlib._bootstrap>:1360: in _find_and_load
    ???
<frozen importlib._bootstrap>:1331: in _find_and_load_unlocked
    ???
<frozen importlib._bootstrap>:935: in _load_unlocked
    ???
<frozen importlib._bootstrap_external>:995: in exec_module
    ???
<frozen importlib._bootstrap>:488: in _call_with_frames_removed
    ???
queue-manager/redis_client.py:11: in <module>
    from config import settings
queue-manager/config.py:51: in <module>
    settings = Settings()
test_venv/lib/python3.12/site-packages/pydantic_settings/main.py:194: in __init__
    super().__init__(
E   pydantic_core._pydantic_core.ValidationError: 23 validation errors for Settings
E   domain
E     Extra inputs are not permitted [type=extra_forbidden, input_value='comfy.ahelme.net', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   ssl_cert_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='/etc/letsencrypt/live/ahelme.net/fullchain.pem', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   ssl_key_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='/etc/letsencrypt/live/ahelme.net/privkey.pem', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   verda_instance_type
E     Extra inputs are not permitted [type=extra_forbidden, input_value='h100-sxm5', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   verda_region
E     Extra inputs are not permitted [type=extra_forbidden, input_value='eu-central', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   num_users
E     Extra inputs are not permitted [type=extra_forbidden, input_value='20', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   user_id_prefix
E     Extra inputs are not permitted [type=extra_forbidden, input_value='user', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   worker_gpu_memory_limit
E     Extra inputs are not permitted [type=extra_forbidden, input_value='70G', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   worker_restart_policy
E     Extra inputs are not permitted [type=extra_forbidden, input_value='unless-stopped', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   redis_persistence
E     Extra inputs are not permitted [type=extra_forbidden, input_value='yes', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   queue_manager_host
E     Extra inputs are not permitted [type=extra_forbidden, input_value='queue-manager', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   queue_manager_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='3000', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   queue_manager_log_level
E     Extra inputs are not permitted [type=extra_forbidden, input_value='INFO', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   admin_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='8080', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   admin_username
E     Extra inputs are not permitted [type=extra_forbidden, input_value='admin', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   admin_password
E     Extra inputs are not permitted [type=extra_forbidden, input_value='change_me_secure_password', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   nginx_http_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='80', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   nginx_https_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='443', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   models_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='./data/models', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   workflows_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='./data/workflows', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   comfyui_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='8188', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   comfyui_version
E     Extra inputs are not permitted [type=extra_forbidden, input_value='latest', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   verbose_logs
E     Extra inputs are not permitted [type=extra_forbidden, input_value='false', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
_________ ERROR at setup of TestQueueOperations.test_get_pending_jobs __________
tests/test_redis_client.py:19: in redis_client_with_mock
    with patch('redis_client.Redis', return_value=mock_redis):
/usr/lib/python3.12/unittest/mock.py:1442: in __enter__
    self.target = self.getter()
/usr/lib/python3.12/pkgutil.py:513: in resolve_name
    mod = importlib.import_module(modname)
/usr/lib/python3.12/importlib/__init__.py:90: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
<frozen importlib._bootstrap>:1387: in _gcd_import
    ???
<frozen importlib._bootstrap>:1360: in _find_and_load
    ???
<frozen importlib._bootstrap>:1331: in _find_and_load_unlocked
    ???
<frozen importlib._bootstrap>:935: in _load_unlocked
    ???
<frozen importlib._bootstrap_external>:995: in exec_module
    ???
<frozen importlib._bootstrap>:488: in _call_with_frames_removed
    ???
queue-manager/redis_client.py:11: in <module>
    from config import settings
queue-manager/config.py:51: in <module>
    settings = Settings()
test_venv/lib/python3.12/site-packages/pydantic_settings/main.py:194: in __init__
    super().__init__(
E   pydantic_core._pydantic_core.ValidationError: 23 validation errors for Settings
E   domain
E     Extra inputs are not permitted [type=extra_forbidden, input_value='comfy.ahelme.net', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   ssl_cert_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='/etc/letsencrypt/live/ahelme.net/fullchain.pem', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   ssl_key_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='/etc/letsencrypt/live/ahelme.net/privkey.pem', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   verda_instance_type
E     Extra inputs are not permitted [type=extra_forbidden, input_value='h100-sxm5', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   verda_region
E     Extra inputs are not permitted [type=extra_forbidden, input_value='eu-central', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   num_users
E     Extra inputs are not permitted [type=extra_forbidden, input_value='20', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   user_id_prefix
E     Extra inputs are not permitted [type=extra_forbidden, input_value='user', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   worker_gpu_memory_limit
E     Extra inputs are not permitted [type=extra_forbidden, input_value='70G', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   worker_restart_policy
E     Extra inputs are not permitted [type=extra_forbidden, input_value='unless-stopped', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   redis_persistence
E     Extra inputs are not permitted [type=extra_forbidden, input_value='yes', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   queue_manager_host
E     Extra inputs are not permitted [type=extra_forbidden, input_value='queue-manager', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   queue_manager_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='3000', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   queue_manager_log_level
E     Extra inputs are not permitted [type=extra_forbidden, input_value='INFO', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   admin_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='8080', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   admin_username
E     Extra inputs are not permitted [type=extra_forbidden, input_value='admin', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   admin_password
E     Extra inputs are not permitted [type=extra_forbidden, input_value='change_me_secure_password', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   nginx_http_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='80', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   nginx_https_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='443', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   models_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='./data/models', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   workflows_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='./data/workflows', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   comfyui_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='8188', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   comfyui_version
E     Extra inputs are not permitted [type=extra_forbidden, input_value='latest', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   verbose_logs
E     Extra inputs are not permitted [type=extra_forbidden, input_value='false', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
___________ ERROR at setup of TestQueueOperations.test_get_user_jobs ___________
tests/test_redis_client.py:19: in redis_client_with_mock
    with patch('redis_client.Redis', return_value=mock_redis):
/usr/lib/python3.12/unittest/mock.py:1442: in __enter__
    self.target = self.getter()
/usr/lib/python3.12/pkgutil.py:513: in resolve_name
    mod = importlib.import_module(modname)
/usr/lib/python3.12/importlib/__init__.py:90: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
<frozen importlib._bootstrap>:1387: in _gcd_import
    ???
<frozen importlib._bootstrap>:1360: in _find_and_load
    ???
<frozen importlib._bootstrap>:1331: in _find_and_load_unlocked
    ???
<frozen importlib._bootstrap>:935: in _load_unlocked
    ???
<frozen importlib._bootstrap_external>:995: in exec_module
    ???
<frozen importlib._bootstrap>:488: in _call_with_frames_removed
    ???
queue-manager/redis_client.py:11: in <module>
    from config import settings
queue-manager/config.py:51: in <module>
    settings = Settings()
test_venv/lib/python3.12/site-packages/pydantic_settings/main.py:194: in __init__
    super().__init__(
E   pydantic_core._pydantic_core.ValidationError: 23 validation errors for Settings
E   domain
E     Extra inputs are not permitted [type=extra_forbidden, input_value='comfy.ahelme.net', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   ssl_cert_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='/etc/letsencrypt/live/ahelme.net/fullchain.pem', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   ssl_key_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='/etc/letsencrypt/live/ahelme.net/privkey.pem', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   verda_instance_type
E     Extra inputs are not permitted [type=extra_forbidden, input_value='h100-sxm5', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   verda_region
E     Extra inputs are not permitted [type=extra_forbidden, input_value='eu-central', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   num_users
E     Extra inputs are not permitted [type=extra_forbidden, input_value='20', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   user_id_prefix
E     Extra inputs are not permitted [type=extra_forbidden, input_value='user', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   worker_gpu_memory_limit
E     Extra inputs are not permitted [type=extra_forbidden, input_value='70G', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   worker_restart_policy
E     Extra inputs are not permitted [type=extra_forbidden, input_value='unless-stopped', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   redis_persistence
E     Extra inputs are not permitted [type=extra_forbidden, input_value='yes', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   queue_manager_host
E     Extra inputs are not permitted [type=extra_forbidden, input_value='queue-manager', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   queue_manager_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='3000', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   queue_manager_log_level
E     Extra inputs are not permitted [type=extra_forbidden, input_value='INFO', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   admin_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='8080', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   admin_username
E     Extra inputs are not permitted [type=extra_forbidden, input_value='admin', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   admin_password
E     Extra inputs are not permitted [type=extra_forbidden, input_value='change_me_secure_password', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   nginx_http_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='80', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   nginx_https_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='443', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   models_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='./data/models', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   workflows_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='./data/workflows', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   comfyui_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='8188', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   comfyui_version
E     Extra inputs are not permitted [type=extra_forbidden, input_value='latest', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   verbose_logs
E     Extra inputs are not permitted [type=extra_forbidden, input_value='false', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
______ ERROR at setup of TestJobStateTransitions.test_move_job_to_running ______
tests/test_redis_client.py:19: in redis_client_with_mock
    with patch('redis_client.Redis', return_value=mock_redis):
/usr/lib/python3.12/unittest/mock.py:1442: in __enter__
    self.target = self.getter()
/usr/lib/python3.12/pkgutil.py:513: in resolve_name
    mod = importlib.import_module(modname)
/usr/lib/python3.12/importlib/__init__.py:90: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
<frozen importlib._bootstrap>:1387: in _gcd_import
    ???
<frozen importlib._bootstrap>:1360: in _find_and_load
    ???
<frozen importlib._bootstrap>:1331: in _find_and_load_unlocked
    ???
<frozen importlib._bootstrap>:935: in _load_unlocked
    ???
<frozen importlib._bootstrap_external>:995: in exec_module
    ???
<frozen importlib._bootstrap>:488: in _call_with_frames_removed
    ???
queue-manager/redis_client.py:11: in <module>
    from config import settings
queue-manager/config.py:51: in <module>
    settings = Settings()
test_venv/lib/python3.12/site-packages/pydantic_settings/main.py:194: in __init__
    super().__init__(
E   pydantic_core._pydantic_core.ValidationError: 23 validation errors for Settings
E   domain
E     Extra inputs are not permitted [type=extra_forbidden, input_value='comfy.ahelme.net', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   ssl_cert_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='/etc/letsencrypt/live/ahelme.net/fullchain.pem', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   ssl_key_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='/etc/letsencrypt/live/ahelme.net/privkey.pem', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   verda_instance_type
E     Extra inputs are not permitted [type=extra_forbidden, input_value='h100-sxm5', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   verda_region
E     Extra inputs are not permitted [type=extra_forbidden, input_value='eu-central', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   num_users
E     Extra inputs are not permitted [type=extra_forbidden, input_value='20', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   user_id_prefix
E     Extra inputs are not permitted [type=extra_forbidden, input_value='user', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   worker_gpu_memory_limit
E     Extra inputs are not permitted [type=extra_forbidden, input_value='70G', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   worker_restart_policy
E     Extra inputs are not permitted [type=extra_forbidden, input_value='unless-stopped', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   redis_persistence
E     Extra inputs are not permitted [type=extra_forbidden, input_value='yes', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   queue_manager_host
E     Extra inputs are not permitted [type=extra_forbidden, input_value='queue-manager', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   queue_manager_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='3000', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   queue_manager_log_level
E     Extra inputs are not permitted [type=extra_forbidden, input_value='INFO', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   admin_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='8080', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   admin_username
E     Extra inputs are not permitted [type=extra_forbidden, input_value='admin', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   admin_password
E     Extra inputs are not permitted [type=extra_forbidden, input_value='change_me_secure_password', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   nginx_http_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='80', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   nginx_https_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='443', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   models_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='./data/models', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   workflows_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='./data/workflows', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   comfyui_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='8188', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   comfyui_version
E     Extra inputs are not permitted [type=extra_forbidden, input_value='latest', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   verbose_logs
E     Extra inputs are not permitted [type=extra_forbidden, input_value='false', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
_____ ERROR at setup of TestJobStateTransitions.test_move_job_to_completed _____
tests/test_redis_client.py:19: in redis_client_with_mock
    with patch('redis_client.Redis', return_value=mock_redis):
/usr/lib/python3.12/unittest/mock.py:1442: in __enter__
    self.target = self.getter()
/usr/lib/python3.12/pkgutil.py:513: in resolve_name
    mod = importlib.import_module(modname)
/usr/lib/python3.12/importlib/__init__.py:90: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
<frozen importlib._bootstrap>:1387: in _gcd_import
    ???
<frozen importlib._bootstrap>:1360: in _find_and_load
    ???
<frozen importlib._bootstrap>:1331: in _find_and_load_unlocked
    ???
<frozen importlib._bootstrap>:935: in _load_unlocked
    ???
<frozen importlib._bootstrap_external>:995: in exec_module
    ???
<frozen importlib._bootstrap>:488: in _call_with_frames_removed
    ???
queue-manager/redis_client.py:11: in <module>
    from config import settings
queue-manager/config.py:51: in <module>
    settings = Settings()
test_venv/lib/python3.12/site-packages/pydantic_settings/main.py:194: in __init__
    super().__init__(
E   pydantic_core._pydantic_core.ValidationError: 23 validation errors for Settings
E   domain
E     Extra inputs are not permitted [type=extra_forbidden, input_value='comfy.ahelme.net', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   ssl_cert_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='/etc/letsencrypt/live/ahelme.net/fullchain.pem', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   ssl_key_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='/etc/letsencrypt/live/ahelme.net/privkey.pem', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   verda_instance_type
E     Extra inputs are not permitted [type=extra_forbidden, input_value='h100-sxm5', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   verda_region
E     Extra inputs are not permitted [type=extra_forbidden, input_value='eu-central', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   num_users
E     Extra inputs are not permitted [type=extra_forbidden, input_value='20', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   user_id_prefix
E     Extra inputs are not permitted [type=extra_forbidden, input_value='user', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   worker_gpu_memory_limit
E     Extra inputs are not permitted [type=extra_forbidden, input_value='70G', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   worker_restart_policy
E     Extra inputs are not permitted [type=extra_forbidden, input_value='unless-stopped', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   redis_persistence
E     Extra inputs are not permitted [type=extra_forbidden, input_value='yes', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   queue_manager_host
E     Extra inputs are not permitted [type=extra_forbidden, input_value='queue-manager', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   queue_manager_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='3000', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   queue_manager_log_level
E     Extra inputs are not permitted [type=extra_forbidden, input_value='INFO', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   admin_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='8080', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   admin_username
E     Extra inputs are not permitted [type=extra_forbidden, input_value='admin', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   admin_password
E     Extra inputs are not permitted [type=extra_forbidden, input_value='change_me_secure_password', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   nginx_http_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='80', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   nginx_https_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='443', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   models_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='./data/models', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   workflows_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='./data/workflows', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   comfyui_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='8188', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   comfyui_version
E     Extra inputs are not permitted [type=extra_forbidden, input_value='latest', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   verbose_logs
E     Extra inputs are not permitted [type=extra_forbidden, input_value='false', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
______ ERROR at setup of TestJobStateTransitions.test_move_job_to_failed _______
tests/test_redis_client.py:19: in redis_client_with_mock
    with patch('redis_client.Redis', return_value=mock_redis):
/usr/lib/python3.12/unittest/mock.py:1442: in __enter__
    self.target = self.getter()
/usr/lib/python3.12/pkgutil.py:513: in resolve_name
    mod = importlib.import_module(modname)
/usr/lib/python3.12/importlib/__init__.py:90: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
<frozen importlib._bootstrap>:1387: in _gcd_import
    ???
<frozen importlib._bootstrap>:1360: in _find_and_load
    ???
<frozen importlib._bootstrap>:1331: in _find_and_load_unlocked
    ???
<frozen importlib._bootstrap>:935: in _load_unlocked
    ???
<frozen importlib._bootstrap_external>:995: in exec_module
    ???
<frozen importlib._bootstrap>:488: in _call_with_frames_removed
    ???
queue-manager/redis_client.py:11: in <module>
    from config import settings
queue-manager/config.py:51: in <module>
    settings = Settings()
test_venv/lib/python3.12/site-packages/pydantic_settings/main.py:194: in __init__
    super().__init__(
E   pydantic_core._pydantic_core.ValidationError: 23 validation errors for Settings
E   domain
E     Extra inputs are not permitted [type=extra_forbidden, input_value='comfy.ahelme.net', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   ssl_cert_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='/etc/letsencrypt/live/ahelme.net/fullchain.pem', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   ssl_key_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='/etc/letsencrypt/live/ahelme.net/privkey.pem', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   verda_instance_type
E     Extra inputs are not permitted [type=extra_forbidden, input_value='h100-sxm5', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   verda_region
E     Extra inputs are not permitted [type=extra_forbidden, input_value='eu-central', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   num_users
E     Extra inputs are not permitted [type=extra_forbidden, input_value='20', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   user_id_prefix
E     Extra inputs are not permitted [type=extra_forbidden, input_value='user', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   worker_gpu_memory_limit
E     Extra inputs are not permitted [type=extra_forbidden, input_value='70G', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   worker_restart_policy
E     Extra inputs are not permitted [type=extra_forbidden, input_value='unless-stopped', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   redis_persistence
E     Extra inputs are not permitted [type=extra_forbidden, input_value='yes', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   queue_manager_host
E     Extra inputs are not permitted [type=extra_forbidden, input_value='queue-manager', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   queue_manager_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='3000', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   queue_manager_log_level
E     Extra inputs are not permitted [type=extra_forbidden, input_value='INFO', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   admin_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='8080', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   admin_username
E     Extra inputs are not permitted [type=extra_forbidden, input_value='admin', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   admin_password
E     Extra inputs are not permitted [type=extra_forbidden, input_value='change_me_secure_password', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   nginx_http_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='80', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   nginx_https_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='443', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   models_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='./data/models', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   workflows_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='./data/workflows', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   comfyui_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='8188', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   comfyui_version
E     Extra inputs are not permitted [type=extra_forbidden, input_value='latest', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   verbose_logs
E     Extra inputs are not permitted [type=extra_forbidden, input_value='false', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
_____ ERROR at setup of TestJobStateTransitions.test_move_job_nonexistent ______
tests/test_redis_client.py:19: in redis_client_with_mock
    with patch('redis_client.Redis', return_value=mock_redis):
/usr/lib/python3.12/unittest/mock.py:1442: in __enter__
    self.target = self.getter()
/usr/lib/python3.12/pkgutil.py:513: in resolve_name
    mod = importlib.import_module(modname)
/usr/lib/python3.12/importlib/__init__.py:90: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
<frozen importlib._bootstrap>:1387: in _gcd_import
    ???
<frozen importlib._bootstrap>:1360: in _find_and_load
    ???
<frozen importlib._bootstrap>:1331: in _find_and_load_unlocked
    ???
<frozen importlib._bootstrap>:935: in _load_unlocked
    ???
<frozen importlib._bootstrap_external>:995: in exec_module
    ???
<frozen importlib._bootstrap>:488: in _call_with_frames_removed
    ???
queue-manager/redis_client.py:11: in <module>
    from config import settings
queue-manager/config.py:51: in <module>
    settings = Settings()
test_venv/lib/python3.12/site-packages/pydantic_settings/main.py:194: in __init__
    super().__init__(
E   pydantic_core._pydantic_core.ValidationError: 23 validation errors for Settings
E   domain
E     Extra inputs are not permitted [type=extra_forbidden, input_value='comfy.ahelme.net', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   ssl_cert_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='/etc/letsencrypt/live/ahelme.net/fullchain.pem', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   ssl_key_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='/etc/letsencrypt/live/ahelme.net/privkey.pem', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   verda_instance_type
E     Extra inputs are not permitted [type=extra_forbidden, input_value='h100-sxm5', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   verda_region
E     Extra inputs are not permitted [type=extra_forbidden, input_value='eu-central', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   num_users
E     Extra inputs are not permitted [type=extra_forbidden, input_value='20', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   user_id_prefix
E     Extra inputs are not permitted [type=extra_forbidden, input_value='user', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   worker_gpu_memory_limit
E     Extra inputs are not permitted [type=extra_forbidden, input_value='70G', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   worker_restart_policy
E     Extra inputs are not permitted [type=extra_forbidden, input_value='unless-stopped', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   redis_persistence
E     Extra inputs are not permitted [type=extra_forbidden, input_value='yes', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   queue_manager_host
E     Extra inputs are not permitted [type=extra_forbidden, input_value='queue-manager', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   queue_manager_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='3000', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   queue_manager_log_level
E     Extra inputs are not permitted [type=extra_forbidden, input_value='INFO', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   admin_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='8080', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   admin_username
E     Extra inputs are not permitted [type=extra_forbidden, input_value='admin', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   admin_password
E     Extra inputs are not permitted [type=extra_forbidden, input_value='change_me_secure_password', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   nginx_http_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='80', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   nginx_https_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='443', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   models_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='./data/models', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   workflows_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='./data/workflows', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   comfyui_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='8188', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   comfyui_version
E     Extra inputs are not permitted [type=extra_forbidden, input_value='latest', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   verbose_logs
E     Extra inputs are not permitted [type=extra_forbidden, input_value='false', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
_________ ERROR at setup of TestQueueModes.test_get_next_job_fifo_mode _________
tests/test_redis_client.py:19: in redis_client_with_mock
    with patch('redis_client.Redis', return_value=mock_redis):
/usr/lib/python3.12/unittest/mock.py:1442: in __enter__
    self.target = self.getter()
/usr/lib/python3.12/pkgutil.py:513: in resolve_name
    mod = importlib.import_module(modname)
/usr/lib/python3.12/importlib/__init__.py:90: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
<frozen importlib._bootstrap>:1387: in _gcd_import
    ???
<frozen importlib._bootstrap>:1360: in _find_and_load
    ???
<frozen importlib._bootstrap>:1331: in _find_and_load_unlocked
    ???
<frozen importlib._bootstrap>:935: in _load_unlocked
    ???
<frozen importlib._bootstrap_external>:995: in exec_module
    ???
<frozen importlib._bootstrap>:488: in _call_with_frames_removed
    ???
queue-manager/redis_client.py:11: in <module>
    from config import settings
queue-manager/config.py:51: in <module>
    settings = Settings()
test_venv/lib/python3.12/site-packages/pydantic_settings/main.py:194: in __init__
    super().__init__(
E   pydantic_core._pydantic_core.ValidationError: 23 validation errors for Settings
E   domain
E     Extra inputs are not permitted [type=extra_forbidden, input_value='comfy.ahelme.net', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   ssl_cert_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='/etc/letsencrypt/live/ahelme.net/fullchain.pem', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   ssl_key_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='/etc/letsencrypt/live/ahelme.net/privkey.pem', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   verda_instance_type
E     Extra inputs are not permitted [type=extra_forbidden, input_value='h100-sxm5', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   verda_region
E     Extra inputs are not permitted [type=extra_forbidden, input_value='eu-central', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   num_users
E     Extra inputs are not permitted [type=extra_forbidden, input_value='20', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   user_id_prefix
E     Extra inputs are not permitted [type=extra_forbidden, input_value='user', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   worker_gpu_memory_limit
E     Extra inputs are not permitted [type=extra_forbidden, input_value='70G', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   worker_restart_policy
E     Extra inputs are not permitted [type=extra_forbidden, input_value='unless-stopped', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   redis_persistence
E     Extra inputs are not permitted [type=extra_forbidden, input_value='yes', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   queue_manager_host
E     Extra inputs are not permitted [type=extra_forbidden, input_value='queue-manager', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   queue_manager_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='3000', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   queue_manager_log_level
E     Extra inputs are not permitted [type=extra_forbidden, input_value='INFO', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   admin_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='8080', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   admin_username
E     Extra inputs are not permitted [type=extra_forbidden, input_value='admin', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   admin_password
E     Extra inputs are not permitted [type=extra_forbidden, input_value='change_me_secure_password', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   nginx_http_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='80', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   nginx_https_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='443', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   models_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='./data/models', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   workflows_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='./data/workflows', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   comfyui_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='8188', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   comfyui_version
E     Extra inputs are not permitted [type=extra_forbidden, input_value='latest', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   verbose_logs
E     Extra inputs are not permitted [type=extra_forbidden, input_value='false', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
_______ ERROR at setup of TestQueueModes.test_get_next_job_fifo_no_jobs ________
tests/test_redis_client.py:19: in redis_client_with_mock
    with patch('redis_client.Redis', return_value=mock_redis):
/usr/lib/python3.12/unittest/mock.py:1442: in __enter__
    self.target = self.getter()
/usr/lib/python3.12/pkgutil.py:513: in resolve_name
    mod = importlib.import_module(modname)
/usr/lib/python3.12/importlib/__init__.py:90: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
<frozen importlib._bootstrap>:1387: in _gcd_import
    ???
<frozen importlib._bootstrap>:1360: in _find_and_load
    ???
<frozen importlib._bootstrap>:1331: in _find_and_load_unlocked
    ???
<frozen importlib._bootstrap>:935: in _load_unlocked
    ???
<frozen importlib._bootstrap_external>:995: in exec_module
    ???
<frozen importlib._bootstrap>:488: in _call_with_frames_removed
    ???
queue-manager/redis_client.py:11: in <module>
    from config import settings
queue-manager/config.py:51: in <module>
    settings = Settings()
test_venv/lib/python3.12/site-packages/pydantic_settings/main.py:194: in __init__
    super().__init__(
E   pydantic_core._pydantic_core.ValidationError: 23 validation errors for Settings
E   domain
E     Extra inputs are not permitted [type=extra_forbidden, input_value='comfy.ahelme.net', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   ssl_cert_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='/etc/letsencrypt/live/ahelme.net/fullchain.pem', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   ssl_key_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='/etc/letsencrypt/live/ahelme.net/privkey.pem', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   verda_instance_type
E     Extra inputs are not permitted [type=extra_forbidden, input_value='h100-sxm5', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   verda_region
E     Extra inputs are not permitted [type=extra_forbidden, input_value='eu-central', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   num_users
E     Extra inputs are not permitted [type=extra_forbidden, input_value='20', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   user_id_prefix
E     Extra inputs are not permitted [type=extra_forbidden, input_value='user', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   worker_gpu_memory_limit
E     Extra inputs are not permitted [type=extra_forbidden, input_value='70G', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   worker_restart_policy
E     Extra inputs are not permitted [type=extra_forbidden, input_value='unless-stopped', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   redis_persistence
E     Extra inputs are not permitted [type=extra_forbidden, input_value='yes', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   queue_manager_host
E     Extra inputs are not permitted [type=extra_forbidden, input_value='queue-manager', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   queue_manager_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='3000', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   queue_manager_log_level
E     Extra inputs are not permitted [type=extra_forbidden, input_value='INFO', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   admin_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='8080', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   admin_username
E     Extra inputs are not permitted [type=extra_forbidden, input_value='admin', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   admin_password
E     Extra inputs are not permitted [type=extra_forbidden, input_value='change_me_secure_password', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   nginx_http_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='80', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   nginx_https_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='443', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   models_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='./data/models', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   workflows_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='./data/workflows', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   comfyui_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='8188', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   comfyui_version
E     Extra inputs are not permitted [type=extra_forbidden, input_value='latest', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   verbose_logs
E     Extra inputs are not permitted [type=extra_forbidden, input_value='false', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
_______ ERROR at setup of TestQueueModes.test_get_next_job_priority_mode _______
tests/test_redis_client.py:19: in redis_client_with_mock
    with patch('redis_client.Redis', return_value=mock_redis):
/usr/lib/python3.12/unittest/mock.py:1442: in __enter__
    self.target = self.getter()
/usr/lib/python3.12/pkgutil.py:513: in resolve_name
    mod = importlib.import_module(modname)
/usr/lib/python3.12/importlib/__init__.py:90: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
<frozen importlib._bootstrap>:1387: in _gcd_import
    ???
<frozen importlib._bootstrap>:1360: in _find_and_load
    ???
<frozen importlib._bootstrap>:1331: in _find_and_load_unlocked
    ???
<frozen importlib._bootstrap>:935: in _load_unlocked
    ???
<frozen importlib._bootstrap_external>:995: in exec_module
    ???
<frozen importlib._bootstrap>:488: in _call_with_frames_removed
    ???
queue-manager/redis_client.py:11: in <module>
    from config import settings
queue-manager/config.py:51: in <module>
    settings = Settings()
test_venv/lib/python3.12/site-packages/pydantic_settings/main.py:194: in __init__
    super().__init__(
E   pydantic_core._pydantic_core.ValidationError: 23 validation errors for Settings
E   domain
E     Extra inputs are not permitted [type=extra_forbidden, input_value='comfy.ahelme.net', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   ssl_cert_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='/etc/letsencrypt/live/ahelme.net/fullchain.pem', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   ssl_key_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='/etc/letsencrypt/live/ahelme.net/privkey.pem', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   verda_instance_type
E     Extra inputs are not permitted [type=extra_forbidden, input_value='h100-sxm5', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   verda_region
E     Extra inputs are not permitted [type=extra_forbidden, input_value='eu-central', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   num_users
E     Extra inputs are not permitted [type=extra_forbidden, input_value='20', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   user_id_prefix
E     Extra inputs are not permitted [type=extra_forbidden, input_value='user', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   worker_gpu_memory_limit
E     Extra inputs are not permitted [type=extra_forbidden, input_value='70G', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   worker_restart_policy
E     Extra inputs are not permitted [type=extra_forbidden, input_value='unless-stopped', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   redis_persistence
E     Extra inputs are not permitted [type=extra_forbidden, input_value='yes', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   queue_manager_host
E     Extra inputs are not permitted [type=extra_forbidden, input_value='queue-manager', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   queue_manager_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='3000', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   queue_manager_log_level
E     Extra inputs are not permitted [type=extra_forbidden, input_value='INFO', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   admin_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='8080', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   admin_username
E     Extra inputs are not permitted [type=extra_forbidden, input_value='admin', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   admin_password
E     Extra inputs are not permitted [type=extra_forbidden, input_value='change_me_secure_password', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   nginx_http_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='80', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   nginx_https_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='443', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   models_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='./data/models', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   workflows_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='./data/workflows', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   comfyui_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='8188', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   comfyui_version
E     Extra inputs are not permitted [type=extra_forbidden, input_value='latest', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   verbose_logs
E     Extra inputs are not permitted [type=extra_forbidden, input_value='false', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
______ ERROR at setup of TestWorkerHeartbeat.test_update_worker_heartbeat ______
tests/test_redis_client.py:19: in redis_client_with_mock
    with patch('redis_client.Redis', return_value=mock_redis):
/usr/lib/python3.12/unittest/mock.py:1442: in __enter__
    self.target = self.getter()
/usr/lib/python3.12/pkgutil.py:513: in resolve_name
    mod = importlib.import_module(modname)
/usr/lib/python3.12/importlib/__init__.py:90: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
<frozen importlib._bootstrap>:1387: in _gcd_import
    ???
<frozen importlib._bootstrap>:1360: in _find_and_load
    ???
<frozen importlib._bootstrap>:1331: in _find_and_load_unlocked
    ???
<frozen importlib._bootstrap>:935: in _load_unlocked
    ???
<frozen importlib._bootstrap_external>:995: in exec_module
    ???
<frozen importlib._bootstrap>:488: in _call_with_frames_removed
    ???
queue-manager/redis_client.py:11: in <module>
    from config import settings
queue-manager/config.py:51: in <module>
    settings = Settings()
test_venv/lib/python3.12/site-packages/pydantic_settings/main.py:194: in __init__
    super().__init__(
E   pydantic_core._pydantic_core.ValidationError: 23 validation errors for Settings
E   domain
E     Extra inputs are not permitted [type=extra_forbidden, input_value='comfy.ahelme.net', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   ssl_cert_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='/etc/letsencrypt/live/ahelme.net/fullchain.pem', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   ssl_key_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='/etc/letsencrypt/live/ahelme.net/privkey.pem', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   verda_instance_type
E     Extra inputs are not permitted [type=extra_forbidden, input_value='h100-sxm5', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   verda_region
E     Extra inputs are not permitted [type=extra_forbidden, input_value='eu-central', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   num_users
E     Extra inputs are not permitted [type=extra_forbidden, input_value='20', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   user_id_prefix
E     Extra inputs are not permitted [type=extra_forbidden, input_value='user', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   worker_gpu_memory_limit
E     Extra inputs are not permitted [type=extra_forbidden, input_value='70G', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   worker_restart_policy
E     Extra inputs are not permitted [type=extra_forbidden, input_value='unless-stopped', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   redis_persistence
E     Extra inputs are not permitted [type=extra_forbidden, input_value='yes', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   queue_manager_host
E     Extra inputs are not permitted [type=extra_forbidden, input_value='queue-manager', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   queue_manager_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='3000', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   queue_manager_log_level
E     Extra inputs are not permitted [type=extra_forbidden, input_value='INFO', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   admin_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='8080', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   admin_username
E     Extra inputs are not permitted [type=extra_forbidden, input_value='admin', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   admin_password
E     Extra inputs are not permitted [type=extra_forbidden, input_value='change_me_secure_password', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   nginx_http_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='80', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   nginx_https_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='443', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   models_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='./data/models', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   workflows_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='./data/workflows', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   comfyui_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='8188', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   comfyui_version
E     Extra inputs are not permitted [type=extra_forbidden, input_value='latest', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   verbose_logs
E     Extra inputs are not permitted [type=extra_forbidden, input_value='false', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
_______ ERROR at setup of TestWorkerHeartbeat.test_is_worker_alive_true ________
tests/test_redis_client.py:19: in redis_client_with_mock
    with patch('redis_client.Redis', return_value=mock_redis):
/usr/lib/python3.12/unittest/mock.py:1442: in __enter__
    self.target = self.getter()
/usr/lib/python3.12/pkgutil.py:513: in resolve_name
    mod = importlib.import_module(modname)
/usr/lib/python3.12/importlib/__init__.py:90: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
<frozen importlib._bootstrap>:1387: in _gcd_import
    ???
<frozen importlib._bootstrap>:1360: in _find_and_load
    ???
<frozen importlib._bootstrap>:1331: in _find_and_load_unlocked
    ???
<frozen importlib._bootstrap>:935: in _load_unlocked
    ???
<frozen importlib._bootstrap_external>:995: in exec_module
    ???
<frozen importlib._bootstrap>:488: in _call_with_frames_removed
    ???
queue-manager/redis_client.py:11: in <module>
    from config import settings
queue-manager/config.py:51: in <module>
    settings = Settings()
test_venv/lib/python3.12/site-packages/pydantic_settings/main.py:194: in __init__
    super().__init__(
E   pydantic_core._pydantic_core.ValidationError: 23 validation errors for Settings
E   domain
E     Extra inputs are not permitted [type=extra_forbidden, input_value='comfy.ahelme.net', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   ssl_cert_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='/etc/letsencrypt/live/ahelme.net/fullchain.pem', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   ssl_key_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='/etc/letsencrypt/live/ahelme.net/privkey.pem', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   verda_instance_type
E     Extra inputs are not permitted [type=extra_forbidden, input_value='h100-sxm5', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   verda_region
E     Extra inputs are not permitted [type=extra_forbidden, input_value='eu-central', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   num_users
E     Extra inputs are not permitted [type=extra_forbidden, input_value='20', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   user_id_prefix
E     Extra inputs are not permitted [type=extra_forbidden, input_value='user', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   worker_gpu_memory_limit
E     Extra inputs are not permitted [type=extra_forbidden, input_value='70G', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   worker_restart_policy
E     Extra inputs are not permitted [type=extra_forbidden, input_value='unless-stopped', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   redis_persistence
E     Extra inputs are not permitted [type=extra_forbidden, input_value='yes', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   queue_manager_host
E     Extra inputs are not permitted [type=extra_forbidden, input_value='queue-manager', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   queue_manager_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='3000', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   queue_manager_log_level
E     Extra inputs are not permitted [type=extra_forbidden, input_value='INFO', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   admin_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='8080', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   admin_username
E     Extra inputs are not permitted [type=extra_forbidden, input_value='admin', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   admin_password
E     Extra inputs are not permitted [type=extra_forbidden, input_value='change_me_secure_password', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   nginx_http_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='80', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   nginx_https_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='443', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   models_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='./data/models', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   workflows_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='./data/workflows', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   comfyui_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='8188', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   comfyui_version
E     Extra inputs are not permitted [type=extra_forbidden, input_value='latest', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   verbose_logs
E     Extra inputs are not permitted [type=extra_forbidden, input_value='false', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
_______ ERROR at setup of TestWorkerHeartbeat.test_is_worker_alive_false _______
tests/test_redis_client.py:19: in redis_client_with_mock
    with patch('redis_client.Redis', return_value=mock_redis):
/usr/lib/python3.12/unittest/mock.py:1442: in __enter__
    self.target = self.getter()
/usr/lib/python3.12/pkgutil.py:513: in resolve_name
    mod = importlib.import_module(modname)
/usr/lib/python3.12/importlib/__init__.py:90: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
<frozen importlib._bootstrap>:1387: in _gcd_import
    ???
<frozen importlib._bootstrap>:1360: in _find_and_load
    ???
<frozen importlib._bootstrap>:1331: in _find_and_load_unlocked
    ???
<frozen importlib._bootstrap>:935: in _load_unlocked
    ???
<frozen importlib._bootstrap_external>:995: in exec_module
    ???
<frozen importlib._bootstrap>:488: in _call_with_frames_removed
    ???
queue-manager/redis_client.py:11: in <module>
    from config import settings
queue-manager/config.py:51: in <module>
    settings = Settings()
test_venv/lib/python3.12/site-packages/pydantic_settings/main.py:194: in __init__
    super().__init__(
E   pydantic_core._pydantic_core.ValidationError: 23 validation errors for Settings
E   domain
E     Extra inputs are not permitted [type=extra_forbidden, input_value='comfy.ahelme.net', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   ssl_cert_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='/etc/letsencrypt/live/ahelme.net/fullchain.pem', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   ssl_key_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='/etc/letsencrypt/live/ahelme.net/privkey.pem', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   verda_instance_type
E     Extra inputs are not permitted [type=extra_forbidden, input_value='h100-sxm5', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   verda_region
E     Extra inputs are not permitted [type=extra_forbidden, input_value='eu-central', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   num_users
E     Extra inputs are not permitted [type=extra_forbidden, input_value='20', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   user_id_prefix
E     Extra inputs are not permitted [type=extra_forbidden, input_value='user', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   worker_gpu_memory_limit
E     Extra inputs are not permitted [type=extra_forbidden, input_value='70G', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   worker_restart_policy
E     Extra inputs are not permitted [type=extra_forbidden, input_value='unless-stopped', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   redis_persistence
E     Extra inputs are not permitted [type=extra_forbidden, input_value='yes', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   queue_manager_host
E     Extra inputs are not permitted [type=extra_forbidden, input_value='queue-manager', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   queue_manager_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='3000', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   queue_manager_log_level
E     Extra inputs are not permitted [type=extra_forbidden, input_value='INFO', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   admin_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='8080', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   admin_username
E     Extra inputs are not permitted [type=extra_forbidden, input_value='admin', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   admin_password
E     Extra inputs are not permitted [type=extra_forbidden, input_value='change_me_secure_password', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   nginx_http_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='80', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   nginx_https_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='443', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   models_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='./data/models', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   workflows_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='./data/workflows', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   comfyui_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='8188', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   comfyui_version
E     Extra inputs are not permitted [type=extra_forbidden, input_value='latest', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   verbose_logs
E     Extra inputs are not permitted [type=extra_forbidden, input_value='false', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
______ ERROR at setup of TestPriorityScoring.test_priority_score_ordering ______
tests/test_redis_client.py:19: in redis_client_with_mock
    with patch('redis_client.Redis', return_value=mock_redis):
/usr/lib/python3.12/unittest/mock.py:1442: in __enter__
    self.target = self.getter()
/usr/lib/python3.12/pkgutil.py:513: in resolve_name
    mod = importlib.import_module(modname)
/usr/lib/python3.12/importlib/__init__.py:90: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
<frozen importlib._bootstrap>:1387: in _gcd_import
    ???
<frozen importlib._bootstrap>:1360: in _find_and_load
    ???
<frozen importlib._bootstrap>:1331: in _find_and_load_unlocked
    ???
<frozen importlib._bootstrap>:935: in _load_unlocked
    ???
<frozen importlib._bootstrap_external>:995: in exec_module
    ???
<frozen importlib._bootstrap>:488: in _call_with_frames_removed
    ???
queue-manager/redis_client.py:11: in <module>
    from config import settings
queue-manager/config.py:51: in <module>
    settings = Settings()
test_venv/lib/python3.12/site-packages/pydantic_settings/main.py:194: in __init__
    super().__init__(
E   pydantic_core._pydantic_core.ValidationError: 23 validation errors for Settings
E   domain
E     Extra inputs are not permitted [type=extra_forbidden, input_value='comfy.ahelme.net', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   ssl_cert_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='/etc/letsencrypt/live/ahelme.net/fullchain.pem', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   ssl_key_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='/etc/letsencrypt/live/ahelme.net/privkey.pem', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   verda_instance_type
E     Extra inputs are not permitted [type=extra_forbidden, input_value='h100-sxm5', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   verda_region
E     Extra inputs are not permitted [type=extra_forbidden, input_value='eu-central', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   num_users
E     Extra inputs are not permitted [type=extra_forbidden, input_value='20', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   user_id_prefix
E     Extra inputs are not permitted [type=extra_forbidden, input_value='user', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   worker_gpu_memory_limit
E     Extra inputs are not permitted [type=extra_forbidden, input_value='70G', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   worker_restart_policy
E     Extra inputs are not permitted [type=extra_forbidden, input_value='unless-stopped', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   redis_persistence
E     Extra inputs are not permitted [type=extra_forbidden, input_value='yes', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   queue_manager_host
E     Extra inputs are not permitted [type=extra_forbidden, input_value='queue-manager', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   queue_manager_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='3000', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   queue_manager_log_level
E     Extra inputs are not permitted [type=extra_forbidden, input_value='INFO', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   admin_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='8080', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   admin_username
E     Extra inputs are not permitted [type=extra_forbidden, input_value='admin', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   admin_password
E     Extra inputs are not permitted [type=extra_forbidden, input_value='change_me_secure_password', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   nginx_http_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='80', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   nginx_https_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='443', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   models_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='./data/models', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   workflows_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='./data/workflows', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   comfyui_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='8188', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   comfyui_version
E     Extra inputs are not permitted [type=extra_forbidden, input_value='latest', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   verbose_logs
E     Extra inputs are not permitted [type=extra_forbidden, input_value='false', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
_______ ERROR at setup of TestCleanupOperations.test_cleanup_stale_jobs ________
tests/test_redis_client.py:19: in redis_client_with_mock
    with patch('redis_client.Redis', return_value=mock_redis):
/usr/lib/python3.12/unittest/mock.py:1442: in __enter__
    self.target = self.getter()
/usr/lib/python3.12/pkgutil.py:513: in resolve_name
    mod = importlib.import_module(modname)
/usr/lib/python3.12/importlib/__init__.py:90: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
<frozen importlib._bootstrap>:1387: in _gcd_import
    ???
<frozen importlib._bootstrap>:1360: in _find_and_load
    ???
<frozen importlib._bootstrap>:1331: in _find_and_load_unlocked
    ???
<frozen importlib._bootstrap>:935: in _load_unlocked
    ???
<frozen importlib._bootstrap_external>:995: in exec_module
    ???
<frozen importlib._bootstrap>:488: in _call_with_frames_removed
    ???
queue-manager/redis_client.py:11: in <module>
    from config import settings
queue-manager/config.py:51: in <module>
    settings = Settings()
test_venv/lib/python3.12/site-packages/pydantic_settings/main.py:194: in __init__
    super().__init__(
E   pydantic_core._pydantic_core.ValidationError: 23 validation errors for Settings
E   domain
E     Extra inputs are not permitted [type=extra_forbidden, input_value='comfy.ahelme.net', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   ssl_cert_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='/etc/letsencrypt/live/ahelme.net/fullchain.pem', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   ssl_key_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='/etc/letsencrypt/live/ahelme.net/privkey.pem', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   verda_instance_type
E     Extra inputs are not permitted [type=extra_forbidden, input_value='h100-sxm5', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   verda_region
E     Extra inputs are not permitted [type=extra_forbidden, input_value='eu-central', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   num_users
E     Extra inputs are not permitted [type=extra_forbidden, input_value='20', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   user_id_prefix
E     Extra inputs are not permitted [type=extra_forbidden, input_value='user', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   worker_gpu_memory_limit
E     Extra inputs are not permitted [type=extra_forbidden, input_value='70G', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   worker_restart_policy
E     Extra inputs are not permitted [type=extra_forbidden, input_value='unless-stopped', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   redis_persistence
E     Extra inputs are not permitted [type=extra_forbidden, input_value='yes', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   queue_manager_host
E     Extra inputs are not permitted [type=extra_forbidden, input_value='queue-manager', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   queue_manager_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='3000', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   queue_manager_log_level
E     Extra inputs are not permitted [type=extra_forbidden, input_value='INFO', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   admin_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='8080', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   admin_username
E     Extra inputs are not permitted [type=extra_forbidden, input_value='admin', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   admin_password
E     Extra inputs are not permitted [type=extra_forbidden, input_value='change_me_secure_password', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   nginx_http_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='80', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   nginx_https_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='443', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   models_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='./data/models', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   workflows_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='./data/workflows', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   comfyui_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='8188', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   comfyui_version
E     Extra inputs are not permitted [type=extra_forbidden, input_value='latest', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   verbose_logs
E     Extra inputs are not permitted [type=extra_forbidden, input_value='false', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
__________ ERROR at setup of TestPubSubOperations.test_publish_event ___________
tests/test_redis_client.py:19: in redis_client_with_mock
    with patch('redis_client.Redis', return_value=mock_redis):
/usr/lib/python3.12/unittest/mock.py:1442: in __enter__
    self.target = self.getter()
/usr/lib/python3.12/pkgutil.py:513: in resolve_name
    mod = importlib.import_module(modname)
/usr/lib/python3.12/importlib/__init__.py:90: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
<frozen importlib._bootstrap>:1387: in _gcd_import
    ???
<frozen importlib._bootstrap>:1360: in _find_and_load
    ???
<frozen importlib._bootstrap>:1331: in _find_and_load_unlocked
    ???
<frozen importlib._bootstrap>:935: in _load_unlocked
    ???
<frozen importlib._bootstrap_external>:995: in exec_module
    ???
<frozen importlib._bootstrap>:488: in _call_with_frames_removed
    ???
queue-manager/redis_client.py:11: in <module>
    from config import settings
queue-manager/config.py:51: in <module>
    settings = Settings()
test_venv/lib/python3.12/site-packages/pydantic_settings/main.py:194: in __init__
    super().__init__(
E   pydantic_core._pydantic_core.ValidationError: 23 validation errors for Settings
E   domain
E     Extra inputs are not permitted [type=extra_forbidden, input_value='comfy.ahelme.net', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   ssl_cert_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='/etc/letsencrypt/live/ahelme.net/fullchain.pem', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   ssl_key_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='/etc/letsencrypt/live/ahelme.net/privkey.pem', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   verda_instance_type
E     Extra inputs are not permitted [type=extra_forbidden, input_value='h100-sxm5', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   verda_region
E     Extra inputs are not permitted [type=extra_forbidden, input_value='eu-central', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   num_users
E     Extra inputs are not permitted [type=extra_forbidden, input_value='20', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   user_id_prefix
E     Extra inputs are not permitted [type=extra_forbidden, input_value='user', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   worker_gpu_memory_limit
E     Extra inputs are not permitted [type=extra_forbidden, input_value='70G', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   worker_restart_policy
E     Extra inputs are not permitted [type=extra_forbidden, input_value='unless-stopped', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   redis_persistence
E     Extra inputs are not permitted [type=extra_forbidden, input_value='yes', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   queue_manager_host
E     Extra inputs are not permitted [type=extra_forbidden, input_value='queue-manager', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   queue_manager_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='3000', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   queue_manager_log_level
E     Extra inputs are not permitted [type=extra_forbidden, input_value='INFO', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   admin_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='8080', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   admin_username
E     Extra inputs are not permitted [type=extra_forbidden, input_value='admin', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   admin_password
E     Extra inputs are not permitted [type=extra_forbidden, input_value='change_me_secure_password', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   nginx_http_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='80', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   nginx_https_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='443', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   models_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='./data/models', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   workflows_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='./data/workflows', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   comfyui_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='8188', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   comfyui_version
E     Extra inputs are not permitted [type=extra_forbidden, input_value='latest', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   verbose_logs
E     Extra inputs are not permitted [type=extra_forbidden, input_value='false', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
_______ ERROR at setup of TestPubSubOperations.test_subscribe_to_updates _______
tests/test_redis_client.py:19: in redis_client_with_mock
    with patch('redis_client.Redis', return_value=mock_redis):
/usr/lib/python3.12/unittest/mock.py:1442: in __enter__
    self.target = self.getter()
/usr/lib/python3.12/pkgutil.py:513: in resolve_name
    mod = importlib.import_module(modname)
/usr/lib/python3.12/importlib/__init__.py:90: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
<frozen importlib._bootstrap>:1387: in _gcd_import
    ???
<frozen importlib._bootstrap>:1360: in _find_and_load
    ???
<frozen importlib._bootstrap>:1331: in _find_and_load_unlocked
    ???
<frozen importlib._bootstrap>:935: in _load_unlocked
    ???
<frozen importlib._bootstrap_external>:995: in exec_module
    ???
<frozen importlib._bootstrap>:488: in _call_with_frames_removed
    ???
queue-manager/redis_client.py:11: in <module>
    from config import settings
queue-manager/config.py:51: in <module>
    settings = Settings()
test_venv/lib/python3.12/site-packages/pydantic_settings/main.py:194: in __init__
    super().__init__(
E   pydantic_core._pydantic_core.ValidationError: 23 validation errors for Settings
E   domain
E     Extra inputs are not permitted [type=extra_forbidden, input_value='comfy.ahelme.net', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   ssl_cert_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='/etc/letsencrypt/live/ahelme.net/fullchain.pem', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   ssl_key_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='/etc/letsencrypt/live/ahelme.net/privkey.pem', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   verda_instance_type
E     Extra inputs are not permitted [type=extra_forbidden, input_value='h100-sxm5', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   verda_region
E     Extra inputs are not permitted [type=extra_forbidden, input_value='eu-central', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   num_users
E     Extra inputs are not permitted [type=extra_forbidden, input_value='20', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   user_id_prefix
E     Extra inputs are not permitted [type=extra_forbidden, input_value='user', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   worker_gpu_memory_limit
E     Extra inputs are not permitted [type=extra_forbidden, input_value='70G', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   worker_restart_policy
E     Extra inputs are not permitted [type=extra_forbidden, input_value='unless-stopped', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   redis_persistence
E     Extra inputs are not permitted [type=extra_forbidden, input_value='yes', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   queue_manager_host
E     Extra inputs are not permitted [type=extra_forbidden, input_value='queue-manager', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   queue_manager_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='3000', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   queue_manager_log_level
E     Extra inputs are not permitted [type=extra_forbidden, input_value='INFO', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   admin_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='8080', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   admin_username
E     Extra inputs are not permitted [type=extra_forbidden, input_value='admin', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   admin_password
E     Extra inputs are not permitted [type=extra_forbidden, input_value='change_me_secure_password', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   nginx_http_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='80', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   nginx_https_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='443', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   models_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='./data/models', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   workflows_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='./data/workflows', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   comfyui_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='8188', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   comfyui_version
E     Extra inputs are not permitted [type=extra_forbidden, input_value='latest', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   verbose_logs
E     Extra inputs are not permitted [type=extra_forbidden, input_value='false', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
_________ ERROR at setup of TestAtomicOperations.test_move_job_atomic __________
tests/test_redis_client.py:19: in redis_client_with_mock
    with patch('redis_client.Redis', return_value=mock_redis):
/usr/lib/python3.12/unittest/mock.py:1442: in __enter__
    self.target = self.getter()
/usr/lib/python3.12/pkgutil.py:513: in resolve_name
    mod = importlib.import_module(modname)
/usr/lib/python3.12/importlib/__init__.py:90: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
<frozen importlib._bootstrap>:1387: in _gcd_import
    ???
<frozen importlib._bootstrap>:1360: in _find_and_load
    ???
<frozen importlib._bootstrap>:1331: in _find_and_load_unlocked
    ???
<frozen importlib._bootstrap>:935: in _load_unlocked
    ???
<frozen importlib._bootstrap_external>:995: in exec_module
    ???
<frozen importlib._bootstrap>:488: in _call_with_frames_removed
    ???
queue-manager/redis_client.py:11: in <module>
    from config import settings
queue-manager/config.py:51: in <module>
    settings = Settings()
test_venv/lib/python3.12/site-packages/pydantic_settings/main.py:194: in __init__
    super().__init__(
E   pydantic_core._pydantic_core.ValidationError: 23 validation errors for Settings
E   domain
E     Extra inputs are not permitted [type=extra_forbidden, input_value='comfy.ahelme.net', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   ssl_cert_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='/etc/letsencrypt/live/ahelme.net/fullchain.pem', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   ssl_key_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='/etc/letsencrypt/live/ahelme.net/privkey.pem', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   verda_instance_type
E     Extra inputs are not permitted [type=extra_forbidden, input_value='h100-sxm5', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   verda_region
E     Extra inputs are not permitted [type=extra_forbidden, input_value='eu-central', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   num_users
E     Extra inputs are not permitted [type=extra_forbidden, input_value='20', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   user_id_prefix
E     Extra inputs are not permitted [type=extra_forbidden, input_value='user', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   worker_gpu_memory_limit
E     Extra inputs are not permitted [type=extra_forbidden, input_value='70G', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   worker_restart_policy
E     Extra inputs are not permitted [type=extra_forbidden, input_value='unless-stopped', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   redis_persistence
E     Extra inputs are not permitted [type=extra_forbidden, input_value='yes', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   queue_manager_host
E     Extra inputs are not permitted [type=extra_forbidden, input_value='queue-manager', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   queue_manager_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='3000', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   queue_manager_log_level
E     Extra inputs are not permitted [type=extra_forbidden, input_value='INFO', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   admin_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='8080', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   admin_username
E     Extra inputs are not permitted [type=extra_forbidden, input_value='admin', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   admin_password
E     Extra inputs are not permitted [type=extra_forbidden, input_value='change_me_secure_password', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   nginx_http_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='80', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   nginx_https_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='443', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   models_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='./data/models', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   workflows_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='./data/workflows', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   comfyui_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='8188', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   comfyui_version
E     Extra inputs are not permitted [type=extra_forbidden, input_value='latest', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   verbose_logs
E     Extra inputs are not permitted [type=extra_forbidden, input_value='false', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
_ ERROR at setup of TestWebSocketConnectionManagement.test_connect_new_websocket _
tests/test_websocket_manager.py:14: in websocket_manager_with_mock
    with patch('websocket_manager.RedisClient', return_value=mock_redis_client):
/usr/lib/python3.12/unittest/mock.py:1442: in __enter__
    self.target = self.getter()
/usr/lib/python3.12/pkgutil.py:513: in resolve_name
    mod = importlib.import_module(modname)
/usr/lib/python3.12/importlib/__init__.py:90: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
<frozen importlib._bootstrap>:1387: in _gcd_import
    ???
<frozen importlib._bootstrap>:1360: in _find_and_load
    ???
<frozen importlib._bootstrap>:1331: in _find_and_load_unlocked
    ???
<frozen importlib._bootstrap>:935: in _load_unlocked
    ???
<frozen importlib._bootstrap_external>:995: in exec_module
    ???
<frozen importlib._bootstrap>:488: in _call_with_frames_removed
    ???
queue-manager/websocket_manager.py:9: in <module>
    from redis_client import RedisClient
queue-manager/redis_client.py:11: in <module>
    from config import settings
queue-manager/config.py:51: in <module>
    settings = Settings()
test_venv/lib/python3.12/site-packages/pydantic_settings/main.py:194: in __init__
    super().__init__(
E   pydantic_core._pydantic_core.ValidationError: 23 validation errors for Settings
E   domain
E     Extra inputs are not permitted [type=extra_forbidden, input_value='comfy.ahelme.net', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   ssl_cert_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='/etc/letsencrypt/live/ahelme.net/fullchain.pem', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   ssl_key_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='/etc/letsencrypt/live/ahelme.net/privkey.pem', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   verda_instance_type
E     Extra inputs are not permitted [type=extra_forbidden, input_value='h100-sxm5', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   verda_region
E     Extra inputs are not permitted [type=extra_forbidden, input_value='eu-central', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   num_users
E     Extra inputs are not permitted [type=extra_forbidden, input_value='20', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   user_id_prefix
E     Extra inputs are not permitted [type=extra_forbidden, input_value='user', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   worker_gpu_memory_limit
E     Extra inputs are not permitted [type=extra_forbidden, input_value='70G', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   worker_restart_policy
E     Extra inputs are not permitted [type=extra_forbidden, input_value='unless-stopped', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   redis_persistence
E     Extra inputs are not permitted [type=extra_forbidden, input_value='yes', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   queue_manager_host
E     Extra inputs are not permitted [type=extra_forbidden, input_value='queue-manager', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   queue_manager_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='3000', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   queue_manager_log_level
E     Extra inputs are not permitted [type=extra_forbidden, input_value='INFO', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   admin_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='8080', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   admin_username
E     Extra inputs are not permitted [type=extra_forbidden, input_value='admin', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   admin_password
E     Extra inputs are not permitted [type=extra_forbidden, input_value='change_me_secure_password', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   nginx_http_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='80', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   nginx_https_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='443', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   models_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='./data/models', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   workflows_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='./data/workflows', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   comfyui_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='8188', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   comfyui_version
E     Extra inputs are not permitted [type=extra_forbidden, input_value='latest', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   verbose_logs
E     Extra inputs are not permitted [type=extra_forbidden, input_value='false', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
_ ERROR at setup of TestWebSocketConnectionManagement.test_disconnect_websocket _
tests/test_websocket_manager.py:14: in websocket_manager_with_mock
    with patch('websocket_manager.RedisClient', return_value=mock_redis_client):
/usr/lib/python3.12/unittest/mock.py:1442: in __enter__
    self.target = self.getter()
/usr/lib/python3.12/pkgutil.py:513: in resolve_name
    mod = importlib.import_module(modname)
/usr/lib/python3.12/importlib/__init__.py:90: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
<frozen importlib._bootstrap>:1387: in _gcd_import
    ???
<frozen importlib._bootstrap>:1360: in _find_and_load
    ???
<frozen importlib._bootstrap>:1331: in _find_and_load_unlocked
    ???
<frozen importlib._bootstrap>:935: in _load_unlocked
    ???
<frozen importlib._bootstrap_external>:995: in exec_module
    ???
<frozen importlib._bootstrap>:488: in _call_with_frames_removed
    ???
queue-manager/websocket_manager.py:9: in <module>
    from redis_client import RedisClient
queue-manager/redis_client.py:11: in <module>
    from config import settings
queue-manager/config.py:51: in <module>
    settings = Settings()
test_venv/lib/python3.12/site-packages/pydantic_settings/main.py:194: in __init__
    super().__init__(
E   pydantic_core._pydantic_core.ValidationError: 23 validation errors for Settings
E   domain
E     Extra inputs are not permitted [type=extra_forbidden, input_value='comfy.ahelme.net', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   ssl_cert_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='/etc/letsencrypt/live/ahelme.net/fullchain.pem', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   ssl_key_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='/etc/letsencrypt/live/ahelme.net/privkey.pem', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   verda_instance_type
E     Extra inputs are not permitted [type=extra_forbidden, input_value='h100-sxm5', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   verda_region
E     Extra inputs are not permitted [type=extra_forbidden, input_value='eu-central', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   num_users
E     Extra inputs are not permitted [type=extra_forbidden, input_value='20', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   user_id_prefix
E     Extra inputs are not permitted [type=extra_forbidden, input_value='user', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   worker_gpu_memory_limit
E     Extra inputs are not permitted [type=extra_forbidden, input_value='70G', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   worker_restart_policy
E     Extra inputs are not permitted [type=extra_forbidden, input_value='unless-stopped', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   redis_persistence
E     Extra inputs are not permitted [type=extra_forbidden, input_value='yes', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   queue_manager_host
E     Extra inputs are not permitted [type=extra_forbidden, input_value='queue-manager', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   queue_manager_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='3000', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   queue_manager_log_level
E     Extra inputs are not permitted [type=extra_forbidden, input_value='INFO', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   admin_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='8080', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   admin_username
E     Extra inputs are not permitted [type=extra_forbidden, input_value='admin', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   admin_password
E     Extra inputs are not permitted [type=extra_forbidden, input_value='change_me_secure_password', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   nginx_http_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='80', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   nginx_https_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='443', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   models_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='./data/models', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   workflows_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='./data/workflows', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   comfyui_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='8188', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   comfyui_version
E     Extra inputs are not permitted [type=extra_forbidden, input_value='latest', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   verbose_logs
E     Extra inputs are not permitted [type=extra_forbidden, input_value='false', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
_ ERROR at setup of TestWebSocketConnectionManagement.test_disconnect_nonexistent_websocket _
tests/test_websocket_manager.py:14: in websocket_manager_with_mock
    with patch('websocket_manager.RedisClient', return_value=mock_redis_client):
/usr/lib/python3.12/unittest/mock.py:1442: in __enter__
    self.target = self.getter()
/usr/lib/python3.12/pkgutil.py:513: in resolve_name
    mod = importlib.import_module(modname)
/usr/lib/python3.12/importlib/__init__.py:90: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
<frozen importlib._bootstrap>:1387: in _gcd_import
    ???
<frozen importlib._bootstrap>:1360: in _find_and_load
    ???
<frozen importlib._bootstrap>:1331: in _find_and_load_unlocked
    ???
<frozen importlib._bootstrap>:935: in _load_unlocked
    ???
<frozen importlib._bootstrap_external>:995: in exec_module
    ???
<frozen importlib._bootstrap>:488: in _call_with_frames_removed
    ???
queue-manager/websocket_manager.py:9: in <module>
    from redis_client import RedisClient
queue-manager/redis_client.py:11: in <module>
    from config import settings
queue-manager/config.py:51: in <module>
    settings = Settings()
test_venv/lib/python3.12/site-packages/pydantic_settings/main.py:194: in __init__
    super().__init__(
E   pydantic_core._pydantic_core.ValidationError: 23 validation errors for Settings
E   domain
E     Extra inputs are not permitted [type=extra_forbidden, input_value='comfy.ahelme.net', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   ssl_cert_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='/etc/letsencrypt/live/ahelme.net/fullchain.pem', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   ssl_key_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='/etc/letsencrypt/live/ahelme.net/privkey.pem', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   verda_instance_type
E     Extra inputs are not permitted [type=extra_forbidden, input_value='h100-sxm5', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   verda_region
E     Extra inputs are not permitted [type=extra_forbidden, input_value='eu-central', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   num_users
E     Extra inputs are not permitted [type=extra_forbidden, input_value='20', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   user_id_prefix
E     Extra inputs are not permitted [type=extra_forbidden, input_value='user', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   worker_gpu_memory_limit
E     Extra inputs are not permitted [type=extra_forbidden, input_value='70G', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   worker_restart_policy
E     Extra inputs are not permitted [type=extra_forbidden, input_value='unless-stopped', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   redis_persistence
E     Extra inputs are not permitted [type=extra_forbidden, input_value='yes', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   queue_manager_host
E     Extra inputs are not permitted [type=extra_forbidden, input_value='queue-manager', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   queue_manager_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='3000', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   queue_manager_log_level
E     Extra inputs are not permitted [type=extra_forbidden, input_value='INFO', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   admin_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='8080', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   admin_username
E     Extra inputs are not permitted [type=extra_forbidden, input_value='admin', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   admin_password
E     Extra inputs are not permitted [type=extra_forbidden, input_value='change_me_secure_password', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   nginx_http_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='80', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   nginx_https_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='443', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   models_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='./data/models', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   workflows_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='./data/workflows', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   comfyui_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='8188', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   comfyui_version
E     Extra inputs are not permitted [type=extra_forbidden, input_value='latest', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   verbose_logs
E     Extra inputs are not permitted [type=extra_forbidden, input_value='false', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
_ ERROR at setup of TestWebSocketConnectionManagement.test_multiple_connections _
tests/test_websocket_manager.py:14: in websocket_manager_with_mock
    with patch('websocket_manager.RedisClient', return_value=mock_redis_client):
/usr/lib/python3.12/unittest/mock.py:1442: in __enter__
    self.target = self.getter()
/usr/lib/python3.12/pkgutil.py:513: in resolve_name
    mod = importlib.import_module(modname)
/usr/lib/python3.12/importlib/__init__.py:90: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
<frozen importlib._bootstrap>:1387: in _gcd_import
    ???
<frozen importlib._bootstrap>:1360: in _find_and_load
    ???
<frozen importlib._bootstrap>:1331: in _find_and_load_unlocked
    ???
<frozen importlib._bootstrap>:935: in _load_unlocked
    ???
<frozen importlib._bootstrap_external>:995: in exec_module
    ???
<frozen importlib._bootstrap>:488: in _call_with_frames_removed
    ???
queue-manager/websocket_manager.py:9: in <module>
    from redis_client import RedisClient
queue-manager/redis_client.py:11: in <module>
    from config import settings
queue-manager/config.py:51: in <module>
    settings = Settings()
test_venv/lib/python3.12/site-packages/pydantic_settings/main.py:194: in __init__
    super().__init__(
E   pydantic_core._pydantic_core.ValidationError: 23 validation errors for Settings
E   domain
E     Extra inputs are not permitted [type=extra_forbidden, input_value='comfy.ahelme.net', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   ssl_cert_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='/etc/letsencrypt/live/ahelme.net/fullchain.pem', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   ssl_key_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='/etc/letsencrypt/live/ahelme.net/privkey.pem', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   verda_instance_type
E     Extra inputs are not permitted [type=extra_forbidden, input_value='h100-sxm5', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   verda_region
E     Extra inputs are not permitted [type=extra_forbidden, input_value='eu-central', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   num_users
E     Extra inputs are not permitted [type=extra_forbidden, input_value='20', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   user_id_prefix
E     Extra inputs are not permitted [type=extra_forbidden, input_value='user', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   worker_gpu_memory_limit
E     Extra inputs are not permitted [type=extra_forbidden, input_value='70G', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   worker_restart_policy
E     Extra inputs are not permitted [type=extra_forbidden, input_value='unless-stopped', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   redis_persistence
E     Extra inputs are not permitted [type=extra_forbidden, input_value='yes', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   queue_manager_host
E     Extra inputs are not permitted [type=extra_forbidden, input_value='queue-manager', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   queue_manager_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='3000', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   queue_manager_log_level
E     Extra inputs are not permitted [type=extra_forbidden, input_value='INFO', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   admin_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='8080', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   admin_username
E     Extra inputs are not permitted [type=extra_forbidden, input_value='admin', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   admin_password
E     Extra inputs are not permitted [type=extra_forbidden, input_value='change_me_secure_password', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   nginx_http_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='80', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   nginx_https_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='443', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   models_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='./data/models', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   workflows_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='./data/workflows', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   comfyui_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='8188', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   comfyui_version
E     Extra inputs are not permitted [type=extra_forbidden, input_value='latest', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   verbose_logs
E     Extra inputs are not permitted [type=extra_forbidden, input_value='false', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
_______ ERROR at setup of TestBroadcasting.test_broadcast_to_all_clients _______
tests/test_websocket_manager.py:14: in websocket_manager_with_mock
    with patch('websocket_manager.RedisClient', return_value=mock_redis_client):
/usr/lib/python3.12/unittest/mock.py:1442: in __enter__
    self.target = self.getter()
/usr/lib/python3.12/pkgutil.py:513: in resolve_name
    mod = importlib.import_module(modname)
/usr/lib/python3.12/importlib/__init__.py:90: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
<frozen importlib._bootstrap>:1387: in _gcd_import
    ???
<frozen importlib._bootstrap>:1360: in _find_and_load
    ???
<frozen importlib._bootstrap>:1331: in _find_and_load_unlocked
    ???
<frozen importlib._bootstrap>:935: in _load_unlocked
    ???
<frozen importlib._bootstrap_external>:995: in exec_module
    ???
<frozen importlib._bootstrap>:488: in _call_with_frames_removed
    ???
queue-manager/websocket_manager.py:9: in <module>
    from redis_client import RedisClient
queue-manager/redis_client.py:11: in <module>
    from config import settings
queue-manager/config.py:51: in <module>
    settings = Settings()
test_venv/lib/python3.12/site-packages/pydantic_settings/main.py:194: in __init__
    super().__init__(
E   pydantic_core._pydantic_core.ValidationError: 23 validation errors for Settings
E   domain
E     Extra inputs are not permitted [type=extra_forbidden, input_value='comfy.ahelme.net', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   ssl_cert_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='/etc/letsencrypt/live/ahelme.net/fullchain.pem', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   ssl_key_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='/etc/letsencrypt/live/ahelme.net/privkey.pem', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   verda_instance_type
E     Extra inputs are not permitted [type=extra_forbidden, input_value='h100-sxm5', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   verda_region
E     Extra inputs are not permitted [type=extra_forbidden, input_value='eu-central', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   num_users
E     Extra inputs are not permitted [type=extra_forbidden, input_value='20', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   user_id_prefix
E     Extra inputs are not permitted [type=extra_forbidden, input_value='user', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   worker_gpu_memory_limit
E     Extra inputs are not permitted [type=extra_forbidden, input_value='70G', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   worker_restart_policy
E     Extra inputs are not permitted [type=extra_forbidden, input_value='unless-stopped', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   redis_persistence
E     Extra inputs are not permitted [type=extra_forbidden, input_value='yes', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   queue_manager_host
E     Extra inputs are not permitted [type=extra_forbidden, input_value='queue-manager', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   queue_manager_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='3000', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   queue_manager_log_level
E     Extra inputs are not permitted [type=extra_forbidden, input_value='INFO', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   admin_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='8080', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   admin_username
E     Extra inputs are not permitted [type=extra_forbidden, input_value='admin', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   admin_password
E     Extra inputs are not permitted [type=extra_forbidden, input_value='change_me_secure_password', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   nginx_http_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='80', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   nginx_https_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='443', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   models_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='./data/models', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   workflows_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='./data/workflows', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   comfyui_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='8188', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   comfyui_version
E     Extra inputs are not permitted [type=extra_forbidden, input_value='latest', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   verbose_logs
E     Extra inputs are not permitted [type=extra_forbidden, input_value='false', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
_______ ERROR at setup of TestBroadcasting.test_broadcast_message_format _______
tests/test_websocket_manager.py:14: in websocket_manager_with_mock
    with patch('websocket_manager.RedisClient', return_value=mock_redis_client):
/usr/lib/python3.12/unittest/mock.py:1442: in __enter__
    self.target = self.getter()
/usr/lib/python3.12/pkgutil.py:513: in resolve_name
    mod = importlib.import_module(modname)
/usr/lib/python3.12/importlib/__init__.py:90: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
<frozen importlib._bootstrap>:1387: in _gcd_import
    ???
<frozen importlib._bootstrap>:1360: in _find_and_load
    ???
<frozen importlib._bootstrap>:1331: in _find_and_load_unlocked
    ???
<frozen importlib._bootstrap>:935: in _load_unlocked
    ???
<frozen importlib._bootstrap_external>:995: in exec_module
    ???
<frozen importlib._bootstrap>:488: in _call_with_frames_removed
    ???
queue-manager/websocket_manager.py:9: in <module>
    from redis_client import RedisClient
queue-manager/redis_client.py:11: in <module>
    from config import settings
queue-manager/config.py:51: in <module>
    settings = Settings()
test_venv/lib/python3.12/site-packages/pydantic_settings/main.py:194: in __init__
    super().__init__(
E   pydantic_core._pydantic_core.ValidationError: 23 validation errors for Settings
E   domain
E     Extra inputs are not permitted [type=extra_forbidden, input_value='comfy.ahelme.net', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   ssl_cert_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='/etc/letsencrypt/live/ahelme.net/fullchain.pem', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   ssl_key_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='/etc/letsencrypt/live/ahelme.net/privkey.pem', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   verda_instance_type
E     Extra inputs are not permitted [type=extra_forbidden, input_value='h100-sxm5', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   verda_region
E     Extra inputs are not permitted [type=extra_forbidden, input_value='eu-central', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   num_users
E     Extra inputs are not permitted [type=extra_forbidden, input_value='20', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   user_id_prefix
E     Extra inputs are not permitted [type=extra_forbidden, input_value='user', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   worker_gpu_memory_limit
E     Extra inputs are not permitted [type=extra_forbidden, input_value='70G', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   worker_restart_policy
E     Extra inputs are not permitted [type=extra_forbidden, input_value='unless-stopped', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   redis_persistence
E     Extra inputs are not permitted [type=extra_forbidden, input_value='yes', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   queue_manager_host
E     Extra inputs are not permitted [type=extra_forbidden, input_value='queue-manager', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   queue_manager_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='3000', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   queue_manager_log_level
E     Extra inputs are not permitted [type=extra_forbidden, input_value='INFO', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   admin_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='8080', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   admin_username
E     Extra inputs are not permitted [type=extra_forbidden, input_value='admin', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   admin_password
E     Extra inputs are not permitted [type=extra_forbidden, input_value='change_me_secure_password', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   nginx_http_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='80', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   nginx_https_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='443', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   models_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='./data/models', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   workflows_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='./data/workflows', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   comfyui_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='8188', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   comfyui_version
E     Extra inputs are not permitted [type=extra_forbidden, input_value='latest', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   verbose_logs
E     Extra inputs are not permitted [type=extra_forbidden, input_value='false', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
____ ERROR at setup of TestBroadcasting.test_broadcast_to_empty_connections ____
tests/test_websocket_manager.py:14: in websocket_manager_with_mock
    with patch('websocket_manager.RedisClient', return_value=mock_redis_client):
/usr/lib/python3.12/unittest/mock.py:1442: in __enter__
    self.target = self.getter()
/usr/lib/python3.12/pkgutil.py:513: in resolve_name
    mod = importlib.import_module(modname)
/usr/lib/python3.12/importlib/__init__.py:90: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
<frozen importlib._bootstrap>:1387: in _gcd_import
    ???
<frozen importlib._bootstrap>:1360: in _find_and_load
    ???
<frozen importlib._bootstrap>:1331: in _find_and_load_unlocked
    ???
<frozen importlib._bootstrap>:935: in _load_unlocked
    ???
<frozen importlib._bootstrap_external>:995: in exec_module
    ???
<frozen importlib._bootstrap>:488: in _call_with_frames_removed
    ???
queue-manager/websocket_manager.py:9: in <module>
    from redis_client import RedisClient
queue-manager/redis_client.py:11: in <module>
    from config import settings
queue-manager/config.py:51: in <module>
    settings = Settings()
test_venv/lib/python3.12/site-packages/pydantic_settings/main.py:194: in __init__
    super().__init__(
E   pydantic_core._pydantic_core.ValidationError: 23 validation errors for Settings
E   domain
E     Extra inputs are not permitted [type=extra_forbidden, input_value='comfy.ahelme.net', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   ssl_cert_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='/etc/letsencrypt/live/ahelme.net/fullchain.pem', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   ssl_key_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='/etc/letsencrypt/live/ahelme.net/privkey.pem', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   verda_instance_type
E     Extra inputs are not permitted [type=extra_forbidden, input_value='h100-sxm5', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   verda_region
E     Extra inputs are not permitted [type=extra_forbidden, input_value='eu-central', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   num_users
E     Extra inputs are not permitted [type=extra_forbidden, input_value='20', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   user_id_prefix
E     Extra inputs are not permitted [type=extra_forbidden, input_value='user', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   worker_gpu_memory_limit
E     Extra inputs are not permitted [type=extra_forbidden, input_value='70G', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   worker_restart_policy
E     Extra inputs are not permitted [type=extra_forbidden, input_value='unless-stopped', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   redis_persistence
E     Extra inputs are not permitted [type=extra_forbidden, input_value='yes', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   queue_manager_host
E     Extra inputs are not permitted [type=extra_forbidden, input_value='queue-manager', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   queue_manager_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='3000', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   queue_manager_log_level
E     Extra inputs are not permitted [type=extra_forbidden, input_value='INFO', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   admin_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='8080', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   admin_username
E     Extra inputs are not permitted [type=extra_forbidden, input_value='admin', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   admin_password
E     Extra inputs are not permitted [type=extra_forbidden, input_value='change_me_secure_password', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   nginx_http_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='80', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   nginx_https_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='443', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   models_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='./data/models', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   workflows_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='./data/workflows', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   comfyui_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='8188', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   comfyui_version
E     Extra inputs are not permitted [type=extra_forbidden, input_value='latest', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   verbose_logs
E     Extra inputs are not permitted [type=extra_forbidden, input_value='false', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
_ ERROR at setup of TestBroadcasting.test_broadcast_handles_disconnected_client _
tests/test_websocket_manager.py:14: in websocket_manager_with_mock
    with patch('websocket_manager.RedisClient', return_value=mock_redis_client):
/usr/lib/python3.12/unittest/mock.py:1442: in __enter__
    self.target = self.getter()
/usr/lib/python3.12/pkgutil.py:513: in resolve_name
    mod = importlib.import_module(modname)
/usr/lib/python3.12/importlib/__init__.py:90: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
<frozen importlib._bootstrap>:1387: in _gcd_import
    ???
<frozen importlib._bootstrap>:1360: in _find_and_load
    ???
<frozen importlib._bootstrap>:1331: in _find_and_load_unlocked
    ???
<frozen importlib._bootstrap>:935: in _load_unlocked
    ???
<frozen importlib._bootstrap_external>:995: in exec_module
    ???
<frozen importlib._bootstrap>:488: in _call_with_frames_removed
    ???
queue-manager/websocket_manager.py:9: in <module>
    from redis_client import RedisClient
queue-manager/redis_client.py:11: in <module>
    from config import settings
queue-manager/config.py:51: in <module>
    settings = Settings()
test_venv/lib/python3.12/site-packages/pydantic_settings/main.py:194: in __init__
    super().__init__(
E   pydantic_core._pydantic_core.ValidationError: 23 validation errors for Settings
E   domain
E     Extra inputs are not permitted [type=extra_forbidden, input_value='comfy.ahelme.net', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   ssl_cert_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='/etc/letsencrypt/live/ahelme.net/fullchain.pem', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   ssl_key_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='/etc/letsencrypt/live/ahelme.net/privkey.pem', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   verda_instance_type
E     Extra inputs are not permitted [type=extra_forbidden, input_value='h100-sxm5', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   verda_region
E     Extra inputs are not permitted [type=extra_forbidden, input_value='eu-central', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   num_users
E     Extra inputs are not permitted [type=extra_forbidden, input_value='20', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   user_id_prefix
E     Extra inputs are not permitted [type=extra_forbidden, input_value='user', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   worker_gpu_memory_limit
E     Extra inputs are not permitted [type=extra_forbidden, input_value='70G', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   worker_restart_policy
E     Extra inputs are not permitted [type=extra_forbidden, input_value='unless-stopped', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   redis_persistence
E     Extra inputs are not permitted [type=extra_forbidden, input_value='yes', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   queue_manager_host
E     Extra inputs are not permitted [type=extra_forbidden, input_value='queue-manager', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   queue_manager_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='3000', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   queue_manager_log_level
E     Extra inputs are not permitted [type=extra_forbidden, input_value='INFO', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   admin_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='8080', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   admin_username
E     Extra inputs are not permitted [type=extra_forbidden, input_value='admin', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   admin_password
E     Extra inputs are not permitted [type=extra_forbidden, input_value='change_me_secure_password', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   nginx_http_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='80', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   nginx_https_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='443', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   models_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='./data/models', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   workflows_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='./data/workflows', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   comfyui_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='8188', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   comfyui_version
E     Extra inputs are not permitted [type=extra_forbidden, input_value='latest', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   verbose_logs
E     Extra inputs are not permitted [type=extra_forbidden, input_value='false', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
_____ ERROR at setup of TestMessageTypes.test_broadcast_job_status_update ______
tests/test_websocket_manager.py:14: in websocket_manager_with_mock
    with patch('websocket_manager.RedisClient', return_value=mock_redis_client):
/usr/lib/python3.12/unittest/mock.py:1442: in __enter__
    self.target = self.getter()
/usr/lib/python3.12/pkgutil.py:513: in resolve_name
    mod = importlib.import_module(modname)
/usr/lib/python3.12/importlib/__init__.py:90: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
<frozen importlib._bootstrap>:1387: in _gcd_import
    ???
<frozen importlib._bootstrap>:1360: in _find_and_load
    ???
<frozen importlib._bootstrap>:1331: in _find_and_load_unlocked
    ???
<frozen importlib._bootstrap>:935: in _load_unlocked
    ???
<frozen importlib._bootstrap_external>:995: in exec_module
    ???
<frozen importlib._bootstrap>:488: in _call_with_frames_removed
    ???
queue-manager/websocket_manager.py:9: in <module>
    from redis_client import RedisClient
queue-manager/redis_client.py:11: in <module>
    from config import settings
queue-manager/config.py:51: in <module>
    settings = Settings()
test_venv/lib/python3.12/site-packages/pydantic_settings/main.py:194: in __init__
    super().__init__(
E   pydantic_core._pydantic_core.ValidationError: 23 validation errors for Settings
E   domain
E     Extra inputs are not permitted [type=extra_forbidden, input_value='comfy.ahelme.net', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   ssl_cert_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='/etc/letsencrypt/live/ahelme.net/fullchain.pem', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   ssl_key_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='/etc/letsencrypt/live/ahelme.net/privkey.pem', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   verda_instance_type
E     Extra inputs are not permitted [type=extra_forbidden, input_value='h100-sxm5', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   verda_region
E     Extra inputs are not permitted [type=extra_forbidden, input_value='eu-central', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   num_users
E     Extra inputs are not permitted [type=extra_forbidden, input_value='20', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   user_id_prefix
E     Extra inputs are not permitted [type=extra_forbidden, input_value='user', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   worker_gpu_memory_limit
E     Extra inputs are not permitted [type=extra_forbidden, input_value='70G', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   worker_restart_policy
E     Extra inputs are not permitted [type=extra_forbidden, input_value='unless-stopped', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   redis_persistence
E     Extra inputs are not permitted [type=extra_forbidden, input_value='yes', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   queue_manager_host
E     Extra inputs are not permitted [type=extra_forbidden, input_value='queue-manager', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   queue_manager_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='3000', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   queue_manager_log_level
E     Extra inputs are not permitted [type=extra_forbidden, input_value='INFO', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   admin_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='8080', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   admin_username
E     Extra inputs are not permitted [type=extra_forbidden, input_value='admin', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   admin_password
E     Extra inputs are not permitted [type=extra_forbidden, input_value='change_me_secure_password', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   nginx_http_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='80', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   nginx_https_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='443', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   models_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='./data/models', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   workflows_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='./data/workflows', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   comfyui_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='8188', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   comfyui_version
E     Extra inputs are not permitted [type=extra_forbidden, input_value='latest', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   verbose_logs
E     Extra inputs are not permitted [type=extra_forbidden, input_value='false', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
____ ERROR at setup of TestMessageTypes.test_broadcast_queue_status_update _____
tests/test_websocket_manager.py:14: in websocket_manager_with_mock
    with patch('websocket_manager.RedisClient', return_value=mock_redis_client):
/usr/lib/python3.12/unittest/mock.py:1442: in __enter__
    self.target = self.getter()
/usr/lib/python3.12/pkgutil.py:513: in resolve_name
    mod = importlib.import_module(modname)
/usr/lib/python3.12/importlib/__init__.py:90: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
<frozen importlib._bootstrap>:1387: in _gcd_import
    ???
<frozen importlib._bootstrap>:1360: in _find_and_load
    ???
<frozen importlib._bootstrap>:1331: in _find_and_load_unlocked
    ???
<frozen importlib._bootstrap>:935: in _load_unlocked
    ???
<frozen importlib._bootstrap_external>:995: in exec_module
    ???
<frozen importlib._bootstrap>:488: in _call_with_frames_removed
    ???
queue-manager/websocket_manager.py:9: in <module>
    from redis_client import RedisClient
queue-manager/redis_client.py:11: in <module>
    from config import settings
queue-manager/config.py:51: in <module>
    settings = Settings()
test_venv/lib/python3.12/site-packages/pydantic_settings/main.py:194: in __init__
    super().__init__(
E   pydantic_core._pydantic_core.ValidationError: 23 validation errors for Settings
E   domain
E     Extra inputs are not permitted [type=extra_forbidden, input_value='comfy.ahelme.net', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   ssl_cert_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='/etc/letsencrypt/live/ahelme.net/fullchain.pem', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   ssl_key_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='/etc/letsencrypt/live/ahelme.net/privkey.pem', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   verda_instance_type
E     Extra inputs are not permitted [type=extra_forbidden, input_value='h100-sxm5', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   verda_region
E     Extra inputs are not permitted [type=extra_forbidden, input_value='eu-central', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   num_users
E     Extra inputs are not permitted [type=extra_forbidden, input_value='20', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   user_id_prefix
E     Extra inputs are not permitted [type=extra_forbidden, input_value='user', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   worker_gpu_memory_limit
E     Extra inputs are not permitted [type=extra_forbidden, input_value='70G', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   worker_restart_policy
E     Extra inputs are not permitted [type=extra_forbidden, input_value='unless-stopped', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   redis_persistence
E     Extra inputs are not permitted [type=extra_forbidden, input_value='yes', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   queue_manager_host
E     Extra inputs are not permitted [type=extra_forbidden, input_value='queue-manager', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   queue_manager_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='3000', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   queue_manager_log_level
E     Extra inputs are not permitted [type=extra_forbidden, input_value='INFO', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   admin_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='8080', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   admin_username
E     Extra inputs are not permitted [type=extra_forbidden, input_value='admin', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   admin_password
E     Extra inputs are not permitted [type=extra_forbidden, input_value='change_me_secure_password', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   nginx_http_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='80', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   nginx_https_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='443', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   models_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='./data/models', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   workflows_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='./data/workflows', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   comfyui_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='8188', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   comfyui_version
E     Extra inputs are not permitted [type=extra_forbidden, input_value='latest', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   verbose_logs
E     Extra inputs are not permitted [type=extra_forbidden, input_value='false', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
____ ERROR at setup of TestMessageTypes.test_broadcast_worker_status_update ____
tests/test_websocket_manager.py:14: in websocket_manager_with_mock
    with patch('websocket_manager.RedisClient', return_value=mock_redis_client):
/usr/lib/python3.12/unittest/mock.py:1442: in __enter__
    self.target = self.getter()
/usr/lib/python3.12/pkgutil.py:513: in resolve_name
    mod = importlib.import_module(modname)
/usr/lib/python3.12/importlib/__init__.py:90: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
<frozen importlib._bootstrap>:1387: in _gcd_import
    ???
<frozen importlib._bootstrap>:1360: in _find_and_load
    ???
<frozen importlib._bootstrap>:1331: in _find_and_load_unlocked
    ???
<frozen importlib._bootstrap>:935: in _load_unlocked
    ???
<frozen importlib._bootstrap_external>:995: in exec_module
    ???
<frozen importlib._bootstrap>:488: in _call_with_frames_removed
    ???
queue-manager/websocket_manager.py:9: in <module>
    from redis_client import RedisClient
queue-manager/redis_client.py:11: in <module>
    from config import settings
queue-manager/config.py:51: in <module>
    settings = Settings()
test_venv/lib/python3.12/site-packages/pydantic_settings/main.py:194: in __init__
    super().__init__(
E   pydantic_core._pydantic_core.ValidationError: 23 validation errors for Settings
E   domain
E     Extra inputs are not permitted [type=extra_forbidden, input_value='comfy.ahelme.net', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   ssl_cert_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='/etc/letsencrypt/live/ahelme.net/fullchain.pem', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   ssl_key_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='/etc/letsencrypt/live/ahelme.net/privkey.pem', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   verda_instance_type
E     Extra inputs are not permitted [type=extra_forbidden, input_value='h100-sxm5', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   verda_region
E     Extra inputs are not permitted [type=extra_forbidden, input_value='eu-central', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   num_users
E     Extra inputs are not permitted [type=extra_forbidden, input_value='20', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   user_id_prefix
E     Extra inputs are not permitted [type=extra_forbidden, input_value='user', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   worker_gpu_memory_limit
E     Extra inputs are not permitted [type=extra_forbidden, input_value='70G', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   worker_restart_policy
E     Extra inputs are not permitted [type=extra_forbidden, input_value='unless-stopped', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   redis_persistence
E     Extra inputs are not permitted [type=extra_forbidden, input_value='yes', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   queue_manager_host
E     Extra inputs are not permitted [type=extra_forbidden, input_value='queue-manager', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   queue_manager_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='3000', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   queue_manager_log_level
E     Extra inputs are not permitted [type=extra_forbidden, input_value='INFO', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   admin_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='8080', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   admin_username
E     Extra inputs are not permitted [type=extra_forbidden, input_value='admin', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   admin_password
E     Extra inputs are not permitted [type=extra_forbidden, input_value='change_me_secure_password', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   nginx_http_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='80', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   nginx_https_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='443', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   models_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='./data/models', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   workflows_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='./data/workflows', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   comfyui_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='8188', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   comfyui_version
E     Extra inputs are not permitted [type=extra_forbidden, input_value='latest', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   verbose_logs
E     Extra inputs are not permitted [type=extra_forbidden, input_value='false', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
______ ERROR at setup of TestPubSubListener.test_listener_initialization _______
tests/test_websocket_manager.py:14: in websocket_manager_with_mock
    with patch('websocket_manager.RedisClient', return_value=mock_redis_client):
/usr/lib/python3.12/unittest/mock.py:1442: in __enter__
    self.target = self.getter()
/usr/lib/python3.12/pkgutil.py:513: in resolve_name
    mod = importlib.import_module(modname)
/usr/lib/python3.12/importlib/__init__.py:90: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
<frozen importlib._bootstrap>:1387: in _gcd_import
    ???
<frozen importlib._bootstrap>:1360: in _find_and_load
    ???
<frozen importlib._bootstrap>:1331: in _find_and_load_unlocked
    ???
<frozen importlib._bootstrap>:935: in _load_unlocked
    ???
<frozen importlib._bootstrap_external>:995: in exec_module
    ???
<frozen importlib._bootstrap>:488: in _call_with_frames_removed
    ???
queue-manager/websocket_manager.py:9: in <module>
    from redis_client import RedisClient
queue-manager/redis_client.py:11: in <module>
    from config import settings
queue-manager/config.py:51: in <module>
    settings = Settings()
test_venv/lib/python3.12/site-packages/pydantic_settings/main.py:194: in __init__
    super().__init__(
E   pydantic_core._pydantic_core.ValidationError: 23 validation errors for Settings
E   domain
E     Extra inputs are not permitted [type=extra_forbidden, input_value='comfy.ahelme.net', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   ssl_cert_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='/etc/letsencrypt/live/ahelme.net/fullchain.pem', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   ssl_key_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='/etc/letsencrypt/live/ahelme.net/privkey.pem', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   verda_instance_type
E     Extra inputs are not permitted [type=extra_forbidden, input_value='h100-sxm5', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   verda_region
E     Extra inputs are not permitted [type=extra_forbidden, input_value='eu-central', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   num_users
E     Extra inputs are not permitted [type=extra_forbidden, input_value='20', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   user_id_prefix
E     Extra inputs are not permitted [type=extra_forbidden, input_value='user', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   worker_gpu_memory_limit
E     Extra inputs are not permitted [type=extra_forbidden, input_value='70G', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   worker_restart_policy
E     Extra inputs are not permitted [type=extra_forbidden, input_value='unless-stopped', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   redis_persistence
E     Extra inputs are not permitted [type=extra_forbidden, input_value='yes', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   queue_manager_host
E     Extra inputs are not permitted [type=extra_forbidden, input_value='queue-manager', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   queue_manager_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='3000', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   queue_manager_log_level
E     Extra inputs are not permitted [type=extra_forbidden, input_value='INFO', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   admin_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='8080', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   admin_username
E     Extra inputs are not permitted [type=extra_forbidden, input_value='admin', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   admin_password
E     Extra inputs are not permitted [type=extra_forbidden, input_value='change_me_secure_password', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   nginx_http_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='80', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   nginx_https_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='443', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   models_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='./data/models', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   workflows_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='./data/workflows', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   comfyui_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='8188', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   comfyui_version
E     Extra inputs are not permitted [type=extra_forbidden, input_value='latest', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   verbose_logs
E     Extra inputs are not permitted [type=extra_forbidden, input_value='false', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
____ ERROR at setup of TestPubSubListener.test_listener_reconnection_logic _____
tests/test_websocket_manager.py:14: in websocket_manager_with_mock
    with patch('websocket_manager.RedisClient', return_value=mock_redis_client):
/usr/lib/python3.12/unittest/mock.py:1442: in __enter__
    self.target = self.getter()
/usr/lib/python3.12/pkgutil.py:513: in resolve_name
    mod = importlib.import_module(modname)
/usr/lib/python3.12/importlib/__init__.py:90: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
<frozen importlib._bootstrap>:1387: in _gcd_import
    ???
<frozen importlib._bootstrap>:1360: in _find_and_load
    ???
<frozen importlib._bootstrap>:1331: in _find_and_load_unlocked
    ???
<frozen importlib._bootstrap>:935: in _load_unlocked
    ???
<frozen importlib._bootstrap_external>:995: in exec_module
    ???
<frozen importlib._bootstrap>:488: in _call_with_frames_removed
    ???
queue-manager/websocket_manager.py:9: in <module>
    from redis_client import RedisClient
queue-manager/redis_client.py:11: in <module>
    from config import settings
queue-manager/config.py:51: in <module>
    settings = Settings()
test_venv/lib/python3.12/site-packages/pydantic_settings/main.py:194: in __init__
    super().__init__(
E   pydantic_core._pydantic_core.ValidationError: 23 validation errors for Settings
E   domain
E     Extra inputs are not permitted [type=extra_forbidden, input_value='comfy.ahelme.net', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   ssl_cert_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='/etc/letsencrypt/live/ahelme.net/fullchain.pem', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   ssl_key_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='/etc/letsencrypt/live/ahelme.net/privkey.pem', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   verda_instance_type
E     Extra inputs are not permitted [type=extra_forbidden, input_value='h100-sxm5', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   verda_region
E     Extra inputs are not permitted [type=extra_forbidden, input_value='eu-central', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   num_users
E     Extra inputs are not permitted [type=extra_forbidden, input_value='20', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   user_id_prefix
E     Extra inputs are not permitted [type=extra_forbidden, input_value='user', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   worker_gpu_memory_limit
E     Extra inputs are not permitted [type=extra_forbidden, input_value='70G', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   worker_restart_policy
E     Extra inputs are not permitted [type=extra_forbidden, input_value='unless-stopped', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   redis_persistence
E     Extra inputs are not permitted [type=extra_forbidden, input_value='yes', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   queue_manager_host
E     Extra inputs are not permitted [type=extra_forbidden, input_value='queue-manager', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   queue_manager_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='3000', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   queue_manager_log_level
E     Extra inputs are not permitted [type=extra_forbidden, input_value='INFO', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   admin_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='8080', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   admin_username
E     Extra inputs are not permitted [type=extra_forbidden, input_value='admin', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   admin_password
E     Extra inputs are not permitted [type=extra_forbidden, input_value='change_me_secure_password', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   nginx_http_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='80', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   nginx_https_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='443', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   models_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='./data/models', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   workflows_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='./data/workflows', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   comfyui_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='8188', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   comfyui_version
E     Extra inputs are not permitted [type=extra_forbidden, input_value='latest', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   verbose_logs
E     Extra inputs are not permitted [type=extra_forbidden, input_value='false', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
_ ERROR at setup of TestMessageBroadcastFromPubSub.test_pubsub_message_forwarding _
tests/test_websocket_manager.py:14: in websocket_manager_with_mock
    with patch('websocket_manager.RedisClient', return_value=mock_redis_client):
/usr/lib/python3.12/unittest/mock.py:1442: in __enter__
    self.target = self.getter()
/usr/lib/python3.12/pkgutil.py:513: in resolve_name
    mod = importlib.import_module(modname)
/usr/lib/python3.12/importlib/__init__.py:90: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
<frozen importlib._bootstrap>:1387: in _gcd_import
    ???
<frozen importlib._bootstrap>:1360: in _find_and_load
    ???
<frozen importlib._bootstrap>:1331: in _find_and_load_unlocked
    ???
<frozen importlib._bootstrap>:935: in _load_unlocked
    ???
<frozen importlib._bootstrap_external>:995: in exec_module
    ???
<frozen importlib._bootstrap>:488: in _call_with_frames_removed
    ???
queue-manager/websocket_manager.py:9: in <module>
    from redis_client import RedisClient
queue-manager/redis_client.py:11: in <module>
    from config import settings
queue-manager/config.py:51: in <module>
    settings = Settings()
test_venv/lib/python3.12/site-packages/pydantic_settings/main.py:194: in __init__
    super().__init__(
E   pydantic_core._pydantic_core.ValidationError: 23 validation errors for Settings
E   domain
E     Extra inputs are not permitted [type=extra_forbidden, input_value='comfy.ahelme.net', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   ssl_cert_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='/etc/letsencrypt/live/ahelme.net/fullchain.pem', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   ssl_key_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='/etc/letsencrypt/live/ahelme.net/privkey.pem', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   verda_instance_type
E     Extra inputs are not permitted [type=extra_forbidden, input_value='h100-sxm5', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   verda_region
E     Extra inputs are not permitted [type=extra_forbidden, input_value='eu-central', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   num_users
E     Extra inputs are not permitted [type=extra_forbidden, input_value='20', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   user_id_prefix
E     Extra inputs are not permitted [type=extra_forbidden, input_value='user', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   worker_gpu_memory_limit
E     Extra inputs are not permitted [type=extra_forbidden, input_value='70G', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   worker_restart_policy
E     Extra inputs are not permitted [type=extra_forbidden, input_value='unless-stopped', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   redis_persistence
E     Extra inputs are not permitted [type=extra_forbidden, input_value='yes', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   queue_manager_host
E     Extra inputs are not permitted [type=extra_forbidden, input_value='queue-manager', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   queue_manager_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='3000', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   queue_manager_log_level
E     Extra inputs are not permitted [type=extra_forbidden, input_value='INFO', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   admin_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='8080', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   admin_username
E     Extra inputs are not permitted [type=extra_forbidden, input_value='admin', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   admin_password
E     Extra inputs are not permitted [type=extra_forbidden, input_value='change_me_secure_password', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   nginx_http_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='80', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   nginx_https_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='443', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   models_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='./data/models', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   workflows_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='./data/workflows', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   comfyui_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='8188', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   comfyui_version
E     Extra inputs are not permitted [type=extra_forbidden, input_value='latest', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   verbose_logs
E     Extra inputs are not permitted [type=extra_forbidden, input_value='false', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
_ ERROR at setup of TestConnectionErrorHandling.test_broadcast_with_send_error _
tests/test_websocket_manager.py:14: in websocket_manager_with_mock
    with patch('websocket_manager.RedisClient', return_value=mock_redis_client):
/usr/lib/python3.12/unittest/mock.py:1442: in __enter__
    self.target = self.getter()
/usr/lib/python3.12/pkgutil.py:513: in resolve_name
    mod = importlib.import_module(modname)
/usr/lib/python3.12/importlib/__init__.py:90: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
<frozen importlib._bootstrap>:1387: in _gcd_import
    ???
<frozen importlib._bootstrap>:1360: in _find_and_load
    ???
<frozen importlib._bootstrap>:1331: in _find_and_load_unlocked
    ???
<frozen importlib._bootstrap>:935: in _load_unlocked
    ???
<frozen importlib._bootstrap_external>:995: in exec_module
    ???
<frozen importlib._bootstrap>:488: in _call_with_frames_removed
    ???
queue-manager/websocket_manager.py:9: in <module>
    from redis_client import RedisClient
queue-manager/redis_client.py:11: in <module>
    from config import settings
queue-manager/config.py:51: in <module>
    settings = Settings()
test_venv/lib/python3.12/site-packages/pydantic_settings/main.py:194: in __init__
    super().__init__(
E   pydantic_core._pydantic_core.ValidationError: 23 validation errors for Settings
E   domain
E     Extra inputs are not permitted [type=extra_forbidden, input_value='comfy.ahelme.net', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   ssl_cert_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='/etc/letsencrypt/live/ahelme.net/fullchain.pem', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   ssl_key_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='/etc/letsencrypt/live/ahelme.net/privkey.pem', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   verda_instance_type
E     Extra inputs are not permitted [type=extra_forbidden, input_value='h100-sxm5', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   verda_region
E     Extra inputs are not permitted [type=extra_forbidden, input_value='eu-central', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   num_users
E     Extra inputs are not permitted [type=extra_forbidden, input_value='20', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   user_id_prefix
E     Extra inputs are not permitted [type=extra_forbidden, input_value='user', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   worker_gpu_memory_limit
E     Extra inputs are not permitted [type=extra_forbidden, input_value='70G', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   worker_restart_policy
E     Extra inputs are not permitted [type=extra_forbidden, input_value='unless-stopped', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   redis_persistence
E     Extra inputs are not permitted [type=extra_forbidden, input_value='yes', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   queue_manager_host
E     Extra inputs are not permitted [type=extra_forbidden, input_value='queue-manager', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   queue_manager_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='3000', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   queue_manager_log_level
E     Extra inputs are not permitted [type=extra_forbidden, input_value='INFO', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   admin_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='8080', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   admin_username
E     Extra inputs are not permitted [type=extra_forbidden, input_value='admin', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   admin_password
E     Extra inputs are not permitted [type=extra_forbidden, input_value='change_me_secure_password', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   nginx_http_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='80', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   nginx_https_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='443', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   models_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='./data/models', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   workflows_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='./data/workflows', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   comfyui_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='8188', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   comfyui_version
E     Extra inputs are not permitted [type=extra_forbidden, input_value='latest', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   verbose_logs
E     Extra inputs are not permitted [type=extra_forbidden, input_value='false', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
____ ERROR at setup of TestConnectionErrorHandling.test_connection_cleanup _____
tests/test_websocket_manager.py:14: in websocket_manager_with_mock
    with patch('websocket_manager.RedisClient', return_value=mock_redis_client):
/usr/lib/python3.12/unittest/mock.py:1442: in __enter__
    self.target = self.getter()
/usr/lib/python3.12/pkgutil.py:513: in resolve_name
    mod = importlib.import_module(modname)
/usr/lib/python3.12/importlib/__init__.py:90: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
<frozen importlib._bootstrap>:1387: in _gcd_import
    ???
<frozen importlib._bootstrap>:1360: in _find_and_load
    ???
<frozen importlib._bootstrap>:1331: in _find_and_load_unlocked
    ???
<frozen importlib._bootstrap>:935: in _load_unlocked
    ???
<frozen importlib._bootstrap_external>:995: in exec_module
    ???
<frozen importlib._bootstrap>:488: in _call_with_frames_removed
    ???
queue-manager/websocket_manager.py:9: in <module>
    from redis_client import RedisClient
queue-manager/redis_client.py:11: in <module>
    from config import settings
queue-manager/config.py:51: in <module>
    settings = Settings()
test_venv/lib/python3.12/site-packages/pydantic_settings/main.py:194: in __init__
    super().__init__(
E   pydantic_core._pydantic_core.ValidationError: 23 validation errors for Settings
E   domain
E     Extra inputs are not permitted [type=extra_forbidden, input_value='comfy.ahelme.net', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   ssl_cert_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='/etc/letsencrypt/live/ahelme.net/fullchain.pem', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   ssl_key_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='/etc/letsencrypt/live/ahelme.net/privkey.pem', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   verda_instance_type
E     Extra inputs are not permitted [type=extra_forbidden, input_value='h100-sxm5', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   verda_region
E     Extra inputs are not permitted [type=extra_forbidden, input_value='eu-central', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   num_users
E     Extra inputs are not permitted [type=extra_forbidden, input_value='20', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   user_id_prefix
E     Extra inputs are not permitted [type=extra_forbidden, input_value='user', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   worker_gpu_memory_limit
E     Extra inputs are not permitted [type=extra_forbidden, input_value='70G', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   worker_restart_policy
E     Extra inputs are not permitted [type=extra_forbidden, input_value='unless-stopped', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   redis_persistence
E     Extra inputs are not permitted [type=extra_forbidden, input_value='yes', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   queue_manager_host
E     Extra inputs are not permitted [type=extra_forbidden, input_value='queue-manager', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   queue_manager_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='3000', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   queue_manager_log_level
E     Extra inputs are not permitted [type=extra_forbidden, input_value='INFO', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   admin_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='8080', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   admin_username
E     Extra inputs are not permitted [type=extra_forbidden, input_value='admin', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   admin_password
E     Extra inputs are not permitted [type=extra_forbidden, input_value='change_me_secure_password', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   nginx_http_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='80', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   nginx_https_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='443', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   models_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='./data/models', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   workflows_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='./data/workflows', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   comfyui_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='8188', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   comfyui_version
E     Extra inputs are not permitted [type=extra_forbidden, input_value='latest', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   verbose_logs
E     Extra inputs are not permitted [type=extra_forbidden, input_value='false', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
________ ERROR at setup of TestConcurrency.test_concurrent_connections _________
tests/test_websocket_manager.py:14: in websocket_manager_with_mock
    with patch('websocket_manager.RedisClient', return_value=mock_redis_client):
/usr/lib/python3.12/unittest/mock.py:1442: in __enter__
    self.target = self.getter()
/usr/lib/python3.12/pkgutil.py:513: in resolve_name
    mod = importlib.import_module(modname)
/usr/lib/python3.12/importlib/__init__.py:90: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
<frozen importlib._bootstrap>:1387: in _gcd_import
    ???
<frozen importlib._bootstrap>:1360: in _find_and_load
    ???
<frozen importlib._bootstrap>:1331: in _find_and_load_unlocked
    ???
<frozen importlib._bootstrap>:935: in _load_unlocked
    ???
<frozen importlib._bootstrap_external>:995: in exec_module
    ???
<frozen importlib._bootstrap>:488: in _call_with_frames_removed
    ???
queue-manager/websocket_manager.py:9: in <module>
    from redis_client import RedisClient
queue-manager/redis_client.py:11: in <module>
    from config import settings
queue-manager/config.py:51: in <module>
    settings = Settings()
test_venv/lib/python3.12/site-packages/pydantic_settings/main.py:194: in __init__
    super().__init__(
E   pydantic_core._pydantic_core.ValidationError: 23 validation errors for Settings
E   domain
E     Extra inputs are not permitted [type=extra_forbidden, input_value='comfy.ahelme.net', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   ssl_cert_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='/etc/letsencrypt/live/ahelme.net/fullchain.pem', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   ssl_key_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='/etc/letsencrypt/live/ahelme.net/privkey.pem', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   verda_instance_type
E     Extra inputs are not permitted [type=extra_forbidden, input_value='h100-sxm5', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   verda_region
E     Extra inputs are not permitted [type=extra_forbidden, input_value='eu-central', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   num_users
E     Extra inputs are not permitted [type=extra_forbidden, input_value='20', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   user_id_prefix
E     Extra inputs are not permitted [type=extra_forbidden, input_value='user', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   worker_gpu_memory_limit
E     Extra inputs are not permitted [type=extra_forbidden, input_value='70G', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   worker_restart_policy
E     Extra inputs are not permitted [type=extra_forbidden, input_value='unless-stopped', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   redis_persistence
E     Extra inputs are not permitted [type=extra_forbidden, input_value='yes', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   queue_manager_host
E     Extra inputs are not permitted [type=extra_forbidden, input_value='queue-manager', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   queue_manager_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='3000', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   queue_manager_log_level
E     Extra inputs are not permitted [type=extra_forbidden, input_value='INFO', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   admin_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='8080', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   admin_username
E     Extra inputs are not permitted [type=extra_forbidden, input_value='admin', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   admin_password
E     Extra inputs are not permitted [type=extra_forbidden, input_value='change_me_secure_password', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   nginx_http_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='80', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   nginx_https_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='443', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   models_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='./data/models', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   workflows_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='./data/workflows', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   comfyui_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='8188', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   comfyui_version
E     Extra inputs are not permitted [type=extra_forbidden, input_value='latest', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   verbose_logs
E     Extra inputs are not permitted [type=extra_forbidden, input_value='false', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
_________ ERROR at setup of TestConcurrency.test_concurrent_broadcasts _________
tests/test_websocket_manager.py:14: in websocket_manager_with_mock
    with patch('websocket_manager.RedisClient', return_value=mock_redis_client):
/usr/lib/python3.12/unittest/mock.py:1442: in __enter__
    self.target = self.getter()
/usr/lib/python3.12/pkgutil.py:513: in resolve_name
    mod = importlib.import_module(modname)
/usr/lib/python3.12/importlib/__init__.py:90: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
<frozen importlib._bootstrap>:1387: in _gcd_import
    ???
<frozen importlib._bootstrap>:1360: in _find_and_load
    ???
<frozen importlib._bootstrap>:1331: in _find_and_load_unlocked
    ???
<frozen importlib._bootstrap>:935: in _load_unlocked
    ???
<frozen importlib._bootstrap_external>:995: in exec_module
    ???
<frozen importlib._bootstrap>:488: in _call_with_frames_removed
    ???
queue-manager/websocket_manager.py:9: in <module>
    from redis_client import RedisClient
queue-manager/redis_client.py:11: in <module>
    from config import settings
queue-manager/config.py:51: in <module>
    settings = Settings()
test_venv/lib/python3.12/site-packages/pydantic_settings/main.py:194: in __init__
    super().__init__(
E   pydantic_core._pydantic_core.ValidationError: 23 validation errors for Settings
E   domain
E     Extra inputs are not permitted [type=extra_forbidden, input_value='comfy.ahelme.net', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   ssl_cert_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='/etc/letsencrypt/live/ahelme.net/fullchain.pem', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   ssl_key_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='/etc/letsencrypt/live/ahelme.net/privkey.pem', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   verda_instance_type
E     Extra inputs are not permitted [type=extra_forbidden, input_value='h100-sxm5', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   verda_region
E     Extra inputs are not permitted [type=extra_forbidden, input_value='eu-central', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   num_users
E     Extra inputs are not permitted [type=extra_forbidden, input_value='20', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   user_id_prefix
E     Extra inputs are not permitted [type=extra_forbidden, input_value='user', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   worker_gpu_memory_limit
E     Extra inputs are not permitted [type=extra_forbidden, input_value='70G', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   worker_restart_policy
E     Extra inputs are not permitted [type=extra_forbidden, input_value='unless-stopped', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   redis_persistence
E     Extra inputs are not permitted [type=extra_forbidden, input_value='yes', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   queue_manager_host
E     Extra inputs are not permitted [type=extra_forbidden, input_value='queue-manager', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   queue_manager_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='3000', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   queue_manager_log_level
E     Extra inputs are not permitted [type=extra_forbidden, input_value='INFO', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   admin_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='8080', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   admin_username
E     Extra inputs are not permitted [type=extra_forbidden, input_value='admin', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   admin_password
E     Extra inputs are not permitted [type=extra_forbidden, input_value='change_me_secure_password', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   nginx_http_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='80', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   nginx_https_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='443', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   models_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='./data/models', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   workflows_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='./data/workflows', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   comfyui_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='8188', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   comfyui_version
E     Extra inputs are not permitted [type=extra_forbidden, input_value='latest', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   verbose_logs
E     Extra inputs are not permitted [type=extra_forbidden, input_value='false', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
_____ ERROR at setup of TestConcurrency.test_concurrent_connect_disconnect _____
tests/test_websocket_manager.py:14: in websocket_manager_with_mock
    with patch('websocket_manager.RedisClient', return_value=mock_redis_client):
/usr/lib/python3.12/unittest/mock.py:1442: in __enter__
    self.target = self.getter()
/usr/lib/python3.12/pkgutil.py:513: in resolve_name
    mod = importlib.import_module(modname)
/usr/lib/python3.12/importlib/__init__.py:90: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
<frozen importlib._bootstrap>:1387: in _gcd_import
    ???
<frozen importlib._bootstrap>:1360: in _find_and_load
    ???
<frozen importlib._bootstrap>:1331: in _find_and_load_unlocked
    ???
<frozen importlib._bootstrap>:935: in _load_unlocked
    ???
<frozen importlib._bootstrap_external>:995: in exec_module
    ???
<frozen importlib._bootstrap>:488: in _call_with_frames_removed
    ???
queue-manager/websocket_manager.py:9: in <module>
    from redis_client import RedisClient
queue-manager/redis_client.py:11: in <module>
    from config import settings
queue-manager/config.py:51: in <module>
    settings = Settings()
test_venv/lib/python3.12/site-packages/pydantic_settings/main.py:194: in __init__
    super().__init__(
E   pydantic_core._pydantic_core.ValidationError: 23 validation errors for Settings
E   domain
E     Extra inputs are not permitted [type=extra_forbidden, input_value='comfy.ahelme.net', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   ssl_cert_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='/etc/letsencrypt/live/ahelme.net/fullchain.pem', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   ssl_key_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='/etc/letsencrypt/live/ahelme.net/privkey.pem', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   verda_instance_type
E     Extra inputs are not permitted [type=extra_forbidden, input_value='h100-sxm5', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   verda_region
E     Extra inputs are not permitted [type=extra_forbidden, input_value='eu-central', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   num_users
E     Extra inputs are not permitted [type=extra_forbidden, input_value='20', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   user_id_prefix
E     Extra inputs are not permitted [type=extra_forbidden, input_value='user', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   worker_gpu_memory_limit
E     Extra inputs are not permitted [type=extra_forbidden, input_value='70G', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   worker_restart_policy
E     Extra inputs are not permitted [type=extra_forbidden, input_value='unless-stopped', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   redis_persistence
E     Extra inputs are not permitted [type=extra_forbidden, input_value='yes', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   queue_manager_host
E     Extra inputs are not permitted [type=extra_forbidden, input_value='queue-manager', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   queue_manager_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='3000', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   queue_manager_log_level
E     Extra inputs are not permitted [type=extra_forbidden, input_value='INFO', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   admin_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='8080', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   admin_username
E     Extra inputs are not permitted [type=extra_forbidden, input_value='admin', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   admin_password
E     Extra inputs are not permitted [type=extra_forbidden, input_value='change_me_secure_password', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   nginx_http_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='80', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   nginx_https_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='443', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   models_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='./data/models', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   workflows_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='./data/workflows', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   comfyui_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='8188', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   comfyui_version
E     Extra inputs are not permitted [type=extra_forbidden, input_value='latest', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   verbose_logs
E     Extra inputs are not permitted [type=extra_forbidden, input_value='false', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
_ ERROR at setup of TestPubSubListenerErrorHandling.test_listener_decode_error _
tests/test_websocket_manager.py:14: in websocket_manager_with_mock
    with patch('websocket_manager.RedisClient', return_value=mock_redis_client):
/usr/lib/python3.12/unittest/mock.py:1442: in __enter__
    self.target = self.getter()
/usr/lib/python3.12/pkgutil.py:513: in resolve_name
    mod = importlib.import_module(modname)
/usr/lib/python3.12/importlib/__init__.py:90: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
<frozen importlib._bootstrap>:1387: in _gcd_import
    ???
<frozen importlib._bootstrap>:1360: in _find_and_load
    ???
<frozen importlib._bootstrap>:1331: in _find_and_load_unlocked
    ???
<frozen importlib._bootstrap>:935: in _load_unlocked
    ???
<frozen importlib._bootstrap_external>:995: in exec_module
    ???
<frozen importlib._bootstrap>:488: in _call_with_frames_removed
    ???
queue-manager/websocket_manager.py:9: in <module>
    from redis_client import RedisClient
queue-manager/redis_client.py:11: in <module>
    from config import settings
queue-manager/config.py:51: in <module>
    settings = Settings()
test_venv/lib/python3.12/site-packages/pydantic_settings/main.py:194: in __init__
    super().__init__(
E   pydantic_core._pydantic_core.ValidationError: 23 validation errors for Settings
E   domain
E     Extra inputs are not permitted [type=extra_forbidden, input_value='comfy.ahelme.net', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   ssl_cert_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='/etc/letsencrypt/live/ahelme.net/fullchain.pem', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   ssl_key_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='/etc/letsencrypt/live/ahelme.net/privkey.pem', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   verda_instance_type
E     Extra inputs are not permitted [type=extra_forbidden, input_value='h100-sxm5', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   verda_region
E     Extra inputs are not permitted [type=extra_forbidden, input_value='eu-central', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   num_users
E     Extra inputs are not permitted [type=extra_forbidden, input_value='20', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   user_id_prefix
E     Extra inputs are not permitted [type=extra_forbidden, input_value='user', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   worker_gpu_memory_limit
E     Extra inputs are not permitted [type=extra_forbidden, input_value='70G', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   worker_restart_policy
E     Extra inputs are not permitted [type=extra_forbidden, input_value='unless-stopped', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   redis_persistence
E     Extra inputs are not permitted [type=extra_forbidden, input_value='yes', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   queue_manager_host
E     Extra inputs are not permitted [type=extra_forbidden, input_value='queue-manager', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   queue_manager_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='3000', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   queue_manager_log_level
E     Extra inputs are not permitted [type=extra_forbidden, input_value='INFO', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   admin_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='8080', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   admin_username
E     Extra inputs are not permitted [type=extra_forbidden, input_value='admin', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   admin_password
E     Extra inputs are not permitted [type=extra_forbidden, input_value='change_me_secure_password', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   nginx_http_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='80', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   nginx_https_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='443', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   models_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='./data/models', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   workflows_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='./data/workflows', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   comfyui_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='8188', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   comfyui_version
E     Extra inputs are not permitted [type=extra_forbidden, input_value='latest', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   verbose_logs
E     Extra inputs are not permitted [type=extra_forbidden, input_value='false', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
_ ERROR at setup of TestPubSubListenerErrorHandling.test_listener_closes_pubsub_on_exit _
tests/test_websocket_manager.py:14: in websocket_manager_with_mock
    with patch('websocket_manager.RedisClient', return_value=mock_redis_client):
/usr/lib/python3.12/unittest/mock.py:1442: in __enter__
    self.target = self.getter()
/usr/lib/python3.12/pkgutil.py:513: in resolve_name
    mod = importlib.import_module(modname)
/usr/lib/python3.12/importlib/__init__.py:90: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
<frozen importlib._bootstrap>:1387: in _gcd_import
    ???
<frozen importlib._bootstrap>:1360: in _find_and_load
    ???
<frozen importlib._bootstrap>:1331: in _find_and_load_unlocked
    ???
<frozen importlib._bootstrap>:935: in _load_unlocked
    ???
<frozen importlib._bootstrap_external>:995: in exec_module
    ???
<frozen importlib._bootstrap>:488: in _call_with_frames_removed
    ???
queue-manager/websocket_manager.py:9: in <module>
    from redis_client import RedisClient
queue-manager/redis_client.py:11: in <module>
    from config import settings
queue-manager/config.py:51: in <module>
    settings = Settings()
test_venv/lib/python3.12/site-packages/pydantic_settings/main.py:194: in __init__
    super().__init__(
E   pydantic_core._pydantic_core.ValidationError: 23 validation errors for Settings
E   domain
E     Extra inputs are not permitted [type=extra_forbidden, input_value='comfy.ahelme.net', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   ssl_cert_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='/etc/letsencrypt/live/ahelme.net/fullchain.pem', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   ssl_key_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='/etc/letsencrypt/live/ahelme.net/privkey.pem', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   verda_instance_type
E     Extra inputs are not permitted [type=extra_forbidden, input_value='h100-sxm5', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   verda_region
E     Extra inputs are not permitted [type=extra_forbidden, input_value='eu-central', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   num_users
E     Extra inputs are not permitted [type=extra_forbidden, input_value='20', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   user_id_prefix
E     Extra inputs are not permitted [type=extra_forbidden, input_value='user', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   worker_gpu_memory_limit
E     Extra inputs are not permitted [type=extra_forbidden, input_value='70G', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   worker_restart_policy
E     Extra inputs are not permitted [type=extra_forbidden, input_value='unless-stopped', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   redis_persistence
E     Extra inputs are not permitted [type=extra_forbidden, input_value='yes', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   queue_manager_host
E     Extra inputs are not permitted [type=extra_forbidden, input_value='queue-manager', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   queue_manager_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='3000', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   queue_manager_log_level
E     Extra inputs are not permitted [type=extra_forbidden, input_value='INFO', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   admin_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='8080', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   admin_username
E     Extra inputs are not permitted [type=extra_forbidden, input_value='admin', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   admin_password
E     Extra inputs are not permitted [type=extra_forbidden, input_value='change_me_secure_password', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   nginx_http_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='80', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   nginx_https_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='443', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   models_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='./data/models', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   workflows_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='./data/workflows', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   comfyui_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='8188', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   comfyui_version
E     Extra inputs are not permitted [type=extra_forbidden, input_value='latest', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   verbose_logs
E     Extra inputs are not permitted [type=extra_forbidden, input_value='false', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
_ ERROR at setup of TestWebSocketMessageStructure.test_message_with_required_fields _
tests/test_websocket_manager.py:14: in websocket_manager_with_mock
    with patch('websocket_manager.RedisClient', return_value=mock_redis_client):
/usr/lib/python3.12/unittest/mock.py:1442: in __enter__
    self.target = self.getter()
/usr/lib/python3.12/pkgutil.py:513: in resolve_name
    mod = importlib.import_module(modname)
/usr/lib/python3.12/importlib/__init__.py:90: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
<frozen importlib._bootstrap>:1387: in _gcd_import
    ???
<frozen importlib._bootstrap>:1360: in _find_and_load
    ???
<frozen importlib._bootstrap>:1331: in _find_and_load_unlocked
    ???
<frozen importlib._bootstrap>:935: in _load_unlocked
    ???
<frozen importlib._bootstrap_external>:995: in exec_module
    ???
<frozen importlib._bootstrap>:488: in _call_with_frames_removed
    ???
queue-manager/websocket_manager.py:9: in <module>
    from redis_client import RedisClient
queue-manager/redis_client.py:11: in <module>
    from config import settings
queue-manager/config.py:51: in <module>
    settings = Settings()
test_venv/lib/python3.12/site-packages/pydantic_settings/main.py:194: in __init__
    super().__init__(
E   pydantic_core._pydantic_core.ValidationError: 23 validation errors for Settings
E   domain
E     Extra inputs are not permitted [type=extra_forbidden, input_value='comfy.ahelme.net', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   ssl_cert_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='/etc/letsencrypt/live/ahelme.net/fullchain.pem', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   ssl_key_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='/etc/letsencrypt/live/ahelme.net/privkey.pem', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   verda_instance_type
E     Extra inputs are not permitted [type=extra_forbidden, input_value='h100-sxm5', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   verda_region
E     Extra inputs are not permitted [type=extra_forbidden, input_value='eu-central', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   num_users
E     Extra inputs are not permitted [type=extra_forbidden, input_value='20', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   user_id_prefix
E     Extra inputs are not permitted [type=extra_forbidden, input_value='user', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   worker_gpu_memory_limit
E     Extra inputs are not permitted [type=extra_forbidden, input_value='70G', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   worker_restart_policy
E     Extra inputs are not permitted [type=extra_forbidden, input_value='unless-stopped', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   redis_persistence
E     Extra inputs are not permitted [type=extra_forbidden, input_value='yes', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   queue_manager_host
E     Extra inputs are not permitted [type=extra_forbidden, input_value='queue-manager', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   queue_manager_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='3000', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   queue_manager_log_level
E     Extra inputs are not permitted [type=extra_forbidden, input_value='INFO', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   admin_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='8080', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   admin_username
E     Extra inputs are not permitted [type=extra_forbidden, input_value='admin', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   admin_password
E     Extra inputs are not permitted [type=extra_forbidden, input_value='change_me_secure_password', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   nginx_http_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='80', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   nginx_https_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='443', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   models_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='./data/models', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   workflows_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='./data/workflows', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   comfyui_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='8188', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   comfyui_version
E     Extra inputs are not permitted [type=extra_forbidden, input_value='latest', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   verbose_logs
E     Extra inputs are not permitted [type=extra_forbidden, input_value='false', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
_ ERROR at setup of TestWebSocketMessageStructure.test_message_with_empty_data _
tests/test_websocket_manager.py:14: in websocket_manager_with_mock
    with patch('websocket_manager.RedisClient', return_value=mock_redis_client):
/usr/lib/python3.12/unittest/mock.py:1442: in __enter__
    self.target = self.getter()
/usr/lib/python3.12/pkgutil.py:513: in resolve_name
    mod = importlib.import_module(modname)
/usr/lib/python3.12/importlib/__init__.py:90: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
<frozen importlib._bootstrap>:1387: in _gcd_import
    ???
<frozen importlib._bootstrap>:1360: in _find_and_load
    ???
<frozen importlib._bootstrap>:1331: in _find_and_load_unlocked
    ???
<frozen importlib._bootstrap>:935: in _load_unlocked
    ???
<frozen importlib._bootstrap_external>:995: in exec_module
    ???
<frozen importlib._bootstrap>:488: in _call_with_frames_removed
    ???
queue-manager/websocket_manager.py:9: in <module>
    from redis_client import RedisClient
queue-manager/redis_client.py:11: in <module>
    from config import settings
queue-manager/config.py:51: in <module>
    settings = Settings()
test_venv/lib/python3.12/site-packages/pydantic_settings/main.py:194: in __init__
    super().__init__(
E   pydantic_core._pydantic_core.ValidationError: 23 validation errors for Settings
E   domain
E     Extra inputs are not permitted [type=extra_forbidden, input_value='comfy.ahelme.net', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   ssl_cert_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='/etc/letsencrypt/live/ahelme.net/fullchain.pem', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   ssl_key_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='/etc/letsencrypt/live/ahelme.net/privkey.pem', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   verda_instance_type
E     Extra inputs are not permitted [type=extra_forbidden, input_value='h100-sxm5', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   verda_region
E     Extra inputs are not permitted [type=extra_forbidden, input_value='eu-central', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   num_users
E     Extra inputs are not permitted [type=extra_forbidden, input_value='20', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   user_id_prefix
E     Extra inputs are not permitted [type=extra_forbidden, input_value='user', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   worker_gpu_memory_limit
E     Extra inputs are not permitted [type=extra_forbidden, input_value='70G', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   worker_restart_policy
E     Extra inputs are not permitted [type=extra_forbidden, input_value='unless-stopped', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   redis_persistence
E     Extra inputs are not permitted [type=extra_forbidden, input_value='yes', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   queue_manager_host
E     Extra inputs are not permitted [type=extra_forbidden, input_value='queue-manager', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   queue_manager_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='3000', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   queue_manager_log_level
E     Extra inputs are not permitted [type=extra_forbidden, input_value='INFO', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   admin_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='8080', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   admin_username
E     Extra inputs are not permitted [type=extra_forbidden, input_value='admin', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   admin_password
E     Extra inputs are not permitted [type=extra_forbidden, input_value='change_me_secure_password', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   nginx_http_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='80', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   nginx_https_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='443', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   models_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='./data/models', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   workflows_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='./data/workflows', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   comfyui_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='8188', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   comfyui_version
E     Extra inputs are not permitted [type=extra_forbidden, input_value='latest', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   verbose_logs
E     Extra inputs are not permitted [type=extra_forbidden, input_value='false', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
=================================== FAILURES ===================================
_________________ TestHealthEndpoint.test_health_check_healthy _________________
tests/test_queue_manager.py:38: in test_health_check_healthy
    with patch('main.redis_client', mock_redis_client):
/usr/lib/python3.12/unittest/mock.py:1442: in __enter__
    self.target = self.getter()
/usr/lib/python3.12/pkgutil.py:513: in resolve_name
    mod = importlib.import_module(modname)
/usr/lib/python3.12/importlib/__init__.py:90: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
<frozen importlib._bootstrap>:1387: in _gcd_import
    ???
<frozen importlib._bootstrap>:1360: in _find_and_load
    ???
<frozen importlib._bootstrap>:1331: in _find_and_load_unlocked
    ???
<frozen importlib._bootstrap>:935: in _load_unlocked
    ???
<frozen importlib._bootstrap_external>:995: in exec_module
    ???
<frozen importlib._bootstrap>:488: in _call_with_frames_removed
    ???
queue-manager/main.py:19: in <module>
    from config import settings
queue-manager/config.py:51: in <module>
    settings = Settings()
test_venv/lib/python3.12/site-packages/pydantic_settings/main.py:194: in __init__
    super().__init__(
E   pydantic_core._pydantic_core.ValidationError: 23 validation errors for Settings
E   domain
E     Extra inputs are not permitted [type=extra_forbidden, input_value='comfy.ahelme.net', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   ssl_cert_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='/etc/letsencrypt/live/ahelme.net/fullchain.pem', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   ssl_key_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='/etc/letsencrypt/live/ahelme.net/privkey.pem', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   verda_instance_type
E     Extra inputs are not permitted [type=extra_forbidden, input_value='h100-sxm5', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   verda_region
E     Extra inputs are not permitted [type=extra_forbidden, input_value='eu-central', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   num_users
E     Extra inputs are not permitted [type=extra_forbidden, input_value='20', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   user_id_prefix
E     Extra inputs are not permitted [type=extra_forbidden, input_value='user', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   worker_gpu_memory_limit
E     Extra inputs are not permitted [type=extra_forbidden, input_value='70G', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   worker_restart_policy
E     Extra inputs are not permitted [type=extra_forbidden, input_value='unless-stopped', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   redis_persistence
E     Extra inputs are not permitted [type=extra_forbidden, input_value='yes', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   queue_manager_host
E     Extra inputs are not permitted [type=extra_forbidden, input_value='queue-manager', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   queue_manager_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='3000', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   queue_manager_log_level
E     Extra inputs are not permitted [type=extra_forbidden, input_value='INFO', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   admin_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='8080', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   admin_username
E     Extra inputs are not permitted [type=extra_forbidden, input_value='admin', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   admin_password
E     Extra inputs are not permitted [type=extra_forbidden, input_value='change_me_secure_password', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   nginx_http_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='80', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   nginx_https_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='443', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   models_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='./data/models', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   workflows_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='./data/workflows', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   comfyui_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='8188', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   comfyui_version
E     Extra inputs are not permitted [type=extra_forbidden, input_value='latest', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   verbose_logs
E     Extra inputs are not permitted [type=extra_forbidden, input_value='false', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
________________ TestHealthEndpoint.test_health_check_unhealthy ________________
tests/test_queue_manager.py:52: in test_health_check_unhealthy
    with patch('main.redis_client', mock_redis_client):
/usr/lib/python3.12/unittest/mock.py:1442: in __enter__
    self.target = self.getter()
/usr/lib/python3.12/pkgutil.py:513: in resolve_name
    mod = importlib.import_module(modname)
/usr/lib/python3.12/importlib/__init__.py:90: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
<frozen importlib._bootstrap>:1387: in _gcd_import
    ???
<frozen importlib._bootstrap>:1360: in _find_and_load
    ???
<frozen importlib._bootstrap>:1331: in _find_and_load_unlocked
    ???
<frozen importlib._bootstrap>:935: in _load_unlocked
    ???
<frozen importlib._bootstrap_external>:995: in exec_module
    ???
<frozen importlib._bootstrap>:488: in _call_with_frames_removed
    ???
queue-manager/main.py:19: in <module>
    from config import settings
queue-manager/config.py:51: in <module>
    settings = Settings()
test_venv/lib/python3.12/site-packages/pydantic_settings/main.py:194: in __init__
    super().__init__(
E   pydantic_core._pydantic_core.ValidationError: 23 validation errors for Settings
E   domain
E     Extra inputs are not permitted [type=extra_forbidden, input_value='comfy.ahelme.net', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   ssl_cert_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='/etc/letsencrypt/live/ahelme.net/fullchain.pem', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   ssl_key_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='/etc/letsencrypt/live/ahelme.net/privkey.pem', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   verda_instance_type
E     Extra inputs are not permitted [type=extra_forbidden, input_value='h100-sxm5', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   verda_region
E     Extra inputs are not permitted [type=extra_forbidden, input_value='eu-central', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   num_users
E     Extra inputs are not permitted [type=extra_forbidden, input_value='20', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   user_id_prefix
E     Extra inputs are not permitted [type=extra_forbidden, input_value='user', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   worker_gpu_memory_limit
E     Extra inputs are not permitted [type=extra_forbidden, input_value='70G', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   worker_restart_policy
E     Extra inputs are not permitted [type=extra_forbidden, input_value='unless-stopped', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   redis_persistence
E     Extra inputs are not permitted [type=extra_forbidden, input_value='yes', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   queue_manager_host
E     Extra inputs are not permitted [type=extra_forbidden, input_value='queue-manager', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   queue_manager_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='3000', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   queue_manager_log_level
E     Extra inputs are not permitted [type=extra_forbidden, input_value='INFO', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   admin_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='8080', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   admin_username
E     Extra inputs are not permitted [type=extra_forbidden, input_value='admin', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   admin_password
E     Extra inputs are not permitted [type=extra_forbidden, input_value='change_me_secure_password', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   nginx_http_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='80', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   nginx_https_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='443', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   models_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='./data/models', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   workflows_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='./data/workflows', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   comfyui_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='8188', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   comfyui_version
E     Extra inputs are not permitted [type=extra_forbidden, input_value='latest', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   verbose_logs
E     Extra inputs are not permitted [type=extra_forbidden, input_value='false', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
_____________ TestHealthEndpoint.test_health_check_response_format _____________
tests/test_queue_manager.py:66: in test_health_check_response_format
    with patch('main.redis_client', mock_redis_client):
/usr/lib/python3.12/unittest/mock.py:1442: in __enter__
    self.target = self.getter()
/usr/lib/python3.12/pkgutil.py:513: in resolve_name
    mod = importlib.import_module(modname)
/usr/lib/python3.12/importlib/__init__.py:90: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
<frozen importlib._bootstrap>:1387: in _gcd_import
    ???
<frozen importlib._bootstrap>:1360: in _find_and_load
    ???
<frozen importlib._bootstrap>:1331: in _find_and_load_unlocked
    ???
<frozen importlib._bootstrap>:935: in _load_unlocked
    ???
<frozen importlib._bootstrap_external>:995: in exec_module
    ???
<frozen importlib._bootstrap>:488: in _call_with_frames_removed
    ???
queue-manager/main.py:19: in <module>
    from config import settings
queue-manager/config.py:51: in <module>
    settings = Settings()
test_venv/lib/python3.12/site-packages/pydantic_settings/main.py:194: in __init__
    super().__init__(
E   pydantic_core._pydantic_core.ValidationError: 23 validation errors for Settings
E   domain
E     Extra inputs are not permitted [type=extra_forbidden, input_value='comfy.ahelme.net', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   ssl_cert_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='/etc/letsencrypt/live/ahelme.net/fullchain.pem', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   ssl_key_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='/etc/letsencrypt/live/ahelme.net/privkey.pem', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   verda_instance_type
E     Extra inputs are not permitted [type=extra_forbidden, input_value='h100-sxm5', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   verda_region
E     Extra inputs are not permitted [type=extra_forbidden, input_value='eu-central', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   num_users
E     Extra inputs are not permitted [type=extra_forbidden, input_value='20', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   user_id_prefix
E     Extra inputs are not permitted [type=extra_forbidden, input_value='user', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   worker_gpu_memory_limit
E     Extra inputs are not permitted [type=extra_forbidden, input_value='70G', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   worker_restart_policy
E     Extra inputs are not permitted [type=extra_forbidden, input_value='unless-stopped', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   redis_persistence
E     Extra inputs are not permitted [type=extra_forbidden, input_value='yes', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   queue_manager_host
E     Extra inputs are not permitted [type=extra_forbidden, input_value='queue-manager', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   queue_manager_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='3000', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   queue_manager_log_level
E     Extra inputs are not permitted [type=extra_forbidden, input_value='INFO', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   admin_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='8080', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   admin_username
E     Extra inputs are not permitted [type=extra_forbidden, input_value='admin', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   admin_password
E     Extra inputs are not permitted [type=extra_forbidden, input_value='change_me_secure_password', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   nginx_http_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='80', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   nginx_https_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='443', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   models_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='./data/models', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   workflows_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='./data/workflows', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   comfyui_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='8188', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   comfyui_version
E     Extra inputs are not permitted [type=extra_forbidden, input_value='latest', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   verbose_logs
E     Extra inputs are not permitted [type=extra_forbidden, input_value='false', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
______________ TestQueueStatusEndpoint.test_queue_status_success _______________
tests/test_queue_manager.py:92: in test_queue_status_success
    with patch('main.redis_client', mock_redis_client):
/usr/lib/python3.12/unittest/mock.py:1442: in __enter__
    self.target = self.getter()
/usr/lib/python3.12/pkgutil.py:513: in resolve_name
    mod = importlib.import_module(modname)
/usr/lib/python3.12/importlib/__init__.py:90: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
<frozen importlib._bootstrap>:1387: in _gcd_import
    ???
<frozen importlib._bootstrap>:1360: in _find_and_load
    ???
<frozen importlib._bootstrap>:1331: in _find_and_load_unlocked
    ???
<frozen importlib._bootstrap>:935: in _load_unlocked
    ???
<frozen importlib._bootstrap_external>:995: in exec_module
    ???
<frozen importlib._bootstrap>:488: in _call_with_frames_removed
    ???
queue-manager/main.py:19: in <module>
    from config import settings
queue-manager/config.py:51: in <module>
    settings = Settings()
test_venv/lib/python3.12/site-packages/pydantic_settings/main.py:194: in __init__
    super().__init__(
E   pydantic_core._pydantic_core.ValidationError: 23 validation errors for Settings
E   domain
E     Extra inputs are not permitted [type=extra_forbidden, input_value='comfy.ahelme.net', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   ssl_cert_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='/etc/letsencrypt/live/ahelme.net/fullchain.pem', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   ssl_key_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='/etc/letsencrypt/live/ahelme.net/privkey.pem', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   verda_instance_type
E     Extra inputs are not permitted [type=extra_forbidden, input_value='h100-sxm5', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   verda_region
E     Extra inputs are not permitted [type=extra_forbidden, input_value='eu-central', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   num_users
E     Extra inputs are not permitted [type=extra_forbidden, input_value='20', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   user_id_prefix
E     Extra inputs are not permitted [type=extra_forbidden, input_value='user', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   worker_gpu_memory_limit
E     Extra inputs are not permitted [type=extra_forbidden, input_value='70G', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   worker_restart_policy
E     Extra inputs are not permitted [type=extra_forbidden, input_value='unless-stopped', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   redis_persistence
E     Extra inputs are not permitted [type=extra_forbidden, input_value='yes', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   queue_manager_host
E     Extra inputs are not permitted [type=extra_forbidden, input_value='queue-manager', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   queue_manager_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='3000', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   queue_manager_log_level
E     Extra inputs are not permitted [type=extra_forbidden, input_value='INFO', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   admin_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='8080', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   admin_username
E     Extra inputs are not permitted [type=extra_forbidden, input_value='admin', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   admin_password
E     Extra inputs are not permitted [type=extra_forbidden, input_value='change_me_secure_password', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   nginx_http_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='80', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   nginx_https_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='443', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   models_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='./data/models', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   workflows_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='./data/workflows', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   comfyui_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='8188', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   comfyui_version
E     Extra inputs are not permitted [type=extra_forbidden, input_value='latest', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   verbose_logs
E     Extra inputs are not permitted [type=extra_forbidden, input_value='false', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
___________ TestQueueStatusEndpoint.test_queue_status_error_handling ___________
tests/test_queue_manager.py:109: in test_queue_status_error_handling
    with patch('main.redis_client', mock_redis_client):
/usr/lib/python3.12/unittest/mock.py:1442: in __enter__
    self.target = self.getter()
/usr/lib/python3.12/pkgutil.py:513: in resolve_name
    mod = importlib.import_module(modname)
/usr/lib/python3.12/importlib/__init__.py:90: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
<frozen importlib._bootstrap>:1387: in _gcd_import
    ???
<frozen importlib._bootstrap>:1360: in _find_and_load
    ???
<frozen importlib._bootstrap>:1331: in _find_and_load_unlocked
    ???
<frozen importlib._bootstrap>:935: in _load_unlocked
    ???
<frozen importlib._bootstrap_external>:995: in exec_module
    ???
<frozen importlib._bootstrap>:488: in _call_with_frames_removed
    ???
queue-manager/main.py:19: in <module>
    from config import settings
queue-manager/config.py:51: in <module>
    settings = Settings()
test_venv/lib/python3.12/site-packages/pydantic_settings/main.py:194: in __init__
    super().__init__(
E   pydantic_core._pydantic_core.ValidationError: 23 validation errors for Settings
E   domain
E     Extra inputs are not permitted [type=extra_forbidden, input_value='comfy.ahelme.net', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   ssl_cert_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='/etc/letsencrypt/live/ahelme.net/fullchain.pem', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   ssl_key_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='/etc/letsencrypt/live/ahelme.net/privkey.pem', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   verda_instance_type
E     Extra inputs are not permitted [type=extra_forbidden, input_value='h100-sxm5', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   verda_region
E     Extra inputs are not permitted [type=extra_forbidden, input_value='eu-central', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   num_users
E     Extra inputs are not permitted [type=extra_forbidden, input_value='20', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   user_id_prefix
E     Extra inputs are not permitted [type=extra_forbidden, input_value='user', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   worker_gpu_memory_limit
E     Extra inputs are not permitted [type=extra_forbidden, input_value='70G', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   worker_restart_policy
E     Extra inputs are not permitted [type=extra_forbidden, input_value='unless-stopped', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   redis_persistence
E     Extra inputs are not permitted [type=extra_forbidden, input_value='yes', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   queue_manager_host
E     Extra inputs are not permitted [type=extra_forbidden, input_value='queue-manager', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   queue_manager_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='3000', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   queue_manager_log_level
E     Extra inputs are not permitted [type=extra_forbidden, input_value='INFO', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   admin_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='8080', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   admin_username
E     Extra inputs are not permitted [type=extra_forbidden, input_value='admin', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   admin_password
E     Extra inputs are not permitted [type=extra_forbidden, input_value='change_me_secure_password', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   nginx_http_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='80', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   nginx_https_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='443', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   models_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='./data/models', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   workflows_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='./data/workflows', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   comfyui_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='8188', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   comfyui_version
E     Extra inputs are not permitted [type=extra_forbidden, input_value='latest', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   verbose_logs
E     Extra inputs are not permitted [type=extra_forbidden, input_value='false', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
______________ TestJobSubmissionEndpoint.test_submit_job_success _______________
tests/test_queue_manager.py:130: in test_submit_job_success
    with patch('main.redis_client', mock_redis_client):
/usr/lib/python3.12/unittest/mock.py:1442: in __enter__
    self.target = self.getter()
/usr/lib/python3.12/pkgutil.py:513: in resolve_name
    mod = importlib.import_module(modname)
/usr/lib/python3.12/importlib/__init__.py:90: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
<frozen importlib._bootstrap>:1387: in _gcd_import
    ???
<frozen importlib._bootstrap>:1360: in _find_and_load
    ???
<frozen importlib._bootstrap>:1331: in _find_and_load_unlocked
    ???
<frozen importlib._bootstrap>:935: in _load_unlocked
    ???
<frozen importlib._bootstrap_external>:995: in exec_module
    ???
<frozen importlib._bootstrap>:488: in _call_with_frames_removed
    ???
queue-manager/main.py:19: in <module>
    from config import settings
queue-manager/config.py:51: in <module>
    settings = Settings()
test_venv/lib/python3.12/site-packages/pydantic_settings/main.py:194: in __init__
    super().__init__(
E   pydantic_core._pydantic_core.ValidationError: 23 validation errors for Settings
E   domain
E     Extra inputs are not permitted [type=extra_forbidden, input_value='comfy.ahelme.net', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   ssl_cert_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='/etc/letsencrypt/live/ahelme.net/fullchain.pem', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   ssl_key_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='/etc/letsencrypt/live/ahelme.net/privkey.pem', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   verda_instance_type
E     Extra inputs are not permitted [type=extra_forbidden, input_value='h100-sxm5', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   verda_region
E     Extra inputs are not permitted [type=extra_forbidden, input_value='eu-central', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   num_users
E     Extra inputs are not permitted [type=extra_forbidden, input_value='20', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   user_id_prefix
E     Extra inputs are not permitted [type=extra_forbidden, input_value='user', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   worker_gpu_memory_limit
E     Extra inputs are not permitted [type=extra_forbidden, input_value='70G', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   worker_restart_policy
E     Extra inputs are not permitted [type=extra_forbidden, input_value='unless-stopped', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   redis_persistence
E     Extra inputs are not permitted [type=extra_forbidden, input_value='yes', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   queue_manager_host
E     Extra inputs are not permitted [type=extra_forbidden, input_value='queue-manager', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   queue_manager_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='3000', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   queue_manager_log_level
E     Extra inputs are not permitted [type=extra_forbidden, input_value='INFO', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   admin_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='8080', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   admin_username
E     Extra inputs are not permitted [type=extra_forbidden, input_value='admin', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   admin_password
E     Extra inputs are not permitted [type=extra_forbidden, input_value='change_me_secure_password', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   nginx_http_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='80', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   nginx_https_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='443', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   models_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='./data/models', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   workflows_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='./data/workflows', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   comfyui_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='8188', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   comfyui_version
E     Extra inputs are not permitted [type=extra_forbidden, input_value='latest', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   verbose_logs
E     Extra inputs are not permitted [type=extra_forbidden, input_value='false', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
__________ TestJobSubmissionEndpoint.test_submit_job_invalid_user_id ___________
tests/test_queue_manager.py:150: in test_submit_job_invalid_user_id
    with patch('main.redis_client', mock_redis_client):
/usr/lib/python3.12/unittest/mock.py:1442: in __enter__
    self.target = self.getter()
/usr/lib/python3.12/pkgutil.py:513: in resolve_name
    mod = importlib.import_module(modname)
/usr/lib/python3.12/importlib/__init__.py:90: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
<frozen importlib._bootstrap>:1387: in _gcd_import
    ???
<frozen importlib._bootstrap>:1360: in _find_and_load
    ???
<frozen importlib._bootstrap>:1331: in _find_and_load_unlocked
    ???
<frozen importlib._bootstrap>:935: in _load_unlocked
    ???
<frozen importlib._bootstrap_external>:995: in exec_module
    ???
<frozen importlib._bootstrap>:488: in _call_with_frames_removed
    ???
queue-manager/main.py:19: in <module>
    from config import settings
queue-manager/config.py:51: in <module>
    settings = Settings()
test_venv/lib/python3.12/site-packages/pydantic_settings/main.py:194: in __init__
    super().__init__(
E   pydantic_core._pydantic_core.ValidationError: 23 validation errors for Settings
E   domain
E     Extra inputs are not permitted [type=extra_forbidden, input_value='comfy.ahelme.net', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   ssl_cert_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='/etc/letsencrypt/live/ahelme.net/fullchain.pem', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   ssl_key_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='/etc/letsencrypt/live/ahelme.net/privkey.pem', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   verda_instance_type
E     Extra inputs are not permitted [type=extra_forbidden, input_value='h100-sxm5', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   verda_region
E     Extra inputs are not permitted [type=extra_forbidden, input_value='eu-central', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   num_users
E     Extra inputs are not permitted [type=extra_forbidden, input_value='20', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   user_id_prefix
E     Extra inputs are not permitted [type=extra_forbidden, input_value='user', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   worker_gpu_memory_limit
E     Extra inputs are not permitted [type=extra_forbidden, input_value='70G', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   worker_restart_policy
E     Extra inputs are not permitted [type=extra_forbidden, input_value='unless-stopped', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   redis_persistence
E     Extra inputs are not permitted [type=extra_forbidden, input_value='yes', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   queue_manager_host
E     Extra inputs are not permitted [type=extra_forbidden, input_value='queue-manager', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   queue_manager_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='3000', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   queue_manager_log_level
E     Extra inputs are not permitted [type=extra_forbidden, input_value='INFO', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   admin_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='8080', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   admin_username
E     Extra inputs are not permitted [type=extra_forbidden, input_value='admin', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   admin_password
E     Extra inputs are not permitted [type=extra_forbidden, input_value='change_me_secure_password', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   nginx_http_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='80', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   nginx_https_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='443', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   models_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='./data/models', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   workflows_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='./data/workflows', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   comfyui_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='8188', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   comfyui_version
E     Extra inputs are not permitted [type=extra_forbidden, input_value='latest', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   verbose_logs
E     Extra inputs are not permitted [type=extra_forbidden, input_value='false', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
___________ TestJobSubmissionEndpoint.test_submit_job_empty_workflow ___________
tests/test_queue_manager.py:165: in test_submit_job_empty_workflow
    with patch('main.redis_client', mock_redis_client):
/usr/lib/python3.12/unittest/mock.py:1442: in __enter__
    self.target = self.getter()
/usr/lib/python3.12/pkgutil.py:513: in resolve_name
    mod = importlib.import_module(modname)
/usr/lib/python3.12/importlib/__init__.py:90: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
<frozen importlib._bootstrap>:1387: in _gcd_import
    ???
<frozen importlib._bootstrap>:1360: in _find_and_load
    ???
<frozen importlib._bootstrap>:1331: in _find_and_load_unlocked
    ???
<frozen importlib._bootstrap>:935: in _load_unlocked
    ???
<frozen importlib._bootstrap_external>:995: in exec_module
    ???
<frozen importlib._bootstrap>:488: in _call_with_frames_removed
    ???
queue-manager/main.py:19: in <module>
    from config import settings
queue-manager/config.py:51: in <module>
    settings = Settings()
test_venv/lib/python3.12/site-packages/pydantic_settings/main.py:194: in __init__
    super().__init__(
E   pydantic_core._pydantic_core.ValidationError: 23 validation errors for Settings
E   domain
E     Extra inputs are not permitted [type=extra_forbidden, input_value='comfy.ahelme.net', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   ssl_cert_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='/etc/letsencrypt/live/ahelme.net/fullchain.pem', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   ssl_key_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='/etc/letsencrypt/live/ahelme.net/privkey.pem', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   verda_instance_type
E     Extra inputs are not permitted [type=extra_forbidden, input_value='h100-sxm5', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   verda_region
E     Extra inputs are not permitted [type=extra_forbidden, input_value='eu-central', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   num_users
E     Extra inputs are not permitted [type=extra_forbidden, input_value='20', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   user_id_prefix
E     Extra inputs are not permitted [type=extra_forbidden, input_value='user', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   worker_gpu_memory_limit
E     Extra inputs are not permitted [type=extra_forbidden, input_value='70G', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   worker_restart_policy
E     Extra inputs are not permitted [type=extra_forbidden, input_value='unless-stopped', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   redis_persistence
E     Extra inputs are not permitted [type=extra_forbidden, input_value='yes', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   queue_manager_host
E     Extra inputs are not permitted [type=extra_forbidden, input_value='queue-manager', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   queue_manager_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='3000', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   queue_manager_log_level
E     Extra inputs are not permitted [type=extra_forbidden, input_value='INFO', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   admin_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='8080', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   admin_username
E     Extra inputs are not permitted [type=extra_forbidden, input_value='admin', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   admin_password
E     Extra inputs are not permitted [type=extra_forbidden, input_value='change_me_secure_password', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   nginx_http_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='80', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   nginx_https_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='443', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   models_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='./data/models', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   workflows_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='./data/workflows', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   comfyui_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='8188', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   comfyui_version
E     Extra inputs are not permitted [type=extra_forbidden, input_value='latest', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   verbose_logs
E     Extra inputs are not permitted [type=extra_forbidden, input_value='false', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
_____________ TestJobSubmissionEndpoint.test_submit_job_queue_full _____________
tests/test_queue_manager.py:183: in test_submit_job_queue_full
    with patch('main.redis_client', mock_redis_client):
/usr/lib/python3.12/unittest/mock.py:1442: in __enter__
    self.target = self.getter()
/usr/lib/python3.12/pkgutil.py:513: in resolve_name
    mod = importlib.import_module(modname)
/usr/lib/python3.12/importlib/__init__.py:90: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
<frozen importlib._bootstrap>:1387: in _gcd_import
    ???
<frozen importlib._bootstrap>:1360: in _find_and_load
    ???
<frozen importlib._bootstrap>:1331: in _find_and_load_unlocked
    ???
<frozen importlib._bootstrap>:935: in _load_unlocked
    ???
<frozen importlib._bootstrap_external>:995: in exec_module
    ???
<frozen importlib._bootstrap>:488: in _call_with_frames_removed
    ???
queue-manager/main.py:19: in <module>
    from config import settings
queue-manager/config.py:51: in <module>
    settings = Settings()
test_venv/lib/python3.12/site-packages/pydantic_settings/main.py:194: in __init__
    super().__init__(
E   pydantic_core._pydantic_core.ValidationError: 23 validation errors for Settings
E   domain
E     Extra inputs are not permitted [type=extra_forbidden, input_value='comfy.ahelme.net', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   ssl_cert_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='/etc/letsencrypt/live/ahelme.net/fullchain.pem', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   ssl_key_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='/etc/letsencrypt/live/ahelme.net/privkey.pem', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   verda_instance_type
E     Extra inputs are not permitted [type=extra_forbidden, input_value='h100-sxm5', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   verda_region
E     Extra inputs are not permitted [type=extra_forbidden, input_value='eu-central', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   num_users
E     Extra inputs are not permitted [type=extra_forbidden, input_value='20', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   user_id_prefix
E     Extra inputs are not permitted [type=extra_forbidden, input_value='user', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   worker_gpu_memory_limit
E     Extra inputs are not permitted [type=extra_forbidden, input_value='70G', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   worker_restart_policy
E     Extra inputs are not permitted [type=extra_forbidden, input_value='unless-stopped', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   redis_persistence
E     Extra inputs are not permitted [type=extra_forbidden, input_value='yes', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   queue_manager_host
E     Extra inputs are not permitted [type=extra_forbidden, input_value='queue-manager', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   queue_manager_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='3000', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   queue_manager_log_level
E     Extra inputs are not permitted [type=extra_forbidden, input_value='INFO', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   admin_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='8080', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   admin_username
E     Extra inputs are not permitted [type=extra_forbidden, input_value='admin', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   admin_password
E     Extra inputs are not permitted [type=extra_forbidden, input_value='change_me_secure_password', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   nginx_http_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='80', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   nginx_https_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='443', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   models_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='./data/models', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   workflows_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='./data/workflows', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   comfyui_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='8188', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   comfyui_version
E     Extra inputs are not permitted [type=extra_forbidden, input_value='latest', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   verbose_logs
E     Extra inputs are not permitted [type=extra_forbidden, input_value='false', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
___________________ TestGetJobEndpoint.test_get_job_success ____________________
tests/test_queue_manager.py:208: in test_get_job_success
    with patch('main.redis_client', mock_redis_client):
/usr/lib/python3.12/unittest/mock.py:1442: in __enter__
    self.target = self.getter()
/usr/lib/python3.12/pkgutil.py:513: in resolve_name
    mod = importlib.import_module(modname)
/usr/lib/python3.12/importlib/__init__.py:90: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
<frozen importlib._bootstrap>:1387: in _gcd_import
    ???
<frozen importlib._bootstrap>:1360: in _find_and_load
    ???
<frozen importlib._bootstrap>:1331: in _find_and_load_unlocked
    ???
<frozen importlib._bootstrap>:935: in _load_unlocked
    ???
<frozen importlib._bootstrap_external>:995: in exec_module
    ???
<frozen importlib._bootstrap>:488: in _call_with_frames_removed
    ???
queue-manager/main.py:19: in <module>
    from config import settings
queue-manager/config.py:51: in <module>
    settings = Settings()
test_venv/lib/python3.12/site-packages/pydantic_settings/main.py:194: in __init__
    super().__init__(
E   pydantic_core._pydantic_core.ValidationError: 23 validation errors for Settings
E   domain
E     Extra inputs are not permitted [type=extra_forbidden, input_value='comfy.ahelme.net', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   ssl_cert_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='/etc/letsencrypt/live/ahelme.net/fullchain.pem', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   ssl_key_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='/etc/letsencrypt/live/ahelme.net/privkey.pem', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   verda_instance_type
E     Extra inputs are not permitted [type=extra_forbidden, input_value='h100-sxm5', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   verda_region
E     Extra inputs are not permitted [type=extra_forbidden, input_value='eu-central', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   num_users
E     Extra inputs are not permitted [type=extra_forbidden, input_value='20', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   user_id_prefix
E     Extra inputs are not permitted [type=extra_forbidden, input_value='user', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   worker_gpu_memory_limit
E     Extra inputs are not permitted [type=extra_forbidden, input_value='70G', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   worker_restart_policy
E     Extra inputs are not permitted [type=extra_forbidden, input_value='unless-stopped', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   redis_persistence
E     Extra inputs are not permitted [type=extra_forbidden, input_value='yes', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   queue_manager_host
E     Extra inputs are not permitted [type=extra_forbidden, input_value='queue-manager', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   queue_manager_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='3000', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   queue_manager_log_level
E     Extra inputs are not permitted [type=extra_forbidden, input_value='INFO', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   admin_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='8080', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   admin_username
E     Extra inputs are not permitted [type=extra_forbidden, input_value='admin', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   admin_password
E     Extra inputs are not permitted [type=extra_forbidden, input_value='change_me_secure_password', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   nginx_http_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='80', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   nginx_https_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='443', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   models_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='./data/models', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   workflows_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='./data/workflows', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   comfyui_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='8188', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   comfyui_version
E     Extra inputs are not permitted [type=extra_forbidden, input_value='latest', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   verbose_logs
E     Extra inputs are not permitted [type=extra_forbidden, input_value='false', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
__________________ TestGetJobEndpoint.test_get_job_not_found ___________________
tests/test_queue_manager.py:222: in test_get_job_not_found
    with patch('main.redis_client', mock_redis_client):
/usr/lib/python3.12/unittest/mock.py:1442: in __enter__
    self.target = self.getter()
/usr/lib/python3.12/pkgutil.py:513: in resolve_name
    mod = importlib.import_module(modname)
/usr/lib/python3.12/importlib/__init__.py:90: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
<frozen importlib._bootstrap>:1387: in _gcd_import
    ???
<frozen importlib._bootstrap>:1360: in _find_and_load
    ???
<frozen importlib._bootstrap>:1331: in _find_and_load_unlocked
    ???
<frozen importlib._bootstrap>:935: in _load_unlocked
    ???
<frozen importlib._bootstrap_external>:995: in exec_module
    ???
<frozen importlib._bootstrap>:488: in _call_with_frames_removed
    ???
queue-manager/main.py:19: in <module>
    from config import settings
queue-manager/config.py:51: in <module>
    settings = Settings()
test_venv/lib/python3.12/site-packages/pydantic_settings/main.py:194: in __init__
    super().__init__(
E   pydantic_core._pydantic_core.ValidationError: 23 validation errors for Settings
E   domain
E     Extra inputs are not permitted [type=extra_forbidden, input_value='comfy.ahelme.net', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   ssl_cert_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='/etc/letsencrypt/live/ahelme.net/fullchain.pem', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   ssl_key_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='/etc/letsencrypt/live/ahelme.net/privkey.pem', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   verda_instance_type
E     Extra inputs are not permitted [type=extra_forbidden, input_value='h100-sxm5', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   verda_region
E     Extra inputs are not permitted [type=extra_forbidden, input_value='eu-central', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   num_users
E     Extra inputs are not permitted [type=extra_forbidden, input_value='20', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   user_id_prefix
E     Extra inputs are not permitted [type=extra_forbidden, input_value='user', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   worker_gpu_memory_limit
E     Extra inputs are not permitted [type=extra_forbidden, input_value='70G', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   worker_restart_policy
E     Extra inputs are not permitted [type=extra_forbidden, input_value='unless-stopped', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   redis_persistence
E     Extra inputs are not permitted [type=extra_forbidden, input_value='yes', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   queue_manager_host
E     Extra inputs are not permitted [type=extra_forbidden, input_value='queue-manager', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   queue_manager_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='3000', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   queue_manager_log_level
E     Extra inputs are not permitted [type=extra_forbidden, input_value='INFO', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   admin_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='8080', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   admin_username
E     Extra inputs are not permitted [type=extra_forbidden, input_value='admin', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   admin_password
E     Extra inputs are not permitted [type=extra_forbidden, input_value='change_me_secure_password', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   nginx_http_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='80', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   nginx_https_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='443', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   models_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='./data/models', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   workflows_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='./data/workflows', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   comfyui_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='8188', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   comfyui_version
E     Extra inputs are not permitted [type=extra_forbidden, input_value='latest', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   verbose_logs
E     Extra inputs are not permitted [type=extra_forbidden, input_value='false', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
___________________ TestListJobsEndpoint.test_list_all_jobs ____________________
tests/test_queue_manager.py:239: in test_list_all_jobs
    with patch('main.redis_client', mock_redis_client):
/usr/lib/python3.12/unittest/mock.py:1442: in __enter__
    self.target = self.getter()
/usr/lib/python3.12/pkgutil.py:513: in resolve_name
    mod = importlib.import_module(modname)
/usr/lib/python3.12/importlib/__init__.py:90: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
<frozen importlib._bootstrap>:1387: in _gcd_import
    ???
<frozen importlib._bootstrap>:1360: in _find_and_load
    ???
<frozen importlib._bootstrap>:1331: in _find_and_load_unlocked
    ???
<frozen importlib._bootstrap>:935: in _load_unlocked
    ???
<frozen importlib._bootstrap_external>:995: in exec_module
    ???
<frozen importlib._bootstrap>:488: in _call_with_frames_removed
    ???
queue-manager/main.py:19: in <module>
    from config import settings
queue-manager/config.py:51: in <module>
    settings = Settings()
test_venv/lib/python3.12/site-packages/pydantic_settings/main.py:194: in __init__
    super().__init__(
E   pydantic_core._pydantic_core.ValidationError: 23 validation errors for Settings
E   domain
E     Extra inputs are not permitted [type=extra_forbidden, input_value='comfy.ahelme.net', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   ssl_cert_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='/etc/letsencrypt/live/ahelme.net/fullchain.pem', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   ssl_key_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='/etc/letsencrypt/live/ahelme.net/privkey.pem', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   verda_instance_type
E     Extra inputs are not permitted [type=extra_forbidden, input_value='h100-sxm5', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   verda_region
E     Extra inputs are not permitted [type=extra_forbidden, input_value='eu-central', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   num_users
E     Extra inputs are not permitted [type=extra_forbidden, input_value='20', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   user_id_prefix
E     Extra inputs are not permitted [type=extra_forbidden, input_value='user', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   worker_gpu_memory_limit
E     Extra inputs are not permitted [type=extra_forbidden, input_value='70G', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   worker_restart_policy
E     Extra inputs are not permitted [type=extra_forbidden, input_value='unless-stopped', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   redis_persistence
E     Extra inputs are not permitted [type=extra_forbidden, input_value='yes', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   queue_manager_host
E     Extra inputs are not permitted [type=extra_forbidden, input_value='queue-manager', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   queue_manager_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='3000', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   queue_manager_log_level
E     Extra inputs are not permitted [type=extra_forbidden, input_value='INFO', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   admin_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='8080', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   admin_username
E     Extra inputs are not permitted [type=extra_forbidden, input_value='admin', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   admin_password
E     Extra inputs are not permitted [type=extra_forbidden, input_value='change_me_secure_password', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   nginx_http_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='80', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   nginx_https_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='443', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   models_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='./data/models', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   workflows_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='./data/workflows', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   comfyui_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='8188', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   comfyui_version
E     Extra inputs are not permitted [type=extra_forbidden, input_value='latest', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   verbose_logs
E     Extra inputs are not permitted [type=extra_forbidden, input_value='false', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
___________________ TestListJobsEndpoint.test_list_user_jobs ___________________
tests/test_queue_manager.py:253: in test_list_user_jobs
    with patch('main.redis_client', mock_redis_client):
/usr/lib/python3.12/unittest/mock.py:1442: in __enter__
    self.target = self.getter()
/usr/lib/python3.12/pkgutil.py:513: in resolve_name
    mod = importlib.import_module(modname)
/usr/lib/python3.12/importlib/__init__.py:90: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
<frozen importlib._bootstrap>:1387: in _gcd_import
    ???
<frozen importlib._bootstrap>:1360: in _find_and_load
    ???
<frozen importlib._bootstrap>:1331: in _find_and_load_unlocked
    ???
<frozen importlib._bootstrap>:935: in _load_unlocked
    ???
<frozen importlib._bootstrap_external>:995: in exec_module
    ???
<frozen importlib._bootstrap>:488: in _call_with_frames_removed
    ???
queue-manager/main.py:19: in <module>
    from config import settings
queue-manager/config.py:51: in <module>
    settings = Settings()
test_venv/lib/python3.12/site-packages/pydantic_settings/main.py:194: in __init__
    super().__init__(
E   pydantic_core._pydantic_core.ValidationError: 23 validation errors for Settings
E   domain
E     Extra inputs are not permitted [type=extra_forbidden, input_value='comfy.ahelme.net', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   ssl_cert_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='/etc/letsencrypt/live/ahelme.net/fullchain.pem', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   ssl_key_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='/etc/letsencrypt/live/ahelme.net/privkey.pem', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   verda_instance_type
E     Extra inputs are not permitted [type=extra_forbidden, input_value='h100-sxm5', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   verda_region
E     Extra inputs are not permitted [type=extra_forbidden, input_value='eu-central', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   num_users
E     Extra inputs are not permitted [type=extra_forbidden, input_value='20', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   user_id_prefix
E     Extra inputs are not permitted [type=extra_forbidden, input_value='user', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   worker_gpu_memory_limit
E     Extra inputs are not permitted [type=extra_forbidden, input_value='70G', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   worker_restart_policy
E     Extra inputs are not permitted [type=extra_forbidden, input_value='unless-stopped', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   redis_persistence
E     Extra inputs are not permitted [type=extra_forbidden, input_value='yes', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   queue_manager_host
E     Extra inputs are not permitted [type=extra_forbidden, input_value='queue-manager', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   queue_manager_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='3000', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   queue_manager_log_level
E     Extra inputs are not permitted [type=extra_forbidden, input_value='INFO', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   admin_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='8080', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   admin_username
E     Extra inputs are not permitted [type=extra_forbidden, input_value='admin', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   admin_password
E     Extra inputs are not permitted [type=extra_forbidden, input_value='change_me_secure_password', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   nginx_http_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='80', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   nginx_https_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='443', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   models_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='./data/models', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   workflows_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='./data/workflows', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   comfyui_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='8188', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   comfyui_version
E     Extra inputs are not permitted [type=extra_forbidden, input_value='latest', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   verbose_logs
E     Extra inputs are not permitted [type=extra_forbidden, input_value='false', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
________________ TestListJobsEndpoint.test_list_jobs_with_limit ________________
tests/test_queue_manager.py:267: in test_list_jobs_with_limit
    with patch('main.redis_client', mock_redis_client):
/usr/lib/python3.12/unittest/mock.py:1442: in __enter__
    self.target = self.getter()
/usr/lib/python3.12/pkgutil.py:513: in resolve_name
    mod = importlib.import_module(modname)
/usr/lib/python3.12/importlib/__init__.py:90: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
<frozen importlib._bootstrap>:1387: in _gcd_import
    ???
<frozen importlib._bootstrap>:1360: in _find_and_load
    ???
<frozen importlib._bootstrap>:1331: in _find_and_load_unlocked
    ???
<frozen importlib._bootstrap>:935: in _load_unlocked
    ???
<frozen importlib._bootstrap_external>:995: in exec_module
    ???
<frozen importlib._bootstrap>:488: in _call_with_frames_removed
    ???
queue-manager/main.py:19: in <module>
    from config import settings
queue-manager/config.py:51: in <module>
    settings = Settings()
test_venv/lib/python3.12/site-packages/pydantic_settings/main.py:194: in __init__
    super().__init__(
E   pydantic_core._pydantic_core.ValidationError: 23 validation errors for Settings
E   domain
E     Extra inputs are not permitted [type=extra_forbidden, input_value='comfy.ahelme.net', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   ssl_cert_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='/etc/letsencrypt/live/ahelme.net/fullchain.pem', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   ssl_key_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='/etc/letsencrypt/live/ahelme.net/privkey.pem', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   verda_instance_type
E     Extra inputs are not permitted [type=extra_forbidden, input_value='h100-sxm5', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   verda_region
E     Extra inputs are not permitted [type=extra_forbidden, input_value='eu-central', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   num_users
E     Extra inputs are not permitted [type=extra_forbidden, input_value='20', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   user_id_prefix
E     Extra inputs are not permitted [type=extra_forbidden, input_value='user', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   worker_gpu_memory_limit
E     Extra inputs are not permitted [type=extra_forbidden, input_value='70G', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   worker_restart_policy
E     Extra inputs are not permitted [type=extra_forbidden, input_value='unless-stopped', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   redis_persistence
E     Extra inputs are not permitted [type=extra_forbidden, input_value='yes', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   queue_manager_host
E     Extra inputs are not permitted [type=extra_forbidden, input_value='queue-manager', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   queue_manager_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='3000', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   queue_manager_log_level
E     Extra inputs are not permitted [type=extra_forbidden, input_value='INFO', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   admin_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='8080', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   admin_username
E     Extra inputs are not permitted [type=extra_forbidden, input_value='admin', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   admin_password
E     Extra inputs are not permitted [type=extra_forbidden, input_value='change_me_secure_password', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   nginx_http_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='80', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   nginx_https_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='443', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   models_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='./data/models', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   workflows_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='./data/workflows', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   comfyui_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='8188', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   comfyui_version
E     Extra inputs are not permitted [type=extra_forbidden, input_value='latest', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   verbose_logs
E     Extra inputs are not permitted [type=extra_forbidden, input_value='false', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
____________ TestListJobsEndpoint.test_list_jobs_with_status_filter ____________
tests/test_queue_manager.py:284: in test_list_jobs_with_status_filter
    with patch('main.redis_client', mock_redis_client):
/usr/lib/python3.12/unittest/mock.py:1442: in __enter__
    self.target = self.getter()
/usr/lib/python3.12/pkgutil.py:513: in resolve_name
    mod = importlib.import_module(modname)
/usr/lib/python3.12/importlib/__init__.py:90: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
<frozen importlib._bootstrap>:1387: in _gcd_import
    ???
<frozen importlib._bootstrap>:1360: in _find_and_load
    ???
<frozen importlib._bootstrap>:1331: in _find_and_load_unlocked
    ???
<frozen importlib._bootstrap>:935: in _load_unlocked
    ???
<frozen importlib._bootstrap_external>:995: in exec_module
    ???
<frozen importlib._bootstrap>:488: in _call_with_frames_removed
    ???
queue-manager/main.py:19: in <module>
    from config import settings
queue-manager/config.py:51: in <module>
    settings = Settings()
test_venv/lib/python3.12/site-packages/pydantic_settings/main.py:194: in __init__
    super().__init__(
E   pydantic_core._pydantic_core.ValidationError: 23 validation errors for Settings
E   domain
E     Extra inputs are not permitted [type=extra_forbidden, input_value='comfy.ahelme.net', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   ssl_cert_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='/etc/letsencrypt/live/ahelme.net/fullchain.pem', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   ssl_key_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='/etc/letsencrypt/live/ahelme.net/privkey.pem', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   verda_instance_type
E     Extra inputs are not permitted [type=extra_forbidden, input_value='h100-sxm5', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   verda_region
E     Extra inputs are not permitted [type=extra_forbidden, input_value='eu-central', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   num_users
E     Extra inputs are not permitted [type=extra_forbidden, input_value='20', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   user_id_prefix
E     Extra inputs are not permitted [type=extra_forbidden, input_value='user', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   worker_gpu_memory_limit
E     Extra inputs are not permitted [type=extra_forbidden, input_value='70G', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   worker_restart_policy
E     Extra inputs are not permitted [type=extra_forbidden, input_value='unless-stopped', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   redis_persistence
E     Extra inputs are not permitted [type=extra_forbidden, input_value='yes', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   queue_manager_host
E     Extra inputs are not permitted [type=extra_forbidden, input_value='queue-manager', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   queue_manager_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='3000', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   queue_manager_log_level
E     Extra inputs are not permitted [type=extra_forbidden, input_value='INFO', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   admin_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='8080', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   admin_username
E     Extra inputs are not permitted [type=extra_forbidden, input_value='admin', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   admin_password
E     Extra inputs are not permitted [type=extra_forbidden, input_value='change_me_secure_password', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   nginx_http_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='80', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   nginx_https_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='443', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   models_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='./data/models', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   workflows_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='./data/workflows', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   comfyui_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='8188', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   comfyui_version
E     Extra inputs are not permitted [type=extra_forbidden, input_value='latest', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   verbose_logs
E     Extra inputs are not permitted [type=extra_forbidden, input_value='false', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
________________ TestCancelJobEndpoint.test_cancel_pending_job _________________
tests/test_queue_manager.py:300: in test_cancel_pending_job
    with patch('main.redis_client', mock_redis_client):
/usr/lib/python3.12/unittest/mock.py:1442: in __enter__
    self.target = self.getter()
/usr/lib/python3.12/pkgutil.py:513: in resolve_name
    mod = importlib.import_module(modname)
/usr/lib/python3.12/importlib/__init__.py:90: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
<frozen importlib._bootstrap>:1387: in _gcd_import
    ???
<frozen importlib._bootstrap>:1360: in _find_and_load
    ???
<frozen importlib._bootstrap>:1331: in _find_and_load_unlocked
    ???
<frozen importlib._bootstrap>:935: in _load_unlocked
    ???
<frozen importlib._bootstrap_external>:995: in exec_module
    ???
<frozen importlib._bootstrap>:488: in _call_with_frames_removed
    ???
queue-manager/main.py:19: in <module>
    from config import settings
queue-manager/config.py:51: in <module>
    settings = Settings()
test_venv/lib/python3.12/site-packages/pydantic_settings/main.py:194: in __init__
    super().__init__(
E   pydantic_core._pydantic_core.ValidationError: 23 validation errors for Settings
E   domain
E     Extra inputs are not permitted [type=extra_forbidden, input_value='comfy.ahelme.net', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   ssl_cert_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='/etc/letsencrypt/live/ahelme.net/fullchain.pem', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   ssl_key_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='/etc/letsencrypt/live/ahelme.net/privkey.pem', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   verda_instance_type
E     Extra inputs are not permitted [type=extra_forbidden, input_value='h100-sxm5', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   verda_region
E     Extra inputs are not permitted [type=extra_forbidden, input_value='eu-central', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   num_users
E     Extra inputs are not permitted [type=extra_forbidden, input_value='20', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   user_id_prefix
E     Extra inputs are not permitted [type=extra_forbidden, input_value='user', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   worker_gpu_memory_limit
E     Extra inputs are not permitted [type=extra_forbidden, input_value='70G', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   worker_restart_policy
E     Extra inputs are not permitted [type=extra_forbidden, input_value='unless-stopped', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   redis_persistence
E     Extra inputs are not permitted [type=extra_forbidden, input_value='yes', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   queue_manager_host
E     Extra inputs are not permitted [type=extra_forbidden, input_value='queue-manager', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   queue_manager_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='3000', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   queue_manager_log_level
E     Extra inputs are not permitted [type=extra_forbidden, input_value='INFO', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   admin_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='8080', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   admin_username
E     Extra inputs are not permitted [type=extra_forbidden, input_value='admin', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   admin_password
E     Extra inputs are not permitted [type=extra_forbidden, input_value='change_me_secure_password', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   nginx_http_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='80', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   nginx_https_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='443', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   models_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='./data/models', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   workflows_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='./data/workflows', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   comfyui_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='8188', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   comfyui_version
E     Extra inputs are not permitted [type=extra_forbidden, input_value='latest', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   verbose_logs
E     Extra inputs are not permitted [type=extra_forbidden, input_value='false', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
________________ TestCancelJobEndpoint.test_cancel_running_job _________________
tests/test_queue_manager.py:314: in test_cancel_running_job
    with patch('main.redis_client', mock_redis_client):
/usr/lib/python3.12/unittest/mock.py:1442: in __enter__
    self.target = self.getter()
/usr/lib/python3.12/pkgutil.py:513: in resolve_name
    mod = importlib.import_module(modname)
/usr/lib/python3.12/importlib/__init__.py:90: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
<frozen importlib._bootstrap>:1387: in _gcd_import
    ???
<frozen importlib._bootstrap>:1360: in _find_and_load
    ???
<frozen importlib._bootstrap>:1331: in _find_and_load_unlocked
    ???
<frozen importlib._bootstrap>:935: in _load_unlocked
    ???
<frozen importlib._bootstrap_external>:995: in exec_module
    ???
<frozen importlib._bootstrap>:488: in _call_with_frames_removed
    ???
queue-manager/main.py:19: in <module>
    from config import settings
queue-manager/config.py:51: in <module>
    settings = Settings()
test_venv/lib/python3.12/site-packages/pydantic_settings/main.py:194: in __init__
    super().__init__(
E   pydantic_core._pydantic_core.ValidationError: 23 validation errors for Settings
E   domain
E     Extra inputs are not permitted [type=extra_forbidden, input_value='comfy.ahelme.net', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   ssl_cert_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='/etc/letsencrypt/live/ahelme.net/fullchain.pem', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   ssl_key_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='/etc/letsencrypt/live/ahelme.net/privkey.pem', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   verda_instance_type
E     Extra inputs are not permitted [type=extra_forbidden, input_value='h100-sxm5', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   verda_region
E     Extra inputs are not permitted [type=extra_forbidden, input_value='eu-central', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   num_users
E     Extra inputs are not permitted [type=extra_forbidden, input_value='20', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   user_id_prefix
E     Extra inputs are not permitted [type=extra_forbidden, input_value='user', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   worker_gpu_memory_limit
E     Extra inputs are not permitted [type=extra_forbidden, input_value='70G', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   worker_restart_policy
E     Extra inputs are not permitted [type=extra_forbidden, input_value='unless-stopped', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   redis_persistence
E     Extra inputs are not permitted [type=extra_forbidden, input_value='yes', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   queue_manager_host
E     Extra inputs are not permitted [type=extra_forbidden, input_value='queue-manager', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   queue_manager_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='3000', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   queue_manager_log_level
E     Extra inputs are not permitted [type=extra_forbidden, input_value='INFO', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   admin_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='8080', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   admin_username
E     Extra inputs are not permitted [type=extra_forbidden, input_value='admin', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   admin_password
E     Extra inputs are not permitted [type=extra_forbidden, input_value='change_me_secure_password', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   nginx_http_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='80', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   nginx_https_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='443', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   models_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='./data/models', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   workflows_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='./data/workflows', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   comfyui_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='8188', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   comfyui_version
E     Extra inputs are not permitted [type=extra_forbidden, input_value='latest', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   verbose_logs
E     Extra inputs are not permitted [type=extra_forbidden, input_value='false', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
____________ TestCancelJobEndpoint.test_cancel_completed_job_error _____________
tests/test_queue_manager.py:325: in test_cancel_completed_job_error
    with patch('main.redis_client', mock_redis_client):
/usr/lib/python3.12/unittest/mock.py:1442: in __enter__
    self.target = self.getter()
/usr/lib/python3.12/pkgutil.py:513: in resolve_name
    mod = importlib.import_module(modname)
/usr/lib/python3.12/importlib/__init__.py:90: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
<frozen importlib._bootstrap>:1387: in _gcd_import
    ???
<frozen importlib._bootstrap>:1360: in _find_and_load
    ???
<frozen importlib._bootstrap>:1331: in _find_and_load_unlocked
    ???
<frozen importlib._bootstrap>:935: in _load_unlocked
    ???
<frozen importlib._bootstrap_external>:995: in exec_module
    ???
<frozen importlib._bootstrap>:488: in _call_with_frames_removed
    ???
queue-manager/main.py:19: in <module>
    from config import settings
queue-manager/config.py:51: in <module>
    settings = Settings()
test_venv/lib/python3.12/site-packages/pydantic_settings/main.py:194: in __init__
    super().__init__(
E   pydantic_core._pydantic_core.ValidationError: 23 validation errors for Settings
E   domain
E     Extra inputs are not permitted [type=extra_forbidden, input_value='comfy.ahelme.net', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   ssl_cert_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='/etc/letsencrypt/live/ahelme.net/fullchain.pem', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   ssl_key_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='/etc/letsencrypt/live/ahelme.net/privkey.pem', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   verda_instance_type
E     Extra inputs are not permitted [type=extra_forbidden, input_value='h100-sxm5', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   verda_region
E     Extra inputs are not permitted [type=extra_forbidden, input_value='eu-central', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   num_users
E     Extra inputs are not permitted [type=extra_forbidden, input_value='20', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   user_id_prefix
E     Extra inputs are not permitted [type=extra_forbidden, input_value='user', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   worker_gpu_memory_limit
E     Extra inputs are not permitted [type=extra_forbidden, input_value='70G', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   worker_restart_policy
E     Extra inputs are not permitted [type=extra_forbidden, input_value='unless-stopped', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   redis_persistence
E     Extra inputs are not permitted [type=extra_forbidden, input_value='yes', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   queue_manager_host
E     Extra inputs are not permitted [type=extra_forbidden, input_value='queue-manager', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   queue_manager_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='3000', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   queue_manager_log_level
E     Extra inputs are not permitted [type=extra_forbidden, input_value='INFO', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   admin_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='8080', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   admin_username
E     Extra inputs are not permitted [type=extra_forbidden, input_value='admin', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   admin_password
E     Extra inputs are not permitted [type=extra_forbidden, input_value='change_me_secure_password', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   nginx_http_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='80', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   nginx_https_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='443', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   models_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='./data/models', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   workflows_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='./data/workflows', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   comfyui_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='8188', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   comfyui_version
E     Extra inputs are not permitted [type=extra_forbidden, input_value='latest', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   verbose_logs
E     Extra inputs are not permitted [type=extra_forbidden, input_value='false', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
______________ TestCancelJobEndpoint.test_cancel_nonexistent_job _______________
tests/test_queue_manager.py:338: in test_cancel_nonexistent_job
    with patch('main.redis_client', mock_redis_client):
/usr/lib/python3.12/unittest/mock.py:1442: in __enter__
    self.target = self.getter()
/usr/lib/python3.12/pkgutil.py:513: in resolve_name
    mod = importlib.import_module(modname)
/usr/lib/python3.12/importlib/__init__.py:90: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
<frozen importlib._bootstrap>:1387: in _gcd_import
    ???
<frozen importlib._bootstrap>:1360: in _find_and_load
    ???
<frozen importlib._bootstrap>:1331: in _find_and_load_unlocked
    ???
<frozen importlib._bootstrap>:935: in _load_unlocked
    ???
<frozen importlib._bootstrap_external>:995: in exec_module
    ???
<frozen importlib._bootstrap>:488: in _call_with_frames_removed
    ???
queue-manager/main.py:19: in <module>
    from config import settings
queue-manager/config.py:51: in <module>
    settings = Settings()
test_venv/lib/python3.12/site-packages/pydantic_settings/main.py:194: in __init__
    super().__init__(
E   pydantic_core._pydantic_core.ValidationError: 23 validation errors for Settings
E   domain
E     Extra inputs are not permitted [type=extra_forbidden, input_value='comfy.ahelme.net', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   ssl_cert_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='/etc/letsencrypt/live/ahelme.net/fullchain.pem', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   ssl_key_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='/etc/letsencrypt/live/ahelme.net/privkey.pem', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   verda_instance_type
E     Extra inputs are not permitted [type=extra_forbidden, input_value='h100-sxm5', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   verda_region
E     Extra inputs are not permitted [type=extra_forbidden, input_value='eu-central', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   num_users
E     Extra inputs are not permitted [type=extra_forbidden, input_value='20', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   user_id_prefix
E     Extra inputs are not permitted [type=extra_forbidden, input_value='user', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   worker_gpu_memory_limit
E     Extra inputs are not permitted [type=extra_forbidden, input_value='70G', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   worker_restart_policy
E     Extra inputs are not permitted [type=extra_forbidden, input_value='unless-stopped', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   redis_persistence
E     Extra inputs are not permitted [type=extra_forbidden, input_value='yes', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   queue_manager_host
E     Extra inputs are not permitted [type=extra_forbidden, input_value='queue-manager', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   queue_manager_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='3000', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   queue_manager_log_level
E     Extra inputs are not permitted [type=extra_forbidden, input_value='INFO', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   admin_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='8080', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   admin_username
E     Extra inputs are not permitted [type=extra_forbidden, input_value='admin', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   admin_password
E     Extra inputs are not permitted [type=extra_forbidden, input_value='change_me_secure_password', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   nginx_http_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='80', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   nginx_https_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='443', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   models_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='./data/models', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   workflows_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='./data/workflows', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   comfyui_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='8188', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   comfyui_version
E     Extra inputs are not permitted [type=extra_forbidden, input_value='latest', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   verbose_logs
E     Extra inputs are not permitted [type=extra_forbidden, input_value='false', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
_________ TestPriorityUpdateEndpoint.test_update_job_priority_success __________
tests/test_queue_manager.py:354: in test_update_job_priority_success
    with patch('main.redis_client', mock_redis_client):
/usr/lib/python3.12/unittest/mock.py:1442: in __enter__
    self.target = self.getter()
/usr/lib/python3.12/pkgutil.py:513: in resolve_name
    mod = importlib.import_module(modname)
/usr/lib/python3.12/importlib/__init__.py:90: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
<frozen importlib._bootstrap>:1387: in _gcd_import
    ???
<frozen importlib._bootstrap>:1360: in _find_and_load
    ???
<frozen importlib._bootstrap>:1331: in _find_and_load_unlocked
    ???
<frozen importlib._bootstrap>:935: in _load_unlocked
    ???
<frozen importlib._bootstrap_external>:995: in exec_module
    ???
<frozen importlib._bootstrap>:488: in _call_with_frames_removed
    ???
queue-manager/main.py:19: in <module>
    from config import settings
queue-manager/config.py:51: in <module>
    settings = Settings()
test_venv/lib/python3.12/site-packages/pydantic_settings/main.py:194: in __init__
    super().__init__(
E   pydantic_core._pydantic_core.ValidationError: 23 validation errors for Settings
E   domain
E     Extra inputs are not permitted [type=extra_forbidden, input_value='comfy.ahelme.net', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   ssl_cert_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='/etc/letsencrypt/live/ahelme.net/fullchain.pem', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   ssl_key_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='/etc/letsencrypt/live/ahelme.net/privkey.pem', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   verda_instance_type
E     Extra inputs are not permitted [type=extra_forbidden, input_value='h100-sxm5', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   verda_region
E     Extra inputs are not permitted [type=extra_forbidden, input_value='eu-central', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   num_users
E     Extra inputs are not permitted [type=extra_forbidden, input_value='20', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   user_id_prefix
E     Extra inputs are not permitted [type=extra_forbidden, input_value='user', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   worker_gpu_memory_limit
E     Extra inputs are not permitted [type=extra_forbidden, input_value='70G', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   worker_restart_policy
E     Extra inputs are not permitted [type=extra_forbidden, input_value='unless-stopped', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   redis_persistence
E     Extra inputs are not permitted [type=extra_forbidden, input_value='yes', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   queue_manager_host
E     Extra inputs are not permitted [type=extra_forbidden, input_value='queue-manager', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   queue_manager_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='3000', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   queue_manager_log_level
E     Extra inputs are not permitted [type=extra_forbidden, input_value='INFO', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   admin_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='8080', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   admin_username
E     Extra inputs are not permitted [type=extra_forbidden, input_value='admin', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   admin_password
E     Extra inputs are not permitted [type=extra_forbidden, input_value='change_me_secure_password', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   nginx_http_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='80', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   nginx_https_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='443', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   models_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='./data/models', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   workflows_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='./data/workflows', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   comfyui_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='8188', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   comfyui_version
E     Extra inputs are not permitted [type=extra_forbidden, input_value='latest', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   verbose_logs
E     Extra inputs are not permitted [type=extra_forbidden, input_value='false', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
______ TestPriorityUpdateEndpoint.test_update_priority_running_job_error _______
tests/test_queue_manager.py:372: in test_update_priority_running_job_error
    with patch('main.redis_client', mock_redis_client):
/usr/lib/python3.12/unittest/mock.py:1442: in __enter__
    self.target = self.getter()
/usr/lib/python3.12/pkgutil.py:513: in resolve_name
    mod = importlib.import_module(modname)
/usr/lib/python3.12/importlib/__init__.py:90: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
<frozen importlib._bootstrap>:1387: in _gcd_import
    ???
<frozen importlib._bootstrap>:1360: in _find_and_load
    ???
<frozen importlib._bootstrap>:1331: in _find_and_load_unlocked
    ???
<frozen importlib._bootstrap>:935: in _load_unlocked
    ???
<frozen importlib._bootstrap_external>:995: in exec_module
    ???
<frozen importlib._bootstrap>:488: in _call_with_frames_removed
    ???
queue-manager/main.py:19: in <module>
    from config import settings
queue-manager/config.py:51: in <module>
    settings = Settings()
test_venv/lib/python3.12/site-packages/pydantic_settings/main.py:194: in __init__
    super().__init__(
E   pydantic_core._pydantic_core.ValidationError: 23 validation errors for Settings
E   domain
E     Extra inputs are not permitted [type=extra_forbidden, input_value='comfy.ahelme.net', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   ssl_cert_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='/etc/letsencrypt/live/ahelme.net/fullchain.pem', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   ssl_key_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='/etc/letsencrypt/live/ahelme.net/privkey.pem', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   verda_instance_type
E     Extra inputs are not permitted [type=extra_forbidden, input_value='h100-sxm5', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   verda_region
E     Extra inputs are not permitted [type=extra_forbidden, input_value='eu-central', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   num_users
E     Extra inputs are not permitted [type=extra_forbidden, input_value='20', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   user_id_prefix
E     Extra inputs are not permitted [type=extra_forbidden, input_value='user', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   worker_gpu_memory_limit
E     Extra inputs are not permitted [type=extra_forbidden, input_value='70G', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   worker_restart_policy
E     Extra inputs are not permitted [type=extra_forbidden, input_value='unless-stopped', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   redis_persistence
E     Extra inputs are not permitted [type=extra_forbidden, input_value='yes', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   queue_manager_host
E     Extra inputs are not permitted [type=extra_forbidden, input_value='queue-manager', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   queue_manager_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='3000', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   queue_manager_log_level
E     Extra inputs are not permitted [type=extra_forbidden, input_value='INFO', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   admin_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='8080', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   admin_username
E     Extra inputs are not permitted [type=extra_forbidden, input_value='admin', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   admin_password
E     Extra inputs are not permitted [type=extra_forbidden, input_value='change_me_secure_password', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   nginx_http_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='80', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   nginx_https_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='443', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   models_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='./data/models', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   workflows_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='./data/workflows', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   comfyui_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='8188', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   comfyui_version
E     Extra inputs are not permitted [type=extra_forbidden, input_value='latest', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   verbose_logs
E     Extra inputs are not permitted [type=extra_forbidden, input_value='false', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
_______ TestPriorityUpdateEndpoint.test_update_priority_nonexistent_job ________
tests/test_queue_manager.py:386: in test_update_priority_nonexistent_job
    with patch('main.redis_client', mock_redis_client):
/usr/lib/python3.12/unittest/mock.py:1442: in __enter__
    self.target = self.getter()
/usr/lib/python3.12/pkgutil.py:513: in resolve_name
    mod = importlib.import_module(modname)
/usr/lib/python3.12/importlib/__init__.py:90: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
<frozen importlib._bootstrap>:1387: in _gcd_import
    ???
<frozen importlib._bootstrap>:1360: in _find_and_load
    ???
<frozen importlib._bootstrap>:1331: in _find_and_load_unlocked
    ???
<frozen importlib._bootstrap>:935: in _load_unlocked
    ???
<frozen importlib._bootstrap_external>:995: in exec_module
    ???
<frozen importlib._bootstrap>:488: in _call_with_frames_removed
    ???
queue-manager/main.py:19: in <module>
    from config import settings
queue-manager/config.py:51: in <module>
    settings = Settings()
test_venv/lib/python3.12/site-packages/pydantic_settings/main.py:194: in __init__
    super().__init__(
E   pydantic_core._pydantic_core.ValidationError: 23 validation errors for Settings
E   domain
E     Extra inputs are not permitted [type=extra_forbidden, input_value='comfy.ahelme.net', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   ssl_cert_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='/etc/letsencrypt/live/ahelme.net/fullchain.pem', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   ssl_key_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='/etc/letsencrypt/live/ahelme.net/privkey.pem', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   verda_instance_type
E     Extra inputs are not permitted [type=extra_forbidden, input_value='h100-sxm5', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   verda_region
E     Extra inputs are not permitted [type=extra_forbidden, input_value='eu-central', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   num_users
E     Extra inputs are not permitted [type=extra_forbidden, input_value='20', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   user_id_prefix
E     Extra inputs are not permitted [type=extra_forbidden, input_value='user', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   worker_gpu_memory_limit
E     Extra inputs are not permitted [type=extra_forbidden, input_value='70G', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   worker_restart_policy
E     Extra inputs are not permitted [type=extra_forbidden, input_value='unless-stopped', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   redis_persistence
E     Extra inputs are not permitted [type=extra_forbidden, input_value='yes', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   queue_manager_host
E     Extra inputs are not permitted [type=extra_forbidden, input_value='queue-manager', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   queue_manager_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='3000', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   queue_manager_log_level
E     Extra inputs are not permitted [type=extra_forbidden, input_value='INFO', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   admin_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='8080', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   admin_username
E     Extra inputs are not permitted [type=extra_forbidden, input_value='admin', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   admin_password
E     Extra inputs are not permitted [type=extra_forbidden, input_value='change_me_secure_password', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   nginx_http_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='80', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   nginx_https_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='443', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   models_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='./data/models', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   workflows_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='./data/workflows', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   comfyui_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='8188', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   comfyui_version
E     Extra inputs are not permitted [type=extra_forbidden, input_value='latest', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   verbose_logs
E     Extra inputs are not permitted [type=extra_forbidden, input_value='false', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
________________ TestWorkerEndpoints.test_get_next_job_success _________________
tests/test_queue_manager.py:406: in test_get_next_job_success
    with patch('main.redis_client', mock_redis_client):
/usr/lib/python3.12/unittest/mock.py:1442: in __enter__
    self.target = self.getter()
/usr/lib/python3.12/pkgutil.py:513: in resolve_name
    mod = importlib.import_module(modname)
/usr/lib/python3.12/importlib/__init__.py:90: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
<frozen importlib._bootstrap>:1387: in _gcd_import
    ???
<frozen importlib._bootstrap>:1360: in _find_and_load
    ???
<frozen importlib._bootstrap>:1331: in _find_and_load_unlocked
    ???
<frozen importlib._bootstrap>:935: in _load_unlocked
    ???
<frozen importlib._bootstrap_external>:995: in exec_module
    ???
<frozen importlib._bootstrap>:488: in _call_with_frames_removed
    ???
queue-manager/main.py:19: in <module>
    from config import settings
queue-manager/config.py:51: in <module>
    settings = Settings()
test_venv/lib/python3.12/site-packages/pydantic_settings/main.py:194: in __init__
    super().__init__(
E   pydantic_core._pydantic_core.ValidationError: 23 validation errors for Settings
E   domain
E     Extra inputs are not permitted [type=extra_forbidden, input_value='comfy.ahelme.net', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   ssl_cert_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='/etc/letsencrypt/live/ahelme.net/fullchain.pem', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   ssl_key_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='/etc/letsencrypt/live/ahelme.net/privkey.pem', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   verda_instance_type
E     Extra inputs are not permitted [type=extra_forbidden, input_value='h100-sxm5', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   verda_region
E     Extra inputs are not permitted [type=extra_forbidden, input_value='eu-central', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   num_users
E     Extra inputs are not permitted [type=extra_forbidden, input_value='20', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   user_id_prefix
E     Extra inputs are not permitted [type=extra_forbidden, input_value='user', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   worker_gpu_memory_limit
E     Extra inputs are not permitted [type=extra_forbidden, input_value='70G', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   worker_restart_policy
E     Extra inputs are not permitted [type=extra_forbidden, input_value='unless-stopped', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   redis_persistence
E     Extra inputs are not permitted [type=extra_forbidden, input_value='yes', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   queue_manager_host
E     Extra inputs are not permitted [type=extra_forbidden, input_value='queue-manager', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   queue_manager_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='3000', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   queue_manager_log_level
E     Extra inputs are not permitted [type=extra_forbidden, input_value='INFO', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   admin_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='8080', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   admin_username
E     Extra inputs are not permitted [type=extra_forbidden, input_value='admin', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   admin_password
E     Extra inputs are not permitted [type=extra_forbidden, input_value='change_me_secure_password', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   nginx_http_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='80', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   nginx_https_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='443', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   models_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='./data/models', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   workflows_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='./data/workflows', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   comfyui_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='8188', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   comfyui_version
E     Extra inputs are not permitted [type=extra_forbidden, input_value='latest', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   verbose_logs
E     Extra inputs are not permitted [type=extra_forbidden, input_value='false', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
______________ TestWorkerEndpoints.test_get_next_job_empty_queue _______________
tests/test_queue_manager.py:421: in test_get_next_job_empty_queue
    with patch('main.redis_client', mock_redis_client):
/usr/lib/python3.12/unittest/mock.py:1442: in __enter__
    self.target = self.getter()
/usr/lib/python3.12/pkgutil.py:513: in resolve_name
    mod = importlib.import_module(modname)
/usr/lib/python3.12/importlib/__init__.py:90: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
<frozen importlib._bootstrap>:1387: in _gcd_import
    ???
<frozen importlib._bootstrap>:1360: in _find_and_load
    ???
<frozen importlib._bootstrap>:1331: in _find_and_load_unlocked
    ???
<frozen importlib._bootstrap>:935: in _load_unlocked
    ???
<frozen importlib._bootstrap_external>:995: in exec_module
    ???
<frozen importlib._bootstrap>:488: in _call_with_frames_removed
    ???
queue-manager/main.py:19: in <module>
    from config import settings
queue-manager/config.py:51: in <module>
    settings = Settings()
test_venv/lib/python3.12/site-packages/pydantic_settings/main.py:194: in __init__
    super().__init__(
E   pydantic_core._pydantic_core.ValidationError: 23 validation errors for Settings
E   domain
E     Extra inputs are not permitted [type=extra_forbidden, input_value='comfy.ahelme.net', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   ssl_cert_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='/etc/letsencrypt/live/ahelme.net/fullchain.pem', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   ssl_key_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='/etc/letsencrypt/live/ahelme.net/privkey.pem', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   verda_instance_type
E     Extra inputs are not permitted [type=extra_forbidden, input_value='h100-sxm5', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   verda_region
E     Extra inputs are not permitted [type=extra_forbidden, input_value='eu-central', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   num_users
E     Extra inputs are not permitted [type=extra_forbidden, input_value='20', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   user_id_prefix
E     Extra inputs are not permitted [type=extra_forbidden, input_value='user', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   worker_gpu_memory_limit
E     Extra inputs are not permitted [type=extra_forbidden, input_value='70G', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   worker_restart_policy
E     Extra inputs are not permitted [type=extra_forbidden, input_value='unless-stopped', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   redis_persistence
E     Extra inputs are not permitted [type=extra_forbidden, input_value='yes', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   queue_manager_host
E     Extra inputs are not permitted [type=extra_forbidden, input_value='queue-manager', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   queue_manager_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='3000', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   queue_manager_log_level
E     Extra inputs are not permitted [type=extra_forbidden, input_value='INFO', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   admin_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='8080', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   admin_username
E     Extra inputs are not permitted [type=extra_forbidden, input_value='admin', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   admin_password
E     Extra inputs are not permitted [type=extra_forbidden, input_value='change_me_secure_password', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   nginx_http_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='80', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   nginx_https_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='443', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   models_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='./data/models', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   workflows_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='./data/workflows', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   comfyui_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='8188', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   comfyui_version
E     Extra inputs are not permitted [type=extra_forbidden, input_value='latest', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   verbose_logs
E     Extra inputs are not permitted [type=extra_forbidden, input_value='false', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
________________ TestWorkerEndpoints.test_complete_job_success _________________
tests/test_queue_manager.py:434: in test_complete_job_success
    with patch('main.redis_client', mock_redis_client):
/usr/lib/python3.12/unittest/mock.py:1442: in __enter__
    self.target = self.getter()
/usr/lib/python3.12/pkgutil.py:513: in resolve_name
    mod = importlib.import_module(modname)
/usr/lib/python3.12/importlib/__init__.py:90: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
<frozen importlib._bootstrap>:1387: in _gcd_import
    ???
<frozen importlib._bootstrap>:1360: in _find_and_load
    ???
<frozen importlib._bootstrap>:1331: in _find_and_load_unlocked
    ???
<frozen importlib._bootstrap>:935: in _load_unlocked
    ???
<frozen importlib._bootstrap_external>:995: in exec_module
    ???
<frozen importlib._bootstrap>:488: in _call_with_frames_removed
    ???
queue-manager/main.py:19: in <module>
    from config import settings
queue-manager/config.py:51: in <module>
    settings = Settings()
test_venv/lib/python3.12/site-packages/pydantic_settings/main.py:194: in __init__
    super().__init__(
E   pydantic_core._pydantic_core.ValidationError: 23 validation errors for Settings
E   domain
E     Extra inputs are not permitted [type=extra_forbidden, input_value='comfy.ahelme.net', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   ssl_cert_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='/etc/letsencrypt/live/ahelme.net/fullchain.pem', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   ssl_key_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='/etc/letsencrypt/live/ahelme.net/privkey.pem', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   verda_instance_type
E     Extra inputs are not permitted [type=extra_forbidden, input_value='h100-sxm5', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   verda_region
E     Extra inputs are not permitted [type=extra_forbidden, input_value='eu-central', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   num_users
E     Extra inputs are not permitted [type=extra_forbidden, input_value='20', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   user_id_prefix
E     Extra inputs are not permitted [type=extra_forbidden, input_value='user', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   worker_gpu_memory_limit
E     Extra inputs are not permitted [type=extra_forbidden, input_value='70G', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   worker_restart_policy
E     Extra inputs are not permitted [type=extra_forbidden, input_value='unless-stopped', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   redis_persistence
E     Extra inputs are not permitted [type=extra_forbidden, input_value='yes', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   queue_manager_host
E     Extra inputs are not permitted [type=extra_forbidden, input_value='queue-manager', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   queue_manager_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='3000', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   queue_manager_log_level
E     Extra inputs are not permitted [type=extra_forbidden, input_value='INFO', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   admin_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='8080', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   admin_username
E     Extra inputs are not permitted [type=extra_forbidden, input_value='admin', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   admin_password
E     Extra inputs are not permitted [type=extra_forbidden, input_value='change_me_secure_password', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   nginx_http_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='80', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   nginx_https_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='443', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   models_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='./data/models', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   workflows_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='./data/workflows', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   comfyui_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='8188', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   comfyui_version
E     Extra inputs are not permitted [type=extra_forbidden, input_value='latest', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   verbose_logs
E     Extra inputs are not permitted [type=extra_forbidden, input_value='false', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
_______________ TestWorkerEndpoints.test_complete_job_not_found ________________
tests/test_queue_manager.py:450: in test_complete_job_not_found
    with patch('main.redis_client', mock_redis_client):
/usr/lib/python3.12/unittest/mock.py:1442: in __enter__
    self.target = self.getter()
/usr/lib/python3.12/pkgutil.py:513: in resolve_name
    mod = importlib.import_module(modname)
/usr/lib/python3.12/importlib/__init__.py:90: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
<frozen importlib._bootstrap>:1387: in _gcd_import
    ???
<frozen importlib._bootstrap>:1360: in _find_and_load
    ???
<frozen importlib._bootstrap>:1331: in _find_and_load_unlocked
    ???
<frozen importlib._bootstrap>:935: in _load_unlocked
    ???
<frozen importlib._bootstrap_external>:995: in exec_module
    ???
<frozen importlib._bootstrap>:488: in _call_with_frames_removed
    ???
queue-manager/main.py:19: in <module>
    from config import settings
queue-manager/config.py:51: in <module>
    settings = Settings()
test_venv/lib/python3.12/site-packages/pydantic_settings/main.py:194: in __init__
    super().__init__(
E   pydantic_core._pydantic_core.ValidationError: 23 validation errors for Settings
E   domain
E     Extra inputs are not permitted [type=extra_forbidden, input_value='comfy.ahelme.net', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   ssl_cert_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='/etc/letsencrypt/live/ahelme.net/fullchain.pem', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   ssl_key_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='/etc/letsencrypt/live/ahelme.net/privkey.pem', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   verda_instance_type
E     Extra inputs are not permitted [type=extra_forbidden, input_value='h100-sxm5', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   verda_region
E     Extra inputs are not permitted [type=extra_forbidden, input_value='eu-central', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   num_users
E     Extra inputs are not permitted [type=extra_forbidden, input_value='20', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   user_id_prefix
E     Extra inputs are not permitted [type=extra_forbidden, input_value='user', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   worker_gpu_memory_limit
E     Extra inputs are not permitted [type=extra_forbidden, input_value='70G', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   worker_restart_policy
E     Extra inputs are not permitted [type=extra_forbidden, input_value='unless-stopped', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   redis_persistence
E     Extra inputs are not permitted [type=extra_forbidden, input_value='yes', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   queue_manager_host
E     Extra inputs are not permitted [type=extra_forbidden, input_value='queue-manager', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   queue_manager_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='3000', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   queue_manager_log_level
E     Extra inputs are not permitted [type=extra_forbidden, input_value='INFO', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   admin_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='8080', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   admin_username
E     Extra inputs are not permitted [type=extra_forbidden, input_value='admin', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   admin_password
E     Extra inputs are not permitted [type=extra_forbidden, input_value='change_me_secure_password', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   nginx_http_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='80', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   nginx_https_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='443', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   models_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='./data/models', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   workflows_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='./data/workflows', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   comfyui_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='8188', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   comfyui_version
E     Extra inputs are not permitted [type=extra_forbidden, input_value='latest', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   verbose_logs
E     Extra inputs are not permitted [type=extra_forbidden, input_value='false', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
__________________ TestWorkerEndpoints.test_fail_job_success ___________________
tests/test_queue_manager.py:464: in test_fail_job_success
    with patch('main.redis_client', mock_redis_client):
/usr/lib/python3.12/unittest/mock.py:1442: in __enter__
    self.target = self.getter()
/usr/lib/python3.12/pkgutil.py:513: in resolve_name
    mod = importlib.import_module(modname)
/usr/lib/python3.12/importlib/__init__.py:90: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
<frozen importlib._bootstrap>:1387: in _gcd_import
    ???
<frozen importlib._bootstrap>:1360: in _find_and_load
    ???
<frozen importlib._bootstrap>:1331: in _find_and_load_unlocked
    ???
<frozen importlib._bootstrap>:935: in _load_unlocked
    ???
<frozen importlib._bootstrap_external>:995: in exec_module
    ???
<frozen importlib._bootstrap>:488: in _call_with_frames_removed
    ???
queue-manager/main.py:19: in <module>
    from config import settings
queue-manager/config.py:51: in <module>
    settings = Settings()
test_venv/lib/python3.12/site-packages/pydantic_settings/main.py:194: in __init__
    super().__init__(
E   pydantic_core._pydantic_core.ValidationError: 23 validation errors for Settings
E   domain
E     Extra inputs are not permitted [type=extra_forbidden, input_value='comfy.ahelme.net', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   ssl_cert_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='/etc/letsencrypt/live/ahelme.net/fullchain.pem', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   ssl_key_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='/etc/letsencrypt/live/ahelme.net/privkey.pem', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   verda_instance_type
E     Extra inputs are not permitted [type=extra_forbidden, input_value='h100-sxm5', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   verda_region
E     Extra inputs are not permitted [type=extra_forbidden, input_value='eu-central', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   num_users
E     Extra inputs are not permitted [type=extra_forbidden, input_value='20', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   user_id_prefix
E     Extra inputs are not permitted [type=extra_forbidden, input_value='user', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   worker_gpu_memory_limit
E     Extra inputs are not permitted [type=extra_forbidden, input_value='70G', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   worker_restart_policy
E     Extra inputs are not permitted [type=extra_forbidden, input_value='unless-stopped', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   redis_persistence
E     Extra inputs are not permitted [type=extra_forbidden, input_value='yes', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   queue_manager_host
E     Extra inputs are not permitted [type=extra_forbidden, input_value='queue-manager', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   queue_manager_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='3000', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   queue_manager_log_level
E     Extra inputs are not permitted [type=extra_forbidden, input_value='INFO', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   admin_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='8080', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   admin_username
E     Extra inputs are not permitted [type=extra_forbidden, input_value='admin', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   admin_password
E     Extra inputs are not permitted [type=extra_forbidden, input_value='change_me_secure_password', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   nginx_http_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='80', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   nginx_https_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='443', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   models_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='./data/models', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   workflows_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='./data/workflows', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   comfyui_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='8188', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   comfyui_version
E     Extra inputs are not permitted [type=extra_forbidden, input_value='latest', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   verbose_logs
E     Extra inputs are not permitted [type=extra_forbidden, input_value='false', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
___________ TestWorkerEndpoints.test_fail_job_invalid_error_message ____________
tests/test_queue_manager.py:478: in test_fail_job_invalid_error_message
    with patch('main.redis_client', mock_redis_client):
/usr/lib/python3.12/unittest/mock.py:1442: in __enter__
    self.target = self.getter()
/usr/lib/python3.12/pkgutil.py:513: in resolve_name
    mod = importlib.import_module(modname)
/usr/lib/python3.12/importlib/__init__.py:90: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
<frozen importlib._bootstrap>:1387: in _gcd_import
    ???
<frozen importlib._bootstrap>:1360: in _find_and_load
    ???
<frozen importlib._bootstrap>:1331: in _find_and_load_unlocked
    ???
<frozen importlib._bootstrap>:935: in _load_unlocked
    ???
<frozen importlib._bootstrap_external>:995: in exec_module
    ???
<frozen importlib._bootstrap>:488: in _call_with_frames_removed
    ???
queue-manager/main.py:19: in <module>
    from config import settings
queue-manager/config.py:51: in <module>
    settings = Settings()
test_venv/lib/python3.12/site-packages/pydantic_settings/main.py:194: in __init__
    super().__init__(
E   pydantic_core._pydantic_core.ValidationError: 23 validation errors for Settings
E   domain
E     Extra inputs are not permitted [type=extra_forbidden, input_value='comfy.ahelme.net', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   ssl_cert_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='/etc/letsencrypt/live/ahelme.net/fullchain.pem', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   ssl_key_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='/etc/letsencrypt/live/ahelme.net/privkey.pem', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   verda_instance_type
E     Extra inputs are not permitted [type=extra_forbidden, input_value='h100-sxm5', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   verda_region
E     Extra inputs are not permitted [type=extra_forbidden, input_value='eu-central', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   num_users
E     Extra inputs are not permitted [type=extra_forbidden, input_value='20', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   user_id_prefix
E     Extra inputs are not permitted [type=extra_forbidden, input_value='user', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   worker_gpu_memory_limit
E     Extra inputs are not permitted [type=extra_forbidden, input_value='70G', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   worker_restart_policy
E     Extra inputs are not permitted [type=extra_forbidden, input_value='unless-stopped', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   redis_persistence
E     Extra inputs are not permitted [type=extra_forbidden, input_value='yes', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   queue_manager_host
E     Extra inputs are not permitted [type=extra_forbidden, input_value='queue-manager', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   queue_manager_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='3000', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   queue_manager_log_level
E     Extra inputs are not permitted [type=extra_forbidden, input_value='INFO', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   admin_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='8080', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   admin_username
E     Extra inputs are not permitted [type=extra_forbidden, input_value='admin', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   admin_password
E     Extra inputs are not permitted [type=extra_forbidden, input_value='change_me_secure_password', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   nginx_http_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='80', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   nginx_https_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='443', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   models_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='./data/models', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   workflows_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='./data/workflows', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   comfyui_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='8188', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   comfyui_version
E     Extra inputs are not permitted [type=extra_forbidden, input_value='latest', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   verbose_logs
E     Extra inputs are not permitted [type=extra_forbidden, input_value='false', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
________________ TestCORSConfiguration.test_cors_allowed_origin ________________
tests/test_queue_manager.py:497: in test_cors_allowed_origin
    with patch('main.redis_client', mock_redis_client):
/usr/lib/python3.12/unittest/mock.py:1442: in __enter__
    self.target = self.getter()
/usr/lib/python3.12/pkgutil.py:513: in resolve_name
    mod = importlib.import_module(modname)
/usr/lib/python3.12/importlib/__init__.py:90: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
<frozen importlib._bootstrap>:1387: in _gcd_import
    ???
<frozen importlib._bootstrap>:1360: in _find_and_load
    ???
<frozen importlib._bootstrap>:1331: in _find_and_load_unlocked
    ???
<frozen importlib._bootstrap>:935: in _load_unlocked
    ???
<frozen importlib._bootstrap_external>:995: in exec_module
    ???
<frozen importlib._bootstrap>:488: in _call_with_frames_removed
    ???
queue-manager/main.py:19: in <module>
    from config import settings
queue-manager/config.py:51: in <module>
    settings = Settings()
test_venv/lib/python3.12/site-packages/pydantic_settings/main.py:194: in __init__
    super().__init__(
E   pydantic_core._pydantic_core.ValidationError: 23 validation errors for Settings
E   domain
E     Extra inputs are not permitted [type=extra_forbidden, input_value='comfy.ahelme.net', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   ssl_cert_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='/etc/letsencrypt/live/ahelme.net/fullchain.pem', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   ssl_key_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='/etc/letsencrypt/live/ahelme.net/privkey.pem', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   verda_instance_type
E     Extra inputs are not permitted [type=extra_forbidden, input_value='h100-sxm5', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   verda_region
E     Extra inputs are not permitted [type=extra_forbidden, input_value='eu-central', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   num_users
E     Extra inputs are not permitted [type=extra_forbidden, input_value='20', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   user_id_prefix
E     Extra inputs are not permitted [type=extra_forbidden, input_value='user', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   worker_gpu_memory_limit
E     Extra inputs are not permitted [type=extra_forbidden, input_value='70G', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   worker_restart_policy
E     Extra inputs are not permitted [type=extra_forbidden, input_value='unless-stopped', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   redis_persistence
E     Extra inputs are not permitted [type=extra_forbidden, input_value='yes', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   queue_manager_host
E     Extra inputs are not permitted [type=extra_forbidden, input_value='queue-manager', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   queue_manager_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='3000', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   queue_manager_log_level
E     Extra inputs are not permitted [type=extra_forbidden, input_value='INFO', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   admin_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='8080', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   admin_username
E     Extra inputs are not permitted [type=extra_forbidden, input_value='admin', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   admin_password
E     Extra inputs are not permitted [type=extra_forbidden, input_value='change_me_secure_password', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   nginx_http_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='80', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   nginx_https_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='443', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   models_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='./data/models', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   workflows_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='./data/workflows', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   comfyui_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='8188', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   comfyui_version
E     Extra inputs are not permitted [type=extra_forbidden, input_value='latest', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   verbose_logs
E     Extra inputs are not permitted [type=extra_forbidden, input_value='false', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
__________________ TestCORSConfiguration.test_options_request __________________
tests/test_queue_manager.py:509: in test_options_request
    with patch('main.redis_client', mock_redis_client):
/usr/lib/python3.12/unittest/mock.py:1442: in __enter__
    self.target = self.getter()
/usr/lib/python3.12/pkgutil.py:513: in resolve_name
    mod = importlib.import_module(modname)
/usr/lib/python3.12/importlib/__init__.py:90: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
<frozen importlib._bootstrap>:1387: in _gcd_import
    ???
<frozen importlib._bootstrap>:1360: in _find_and_load
    ???
<frozen importlib._bootstrap>:1331: in _find_and_load_unlocked
    ???
<frozen importlib._bootstrap>:935: in _load_unlocked
    ???
<frozen importlib._bootstrap_external>:995: in exec_module
    ???
<frozen importlib._bootstrap>:488: in _call_with_frames_removed
    ???
queue-manager/main.py:19: in <module>
    from config import settings
queue-manager/config.py:51: in <module>
    settings = Settings()
test_venv/lib/python3.12/site-packages/pydantic_settings/main.py:194: in __init__
    super().__init__(
E   pydantic_core._pydantic_core.ValidationError: 23 validation errors for Settings
E   domain
E     Extra inputs are not permitted [type=extra_forbidden, input_value='comfy.ahelme.net', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   ssl_cert_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='/etc/letsencrypt/live/ahelme.net/fullchain.pem', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   ssl_key_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='/etc/letsencrypt/live/ahelme.net/privkey.pem', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   verda_instance_type
E     Extra inputs are not permitted [type=extra_forbidden, input_value='h100-sxm5', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   verda_region
E     Extra inputs are not permitted [type=extra_forbidden, input_value='eu-central', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   num_users
E     Extra inputs are not permitted [type=extra_forbidden, input_value='20', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   user_id_prefix
E     Extra inputs are not permitted [type=extra_forbidden, input_value='user', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   worker_gpu_memory_limit
E     Extra inputs are not permitted [type=extra_forbidden, input_value='70G', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   worker_restart_policy
E     Extra inputs are not permitted [type=extra_forbidden, input_value='unless-stopped', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   redis_persistence
E     Extra inputs are not permitted [type=extra_forbidden, input_value='yes', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   queue_manager_host
E     Extra inputs are not permitted [type=extra_forbidden, input_value='queue-manager', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   queue_manager_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='3000', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   queue_manager_log_level
E     Extra inputs are not permitted [type=extra_forbidden, input_value='INFO', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   admin_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='8080', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   admin_username
E     Extra inputs are not permitted [type=extra_forbidden, input_value='admin', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   admin_password
E     Extra inputs are not permitted [type=extra_forbidden, input_value='change_me_secure_password', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   nginx_http_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='80', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   nginx_https_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='443', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   models_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='./data/models', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   workflows_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='./data/workflows', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   comfyui_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='8188', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   comfyui_version
E     Extra inputs are not permitted [type=extra_forbidden, input_value='latest', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   verbose_logs
E     Extra inputs are not permitted [type=extra_forbidden, input_value='false', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
_________________ TestErrorHandling.test_invalid_request_body __________________
tests/test_queue_manager.py:526: in test_invalid_request_body
    with patch('main.redis_client', mock_redis_client):
/usr/lib/python3.12/unittest/mock.py:1442: in __enter__
    self.target = self.getter()
/usr/lib/python3.12/pkgutil.py:513: in resolve_name
    mod = importlib.import_module(modname)
/usr/lib/python3.12/importlib/__init__.py:90: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
<frozen importlib._bootstrap>:1387: in _gcd_import
    ???
<frozen importlib._bootstrap>:1360: in _find_and_load
    ???
<frozen importlib._bootstrap>:1331: in _find_and_load_unlocked
    ???
<frozen importlib._bootstrap>:935: in _load_unlocked
    ???
<frozen importlib._bootstrap_external>:995: in exec_module
    ???
<frozen importlib._bootstrap>:488: in _call_with_frames_removed
    ???
queue-manager/main.py:19: in <module>
    from config import settings
queue-manager/config.py:51: in <module>
    settings = Settings()
test_venv/lib/python3.12/site-packages/pydantic_settings/main.py:194: in __init__
    super().__init__(
E   pydantic_core._pydantic_core.ValidationError: 23 validation errors for Settings
E   domain
E     Extra inputs are not permitted [type=extra_forbidden, input_value='comfy.ahelme.net', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   ssl_cert_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='/etc/letsencrypt/live/ahelme.net/fullchain.pem', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   ssl_key_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='/etc/letsencrypt/live/ahelme.net/privkey.pem', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   verda_instance_type
E     Extra inputs are not permitted [type=extra_forbidden, input_value='h100-sxm5', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   verda_region
E     Extra inputs are not permitted [type=extra_forbidden, input_value='eu-central', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   num_users
E     Extra inputs are not permitted [type=extra_forbidden, input_value='20', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   user_id_prefix
E     Extra inputs are not permitted [type=extra_forbidden, input_value='user', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   worker_gpu_memory_limit
E     Extra inputs are not permitted [type=extra_forbidden, input_value='70G', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   worker_restart_policy
E     Extra inputs are not permitted [type=extra_forbidden, input_value='unless-stopped', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   redis_persistence
E     Extra inputs are not permitted [type=extra_forbidden, input_value='yes', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   queue_manager_host
E     Extra inputs are not permitted [type=extra_forbidden, input_value='queue-manager', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   queue_manager_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='3000', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   queue_manager_log_level
E     Extra inputs are not permitted [type=extra_forbidden, input_value='INFO', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   admin_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='8080', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   admin_username
E     Extra inputs are not permitted [type=extra_forbidden, input_value='admin', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   admin_password
E     Extra inputs are not permitted [type=extra_forbidden, input_value='change_me_secure_password', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   nginx_http_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='80', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   nginx_https_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='443', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   models_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='./data/models', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   workflows_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='./data/workflows', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   comfyui_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='8188', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   comfyui_version
E     Extra inputs are not permitted [type=extra_forbidden, input_value='latest', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   verbose_logs
E     Extra inputs are not permitted [type=extra_forbidden, input_value='false', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
________________ TestErrorHandling.test_missing_required_fields ________________
tests/test_queue_manager.py:538: in test_missing_required_fields
    with patch('main.redis_client', mock_redis_client):
/usr/lib/python3.12/unittest/mock.py:1442: in __enter__
    self.target = self.getter()
/usr/lib/python3.12/pkgutil.py:513: in resolve_name
    mod = importlib.import_module(modname)
/usr/lib/python3.12/importlib/__init__.py:90: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
<frozen importlib._bootstrap>:1387: in _gcd_import
    ???
<frozen importlib._bootstrap>:1360: in _find_and_load
    ???
<frozen importlib._bootstrap>:1331: in _find_and_load_unlocked
    ???
<frozen importlib._bootstrap>:935: in _load_unlocked
    ???
<frozen importlib._bootstrap_external>:995: in exec_module
    ???
<frozen importlib._bootstrap>:488: in _call_with_frames_removed
    ???
queue-manager/main.py:19: in <module>
    from config import settings
queue-manager/config.py:51: in <module>
    settings = Settings()
test_venv/lib/python3.12/site-packages/pydantic_settings/main.py:194: in __init__
    super().__init__(
E   pydantic_core._pydantic_core.ValidationError: 23 validation errors for Settings
E   domain
E     Extra inputs are not permitted [type=extra_forbidden, input_value='comfy.ahelme.net', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   ssl_cert_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='/etc/letsencrypt/live/ahelme.net/fullchain.pem', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   ssl_key_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='/etc/letsencrypt/live/ahelme.net/privkey.pem', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   verda_instance_type
E     Extra inputs are not permitted [type=extra_forbidden, input_value='h100-sxm5', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   verda_region
E     Extra inputs are not permitted [type=extra_forbidden, input_value='eu-central', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   num_users
E     Extra inputs are not permitted [type=extra_forbidden, input_value='20', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   user_id_prefix
E     Extra inputs are not permitted [type=extra_forbidden, input_value='user', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   worker_gpu_memory_limit
E     Extra inputs are not permitted [type=extra_forbidden, input_value='70G', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   worker_restart_policy
E     Extra inputs are not permitted [type=extra_forbidden, input_value='unless-stopped', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   redis_persistence
E     Extra inputs are not permitted [type=extra_forbidden, input_value='yes', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   queue_manager_host
E     Extra inputs are not permitted [type=extra_forbidden, input_value='queue-manager', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   queue_manager_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='3000', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   queue_manager_log_level
E     Extra inputs are not permitted [type=extra_forbidden, input_value='INFO', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   admin_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='8080', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   admin_username
E     Extra inputs are not permitted [type=extra_forbidden, input_value='admin', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   admin_password
E     Extra inputs are not permitted [type=extra_forbidden, input_value='change_me_secure_password', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   nginx_http_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='80', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   nginx_https_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='443', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   models_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='./data/models', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   workflows_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='./data/workflows', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   comfyui_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='8188', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   comfyui_version
E     Extra inputs are not permitted [type=extra_forbidden, input_value='latest', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   verbose_logs
E     Extra inputs are not permitted [type=extra_forbidden, input_value='false', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
__________________ TestErrorHandling.test_method_not_allowed ___________________
tests/test_queue_manager.py:550: in test_method_not_allowed
    with patch('main.redis_client', mock_redis_client):
/usr/lib/python3.12/unittest/mock.py:1442: in __enter__
    self.target = self.getter()
/usr/lib/python3.12/pkgutil.py:513: in resolve_name
    mod = importlib.import_module(modname)
/usr/lib/python3.12/importlib/__init__.py:90: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
<frozen importlib._bootstrap>:1387: in _gcd_import
    ???
<frozen importlib._bootstrap>:1360: in _find_and_load
    ???
<frozen importlib._bootstrap>:1331: in _find_and_load_unlocked
    ???
<frozen importlib._bootstrap>:935: in _load_unlocked
    ???
<frozen importlib._bootstrap_external>:995: in exec_module
    ???
<frozen importlib._bootstrap>:488: in _call_with_frames_removed
    ???
queue-manager/main.py:19: in <module>
    from config import settings
queue-manager/config.py:51: in <module>
    settings = Settings()
test_venv/lib/python3.12/site-packages/pydantic_settings/main.py:194: in __init__
    super().__init__(
E   pydantic_core._pydantic_core.ValidationError: 23 validation errors for Settings
E   domain
E     Extra inputs are not permitted [type=extra_forbidden, input_value='comfy.ahelme.net', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   ssl_cert_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='/etc/letsencrypt/live/ahelme.net/fullchain.pem', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   ssl_key_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='/etc/letsencrypt/live/ahelme.net/privkey.pem', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   verda_instance_type
E     Extra inputs are not permitted [type=extra_forbidden, input_value='h100-sxm5', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   verda_region
E     Extra inputs are not permitted [type=extra_forbidden, input_value='eu-central', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   num_users
E     Extra inputs are not permitted [type=extra_forbidden, input_value='20', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   user_id_prefix
E     Extra inputs are not permitted [type=extra_forbidden, input_value='user', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   worker_gpu_memory_limit
E     Extra inputs are not permitted [type=extra_forbidden, input_value='70G', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   worker_restart_policy
E     Extra inputs are not permitted [type=extra_forbidden, input_value='unless-stopped', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   redis_persistence
E     Extra inputs are not permitted [type=extra_forbidden, input_value='yes', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   queue_manager_host
E     Extra inputs are not permitted [type=extra_forbidden, input_value='queue-manager', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   queue_manager_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='3000', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   queue_manager_log_level
E     Extra inputs are not permitted [type=extra_forbidden, input_value='INFO', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   admin_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='8080', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   admin_username
E     Extra inputs are not permitted [type=extra_forbidden, input_value='admin', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   admin_password
E     Extra inputs are not permitted [type=extra_forbidden, input_value='change_me_secure_password', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   nginx_http_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='80', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   nginx_https_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='443', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   models_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='./data/models', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   workflows_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='./data/workflows', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   comfyui_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='8188', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   comfyui_version
E     Extra inputs are not permitted [type=extra_forbidden, input_value='latest', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   verbose_logs
E     Extra inputs are not permitted [type=extra_forbidden, input_value='false', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
__________ TestRedisClientConnection.test_redis_client_initialization __________
tests/test_redis_client.py:31: in test_redis_client_initialization
    with patch('redis_client.Redis', return_value=mock_redis):
/usr/lib/python3.12/unittest/mock.py:1442: in __enter__
    self.target = self.getter()
/usr/lib/python3.12/pkgutil.py:513: in resolve_name
    mod = importlib.import_module(modname)
/usr/lib/python3.12/importlib/__init__.py:90: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
<frozen importlib._bootstrap>:1387: in _gcd_import
    ???
<frozen importlib._bootstrap>:1360: in _find_and_load
    ???
<frozen importlib._bootstrap>:1331: in _find_and_load_unlocked
    ???
<frozen importlib._bootstrap>:935: in _load_unlocked
    ???
<frozen importlib._bootstrap_external>:995: in exec_module
    ???
<frozen importlib._bootstrap>:488: in _call_with_frames_removed
    ???
queue-manager/redis_client.py:11: in <module>
    from config import settings
queue-manager/config.py:51: in <module>
    settings = Settings()
test_venv/lib/python3.12/site-packages/pydantic_settings/main.py:194: in __init__
    super().__init__(
E   pydantic_core._pydantic_core.ValidationError: 23 validation errors for Settings
E   domain
E     Extra inputs are not permitted [type=extra_forbidden, input_value='comfy.ahelme.net', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   ssl_cert_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='/etc/letsencrypt/live/ahelme.net/fullchain.pem', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   ssl_key_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='/etc/letsencrypt/live/ahelme.net/privkey.pem', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   verda_instance_type
E     Extra inputs are not permitted [type=extra_forbidden, input_value='h100-sxm5', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   verda_region
E     Extra inputs are not permitted [type=extra_forbidden, input_value='eu-central', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   num_users
E     Extra inputs are not permitted [type=extra_forbidden, input_value='20', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   user_id_prefix
E     Extra inputs are not permitted [type=extra_forbidden, input_value='user', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   worker_gpu_memory_limit
E     Extra inputs are not permitted [type=extra_forbidden, input_value='70G', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   worker_restart_policy
E     Extra inputs are not permitted [type=extra_forbidden, input_value='unless-stopped', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   redis_persistence
E     Extra inputs are not permitted [type=extra_forbidden, input_value='yes', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   queue_manager_host
E     Extra inputs are not permitted [type=extra_forbidden, input_value='queue-manager', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   queue_manager_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='3000', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   queue_manager_log_level
E     Extra inputs are not permitted [type=extra_forbidden, input_value='INFO', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   admin_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='8080', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   admin_username
E     Extra inputs are not permitted [type=extra_forbidden, input_value='admin', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   admin_password
E     Extra inputs are not permitted [type=extra_forbidden, input_value='change_me_secure_password', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   nginx_http_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='80', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   nginx_https_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='443', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   models_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='./data/models', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   workflows_path
E     Extra inputs are not permitted [type=extra_forbidden, input_value='./data/workflows', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   comfyui_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='8188', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   comfyui_version
E     Extra inputs are not permitted [type=extra_forbidden, input_value='latest', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   verbose_logs
E     Extra inputs are not permitted [type=extra_forbidden, input_value='false', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
=============================== warnings summary ===============================
queue-manager/models.py:44
  /home/dev/projects/comfyui/tests/../queue-manager/models.py:44: PydanticDeprecatedSince20: Support for class-based `config` is deprecated, use ConfigDict instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/
    class Job(BaseModel):

test_venv/lib/python3.12/site-packages/pydantic/_internal/_generate_schema.py:319
test_venv/lib/python3.12/site-packages/pydantic/_internal/_generate_schema.py:319
test_venv/lib/python3.12/site-packages/pydantic/_internal/_generate_schema.py:319
  /home/dev/projects/comfyui/test_venv/lib/python3.12/site-packages/pydantic/_internal/_generate_schema.py:319: PydanticDeprecatedSince20: `json_encoders` is deprecated. See https://docs.pydantic.dev/2.12/concepts/serialization/#custom-serializers for alternatives. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/
    warnings.warn(

tests/conftest.py:30
  /home/dev/projects/comfyui/tests/conftest.py:30: PydanticDeprecatedSince20: Support for class-based `config` is deprecated, use ConfigDict instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/
    class Settings(BaseSettings):

tests/test_queue_manager.py: 33 warnings
tests/test_redis_client.py: 31 warnings
tests/test_websocket_manager.py: 23 warnings
  /home/dev/projects/comfyui/tests/../queue-manager/config.py:8: PydanticDeprecatedSince20: Support for class-based `config` is deprecated, use ConfigDict instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/
    class Settings(BaseSettings):

tests/test_queue_manager.py::TestCancelJobEndpoint::test_cancel_running_job
  /home/dev/projects/comfyui/tests/test_queue_manager.py:309: PydanticDeprecatedSince20: The `copy` method is deprecated; use `model_copy` instead. See the docstring of `BaseModel.copy` for details about how to handle `include` and `exclude`. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/
    running_job = sample_job.copy()

tests/test_queue_manager.py::TestCancelJobEndpoint::test_cancel_completed_job_error
  /home/dev/projects/comfyui/tests/conftest.py:253: PydanticDeprecatedSince20: The `copy` method is deprecated; use `model_copy` instead. See the docstring of `BaseModel.copy` for details about how to handle `include` and `exclude`. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/
    job = sample_job.copy()

tests/test_queue_manager.py::TestPriorityUpdateEndpoint::test_update_priority_running_job_error
  /home/dev/projects/comfyui/tests/test_queue_manager.py:368: PydanticDeprecatedSince20: The `copy` method is deprecated; use `model_copy` instead. See the docstring of `BaseModel.copy` for details about how to handle `include` and `exclude`. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/
    running_job = sample_job.copy()

tests/test_worker.py::TestWorkerJobPolling::test_worker_poll_gets_next_job
  /home/dev/projects/comfyui/test_venv/lib/python3.12/site-packages/pytest_asyncio/plugin.py:783: DeprecationWarning: The event_loop fixture provided by pytest-asyncio has been redefined in
  /home/dev/projects/comfyui/tests/conftest.py:72
  Replacing the event_loop fixture with a custom implementation is deprecated
  and will lead to errors in the future.
  If you want to request an asyncio event loop with a scope other than function
  scope, use the "scope" argument to the asyncio mark when marking the tests.
  If you want to return different types of event loops, use the event_loop_policy
  fixture.
  
    warnings.warn(

-- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html
=========================== short test summary info ============================
FAILED tests/test_queue_manager.py::TestHealthEndpoint::test_health_check_healthy
FAILED tests/test_queue_manager.py::TestHealthEndpoint::test_health_check_unhealthy
FAILED tests/test_queue_manager.py::TestHealthEndpoint::test_health_check_response_format
FAILED tests/test_queue_manager.py::TestQueueStatusEndpoint::test_queue_status_success
FAILED tests/test_queue_manager.py::TestQueueStatusEndpoint::test_queue_status_error_handling
FAILED tests/test_queue_manager.py::TestJobSubmissionEndpoint::test_submit_job_success
FAILED tests/test_queue_manager.py::TestJobSubmissionEndpoint::test_submit_job_invalid_user_id
FAILED tests/test_queue_manager.py::TestJobSubmissionEndpoint::test_submit_job_empty_workflow
FAILED tests/test_queue_manager.py::TestJobSubmissionEndpoint::test_submit_job_queue_full
FAILED tests/test_queue_manager.py::TestGetJobEndpoint::test_get_job_success
FAILED tests/test_queue_manager.py::TestGetJobEndpoint::test_get_job_not_found
FAILED tests/test_queue_manager.py::TestListJobsEndpoint::test_list_all_jobs
FAILED tests/test_queue_manager.py::TestListJobsEndpoint::test_list_user_jobs
FAILED tests/test_queue_manager.py::TestListJobsEndpoint::test_list_jobs_with_limit
FAILED tests/test_queue_manager.py::TestListJobsEndpoint::test_list_jobs_with_status_filter
FAILED tests/test_queue_manager.py::TestCancelJobEndpoint::test_cancel_pending_job
FAILED tests/test_queue_manager.py::TestCancelJobEndpoint::test_cancel_running_job
FAILED tests/test_queue_manager.py::TestCancelJobEndpoint::test_cancel_completed_job_error
FAILED tests/test_queue_manager.py::TestCancelJobEndpoint::test_cancel_nonexistent_job
FAILED tests/test_queue_manager.py::TestPriorityUpdateEndpoint::test_update_job_priority_success
FAILED tests/test_queue_manager.py::TestPriorityUpdateEndpoint::test_update_priority_running_job_error
FAILED tests/test_queue_manager.py::TestPriorityUpdateEndpoint::test_update_priority_nonexistent_job
FAILED tests/test_queue_manager.py::TestWorkerEndpoints::test_get_next_job_success
FAILED tests/test_queue_manager.py::TestWorkerEndpoints::test_get_next_job_empty_queue
FAILED tests/test_queue_manager.py::TestWorkerEndpoints::test_complete_job_success
FAILED tests/test_queue_manager.py::TestWorkerEndpoints::test_complete_job_not_found
FAILED tests/test_queue_manager.py::TestWorkerEndpoints::test_fail_job_success
FAILED tests/test_queue_manager.py::TestWorkerEndpoints::test_fail_job_invalid_error_message
FAILED tests/test_queue_manager.py::TestCORSConfiguration::test_cors_allowed_origin
FAILED tests/test_queue_manager.py::TestCORSConfiguration::test_options_request
FAILED tests/test_queue_manager.py::TestErrorHandling::test_invalid_request_body
FAILED tests/test_queue_manager.py::TestErrorHandling::test_missing_required_fields
FAILED tests/test_queue_manager.py::TestErrorHandling::test_method_not_allowed
FAILED tests/test_redis_client.py::TestRedisClientConnection::test_redis_client_initialization
ERROR tests/test_redis_client.py::TestRedisClientConnection::test_ping_success
ERROR tests/test_redis_client.py::TestRedisClientConnection::test_ping_failure
ERROR tests/test_redis_client.py::TestJobCRUDOperations::test_create_job_success
ERROR tests/test_redis_client.py::TestJobCRUDOperations::test_create_job_redis_error
ERROR tests/test_redis_client.py::TestJobCRUDOperations::test_get_job_success
ERROR tests/test_redis_client.py::TestJobCRUDOperations::test_get_job_not_found
ERROR tests/test_redis_client.py::TestJobCRUDOperations::test_get_job_invalid_json
ERROR tests/test_redis_client.py::TestJobCRUDOperations::test_update_job_success
ERROR tests/test_redis_client.py::TestJobCRUDOperations::test_delete_job_success
ERROR tests/test_redis_client.py::TestJobCRUDOperations::test_delete_job_not_found
ERROR tests/test_redis_client.py::TestQueueOperations::test_get_queue_depth
ERROR tests/test_redis_client.py::TestQueueOperations::test_get_queue_depth_error
ERROR tests/test_redis_client.py::TestQueueOperations::test_get_all_queue_stats
ERROR tests/test_redis_client.py::TestQueueOperations::test_get_pending_jobs
ERROR tests/test_redis_client.py::TestQueueOperations::test_get_user_jobs - p...
ERROR tests/test_redis_client.py::TestJobStateTransitions::test_move_job_to_running
ERROR tests/test_redis_client.py::TestJobStateTransitions::test_move_job_to_completed
ERROR tests/test_redis_client.py::TestJobStateTransitions::test_move_job_to_failed
ERROR tests/test_redis_client.py::TestJobStateTransitions::test_move_job_nonexistent
ERROR tests/test_redis_client.py::TestQueueModes::test_get_next_job_fifo_mode
ERROR tests/test_redis_client.py::TestQueueModes::test_get_next_job_fifo_no_jobs
ERROR tests/test_redis_client.py::TestQueueModes::test_get_next_job_priority_mode
ERROR tests/test_redis_client.py::TestWorkerHeartbeat::test_update_worker_heartbeat
ERROR tests/test_redis_client.py::TestWorkerHeartbeat::test_is_worker_alive_true
ERROR tests/test_redis_client.py::TestWorkerHeartbeat::test_is_worker_alive_false
ERROR tests/test_redis_client.py::TestPriorityScoring::test_priority_score_ordering
ERROR tests/test_redis_client.py::TestCleanupOperations::test_cleanup_stale_jobs
ERROR tests/test_redis_client.py::TestPubSubOperations::test_publish_event - ...
ERROR tests/test_redis_client.py::TestPubSubOperations::test_subscribe_to_updates
ERROR tests/test_redis_client.py::TestAtomicOperations::test_move_job_atomic
ERROR tests/test_websocket_manager.py::TestWebSocketConnectionManagement::test_connect_new_websocket
ERROR tests/test_websocket_manager.py::TestWebSocketConnectionManagement::test_disconnect_websocket
ERROR tests/test_websocket_manager.py::TestWebSocketConnectionManagement::test_disconnect_nonexistent_websocket
ERROR tests/test_websocket_manager.py::TestWebSocketConnectionManagement::test_multiple_connections
ERROR tests/test_websocket_manager.py::TestBroadcasting::test_broadcast_to_all_clients
ERROR tests/test_websocket_manager.py::TestBroadcasting::test_broadcast_message_format
ERROR tests/test_websocket_manager.py::TestBroadcasting::test_broadcast_to_empty_connections
ERROR tests/test_websocket_manager.py::TestBroadcasting::test_broadcast_handles_disconnected_client
ERROR tests/test_websocket_manager.py::TestMessageTypes::test_broadcast_job_status_update
ERROR tests/test_websocket_manager.py::TestMessageTypes::test_broadcast_queue_status_update
ERROR tests/test_websocket_manager.py::TestMessageTypes::test_broadcast_worker_status_update
ERROR tests/test_websocket_manager.py::TestPubSubListener::test_listener_initialization
ERROR tests/test_websocket_manager.py::TestPubSubListener::test_listener_reconnection_logic
ERROR tests/test_websocket_manager.py::TestMessageBroadcastFromPubSub::test_pubsub_message_forwarding
ERROR tests/test_websocket_manager.py::TestConnectionErrorHandling::test_broadcast_with_send_error
ERROR tests/test_websocket_manager.py::TestConnectionErrorHandling::test_connection_cleanup
ERROR tests/test_websocket_manager.py::TestConcurrency::test_concurrent_connections
ERROR tests/test_websocket_manager.py::TestConcurrency::test_concurrent_broadcasts
ERROR tests/test_websocket_manager.py::TestConcurrency::test_concurrent_connect_disconnect
ERROR tests/test_websocket_manager.py::TestPubSubListenerErrorHandling::test_listener_decode_error
ERROR tests/test_websocket_manager.py::TestPubSubListenerErrorHandling::test_listener_closes_pubsub_on_exit
ERROR tests/test_websocket_manager.py::TestWebSocketMessageStructure::test_message_with_required_fields
ERROR tests/test_websocket_manager.py::TestWebSocketMessageStructure::test_message_with_empty_data
============ 34 failed, 74 passed, 96 warnings, 53 errors in 11.87s ============
